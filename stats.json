{
  "errors": [],
  "warnings": [],
  "version": "1.12.13",
  "hash": "0412310eb9bfb1c1eed9",
  "time": 22497,
  "publicPath": "",
  "assetsByChunkName": {
    "main": "bundle.js"
  },
  "assets": [
    {
      "name": "bundle.js",
      "size": 522445,
      "chunks": [
        0
      ],
      "chunkNames": [
        "main"
      ],
      "emitted": true
    }
  ],
  "chunks": [
    {
      "id": 0,
      "rendered": true,
      "initial": true,
      "entry": true,
      "extraAsync": false,
      "size": 212062,
      "names": [
        "main"
      ],
      "files": [
        "bundle.js"
      ],
      "hash": "da61af6041b9d057a2ce",
      "parents": [],
      "modules": [
        {
          "id": 0,
          "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/main.js",
          "name": "./app/client/main.js",
          "index": 0,
          "index2": 41,
          "size": 11896,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "assets": [],
          "issuer": null,
          "profile": {
            "factory": 101,
            "building": 4075
          },
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "reasons": [],
          "source": "'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _assets = require('./assets');\n\nvar _assets2 = _interopRequireDefault(_assets);\n\nvar _audio = require('./audio');\n\nvar _game = require('./game');\n\nvar _game2 = _interopRequireDefault(_game);\n\nvar _startscreen = require('./startscreen');\n\nvar _startscreen2 = _interopRequireDefault(_startscreen);\n\nvar _endscreen = require('./endscreen');\n\nvar _endscreen2 = _interopRequireDefault(_endscreen);\n\nvar _gamemap = require('../shared/gamemap');\n\nvar _gamemap2 = _interopRequireDefault(_gamemap);\n\nvar _maps = require('../shared/maps');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar MILLISECONDS_PER_LOGIC_UPDATE = 5;\nvar MILLISECONDS_PER_RENDER_UPDATE = 15;\n\n/**\n * The central game object for most of the logic.\n */\n\nvar Main = function () {\n  /**\n   * Contruct the game.\n   * Takes as input the images object as produced by images.js\n   */\n\n  function Main(images) {\n    var _this = this;\n\n    _classCallCheck(this, Main);\n\n    this.mode = 'start';\n\n    this.canvas = document.getElementById('canvas');\n    this.context = this.canvas.getContext('webgl');\n\n    this.canvas.width = 1200;\n    this.canvas.height = 500;\n\n    this.width = this.canvas.width;\n    this.height = this.canvas.height;\n\n    this.images = images;\n\n    this.game = new _game2.default(this.images, (0, _maps.createMap)(0), \"0\");\n    this.startscreen = new _startscreen2.default(images, this.game);\n    this.endscreen = null;\n\n    document.addEventListener('keydown', function (event) {\n      if (_this.mode === 'game') {\n        _this.game.keydown(event, _this.pressedKeys);\n      }\n    });\n\n    document.addEventListener('keyup', function (event) {\n      if (_this.mode === 'game') {\n        _this.game.keyup(event, _this.pressedKeys);\n      }\n    });\n\n    // Ignore right click events on the canvas\n    this.canvas.addEventListener('contextmenu', function (event) {\n      event.preventDefault();\n    });\n\n    this.canvas.addEventListener('mousedown', function (event) {\n      if (_this.mode === 'game') {\n        _this.game.mousedown(event, _this.sendMessage.bind(_this));\n      } else if (_this.mode === 'start') {\n        _this.startscreen.mousedown(event, _this.sendMessage.bind(_this));\n      } else if (_this.mode === 'end') {\n        _this.mode = _this.endscreen.mousedown(event, _this.sendMessage.bind(_this));\n      }\n    });\n\n    this.canvas.addEventListener('mouseup', function (event) {\n      if (_this.mode === 'game') {\n        _this.game.mouseup(event, _this.sendMessage.bind(_this));\n      }\n    });\n\n    this.canvas.addEventListener('mousemove', function (event) {\n      if (_this.mode === 'game') {\n        _this.game.mousemove(event);\n      } else if (_this.mode === 'start') {\n        _this.startscreen.mousemove(event);\n      }\n      _this.render();\n    });\n\n    this.messageHandlerMap = {\n      'AddEntity': function AddEntity(m) {\n        return _this.game._addEntity(m);\n      },\n      'UpdateEntity': function UpdateEntity(m) {\n        return _this.game._updateEntity(m);\n      },\n      'RemoveEntity': function RemoveEntity(m) {\n        return _this.game._removeEntity(m);\n      },\n      'StartGame': function StartGame(m) {\n        return _this._startGame(m);\n      },\n      'AssignTeam': function AssignTeam(m) {\n        return _this.startscreen._assignTeam(m);\n      },\n      'UpdateReadyStates': function UpdateReadyStates(m) {\n        return _this.startscreen._updateReadyStates(m);\n      },\n      'UpdateMap': function UpdateMap(m) {\n        return _this._updateMap(m);\n      },\n      'GameOver': function GameOver(m) {\n        return _this._gameOverHandler(m);\n      },\n      'PlaySound': function PlaySound(m) {\n        return _this._playSound(m);\n      },\n      'MultiMessage': function MultiMessage(m) {\n        return _this._handleMulti(m);\n      }\n    };\n\n    this.setupGL();\n\n    this._startRenderLoop();\n  }\n\n  _createClass(Main, [{\n    key: 'setupGL',\n    value: function setupGL() {\n      var program = this.context.createProgram();\n\n      var vertexSource = '\\n      attribute vec3 position;\\n      attribute vec2 a_texcoord;\\n\\n      varying vec2 v_texcoord;\\n\\n      uniform vec2 screen_size;\\n\\n      void main()\\n      {\\n        v_texcoord = a_texcoord;\\n        vec2 temp = vec2(2, -2) * position.xy / screen_size + vec2(-1, 1);\\n        gl_Position = vec4(temp, position.z, 1.0);\\n      }\\n    ';\n\n      var fragmentSource = '\\n      precision mediump float;\\n      uniform sampler2D testImage;\\n\\n      varying vec2 v_texcoord;\\n\\n      void main()\\n      {\\n        gl_FragColor = texture2D(testImage, v_texcoord);\\n      }\\n    ';\n\n      this.context.viewport(0, 0, this.width, this.height);\n\n      var vertex = this.context.createShader(this.context.VERTEX_SHADER);\n      this.context.shaderSource(vertex, vertexSource);\n      this.context.compileShader(vertex);\n      this.context.attachShader(program, vertex);\n\n      var fragment = this.context.createShader(this.context.FRAGMENT_SHADER);\n      this.context.shaderSource(fragment, fragmentSource);\n      this.context.compileShader(fragment);\n      this.context.attachShader(program, fragment);\n\n      this.context.linkProgram(program);\n      this.context.validateProgram(program);\n      this.context.useProgram(program);\n\n      this.program = program;\n\n      this.texture = this.context.createTexture();\n\n      this.context.activeTexture(this.context.TEXTURE0);\n      this.context.bindTexture(this.context.TEXTURE_2D, this.texture);\n      this.context.texImage2D(this.context.TEXTURE_2D, 0, this.context.RGBA, this.context.RGBA, this.context.UNSIGNED_BYTE, this.images.pixelPng);\n\n      this.context.texParameteri(this.context.TEXTURE_2D, this.context.TEXTURE_MAG_FILTER, this.context.NEAREST);\n      this.context.texParameteri(this.context.TEXTURE_2D, this.context.TEXTURE_MIN_FILTER, this.context.NEAREST);\n\n      var validateStatus = this.context.getProgramParameter(program, this.context.VALIDATE_STATUS);\n      if (validateStatus === false) {\n        this.bad = true;\n        console.log('vertex', this.context.getShaderInfoLog(vertex));\n        console.log('fragment', this.context.getShaderInfoLog(fragment));\n        console.log('program', this.context.getProgramInfoLog(program));\n      } else {\n        this.bad = false;\n\n        var buffer = this.context.createBuffer();\n        this.context.bindBuffer(this.context.ARRAY_BUFFER, buffer);\n\n        var positionLocation = this.context.getAttribLocation(this.program, 'position');\n        var texLocation = this.context.getAttribLocation(this.program, 'a_texcoord');\n\n        this.context.enableVertexAttribArray(positionLocation);\n        this.context.vertexAttribPointer(positionLocation, 3, this.context.FLOAT, false, 4 * 5, 0);\n\n        this.context.enableVertexAttribArray(texLocation);\n        this.context.vertexAttribPointer(texLocation, 2, this.context.FLOAT, false, 4 * 5, 3 * 4);\n\n        var screenSizeLocation = this.context.getUniformLocation(this.program, 'screen_size');\n\n        this.context.uniform2f(screenSizeLocation, this.width, this.height);\n      }\n    }\n  }, {\n    key: 'sendMessage',\n    value: function sendMessage(message) {\n      // console.log('Sending', message);\n      this.ws.send(JSON.stringify(message));\n    }\n\n    /**\n     * Start the game by setting up the render intervals.\n     */\n\n  }, {\n    key: 'start',\n    value: function start() {\n      this.ws = new WebSocket('ws://localhost:3000');\n      this.ws.onmessage = this._onMessage.bind(this);\n    }\n  }, {\n    key: '_handleMulti',\n    value: function _handleMulti(_ref) {\n      var messages = _ref.messages;\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = messages[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var message = _step.value;\n\n          this._handleMessage(message);\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    }\n  }, {\n    key: '_startRenderLoop',\n    value: function _startRenderLoop() {\n      setInterval(this.render.bind(this), MILLISECONDS_PER_RENDER_UPDATE);\n      this.lastUpdate = performance.now();\n    }\n  }, {\n    key: '_playSound',\n    value: function _playSound(_ref2) {\n      var soundId = _ref2.soundId;\n\n      if (!(soundId in this.images)) {\n        console.error(soundId, ' not in this.images');\n      }\n      (0, _audio.createSource)(this.images[soundId]).start(0);\n    }\n  }, {\n    key: '_startGame',\n    value: function _startGame(_ref3) {\n      var initialState = _ref3.initialState;\n      var team = _ref3.team;\n\n      this.game = new _game2.default(this.images, new _gamemap2.default(initialState), team);\n      this.team = team;\n      this.mode = 'game';\n    }\n  }, {\n    key: '_gameOverHandler',\n    value: function _gameOverHandler(_ref4) {\n      var winningTeam = _ref4.winningTeam;\n\n      this.mode = 'end';\n      this.game = null;\n      this.endscreen = new _endscreen2.default(this.images, winningTeam, this.team);\n      this.startscreen = new _startscreen2.default(this.images);\n    }\n  }, {\n    key: '_updateMap',\n    value: function _updateMap(_ref5) {\n      var mapNum = _ref5.mapNum;\n\n      this.startscreen.selectMap(mapNum);\n    }\n  }, {\n    key: '_onMessage',\n    value: function _onMessage(event) {\n      var messageData = JSON.parse(event.data);\n      this._handleMessage(messageData);\n    }\n  }, {\n    key: '_handleMessage',\n    value: function _handleMessage(messageData) {\n      if (messageData.type in this.messageHandlerMap) {\n        this.messageHandlerMap[messageData.type](messageData);\n      } else {\n        console.error('Unknown type: ', messageData.type);\n      }\n    }\n\n    /**\n     * Update the game state when necessary.\n     */\n\n  }, {\n    key: 'update',\n    value: function update(currentTime) {\n      while (currentTime > this.lastUpdate) {\n        this.tick();\n        this.lastUpdate += MILLISECONDS_PER_LOGIC_UPDATE;\n      }\n    }\n\n    /**\n     * Perform a discrete update of the logic.\n     */\n\n  }, {\n    key: 'tick',\n    value: function tick() {\n      if (this.mode === 'game') {\n        this.game.tick();\n      }\n    }\n\n    /**\n     * Render the game. Also performs updates if necessary.\n     */\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var time = performance.now();\n\n      this.update(time);\n\n      if (this.mode === 'game') {\n        this.game.render();\n      } else if (this.mode === 'start') {\n        this.startscreen.render();\n      } else if (this.mode === 'end') {\n        this.endscreen.render();\n      }\n    }\n  }]);\n\n  return Main;\n}();\n\ndocument.addEventListener('DOMContentLoaded', function startCanvas() {\n  (0, _assets2.default)().then(function (images) {\n    var main = new Main(images);\n    window.main = main;\n    main.start();\n  });\n});"
        },
        {
          "id": 1,
          "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/assets.js",
          "name": "./app/client/assets.js",
          "index": 1,
          "index2": 1,
          "size": 2992,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "assets": [],
          "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/main.js",
          "profile": {
            "factory": 91,
            "building": 322,
            "dependencies": 1
          },
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "reasons": [
            {
              "moduleId": 0,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/main.js",
              "module": "./app/client/main.js",
              "moduleName": "./app/client/main.js",
              "type": "cjs require",
              "userRequest": "./assets",
              "loc": "5:14-33"
            }
          ],
          "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = loadAssets;\n\nvar _audio = require('./audio');\n\n// A mapping of image name to image source location.\nvar sources = {\n  ship: 'ship.png',\n  mine: 'mine2.png',\n  shipyard: 'shipyard2.png',\n  money: 'coin2.png',\n  shipskeleton: 'shipskeleton.png',\n  roundshot: 'roundshot.png',\n  chainshot: 'chainshot.png',\n  grapeshot: 'grapeshot.png',\n  shell: 'shell.png',\n  cancelshot: 'cancelshot.png',\n  gunboat: 'gunboat2.png',\n  frigate: 'frigate2.png',\n  galleon: 'galleon2.png',\n  template: 'template.png',\n  stats: 'stats.png',\n  info: 'info.png',\n  exit: 'exit.png',\n  smoke: 'smoke.png',\n  cannon: 'cannon.png',\n  designer: 'designer2.png',\n  targettoggleHull: 'targettoggleHull2.png',\n  targettoggleCannon: 'targettoggleCannon2.png',\n  blueFlag: 'blueFlag.png',\n  redFlag: 'redFlag.png',\n  save: 'save2.png',\n  grayBack: 'grayBack.png',\n  splashscreen: 'splashscreen.png',\n  notready: 'notready2.png',\n  ready: 'ready2.png',\n  restart: 'restart.png',\n  piratesTag: 'piratesTag.png',\n  imperialsTag: 'imperialsTag.png',\n  piratesWinTag: 'piratesWinTag.png',\n  imperialsWinTag: 'imperialsWinTag.png',\n  westindies: 'westindies2.png',\n  tropics: 'tropics2.png',\n  greatlakes: 'greatlakes2.png',\n  island: '1x1islandDot.png',\n\n  test: 'test.mp3',\n\n  testImage: 'test.png',\n  'bensound-epic': 'bensound-epic.mp3',\n\n  'cannon-sound': 'cannon.mp3',\n\n  'pirateCommand': 'pirateCommandVoice.mp3',\n  'empireCommand': 'empireCommandVoice.mp3',\n\n  'pirateMoreGold': 'pirateMoreGold.mp3',\n  'empireMoreGold': 'empireMoreGold.mp3',\n\n  'pixelJson': 'pixelPacker.json',\n  'pixelPng': 'pixelPacker.png'\n};\n\n/**\n * Load a single image.\n * Takes as input the url source and returns a Promise<Image>\n */\nfunction loadImage(source) {\n  var img = new Image();\n\n  return new Promise(function (resolve) {\n    img.onload = function () {\n      resolve(img);\n    };\n    img.src = source;\n  });\n}\n\nfunction loadFile(source) {\n  return new Promise(function (resolve) {\n    var req = new XMLHttpRequest();\n    req.addEventListener('load', function () {\n      resolve(JSON.parse(req.responseText));\n    });\n    req.open('GET', source, true);\n    req.send();\n  });\n}\n\nfunction loadAsset(source) {\n  if (source.endsWith('.png')) {\n    return loadImage(source);\n  } else if (source.endsWith('.json')) {\n    return loadFile(source);\n  }\n\n  return (0, _audio.loadBuffer)(source);\n}\n\n/**\n * Load all the assets in the asset map.\n * Returns a promise for a mapping from image name to the Image objects.\n * See the `sources` map at the top of the file\n */\nfunction loadAssets() {\n  var assetNames = Object.keys(sources);\n  var assetPromises = assetNames.map(function (name) {\n    return loadAsset('/static/' + sources[name]);\n  });\n\n  return Promise.all(assetPromises).then(function (assets) {\n    var result = {};\n    for (var i = 0; i < assetNames.length; i++) {\n      result[assetNames[i]] = assets[i];\n    }\n\n    return result;\n  });\n}"
        },
        {
          "id": 2,
          "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/audio.js",
          "name": "./app/client/audio.js",
          "index": 2,
          "index2": 0,
          "size": 766,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "assets": [],
          "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/main.js",
          "profile": {
            "factory": 97,
            "building": 432
          },
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "reasons": [
            {
              "moduleId": 0,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/main.js",
              "module": "./app/client/main.js",
              "moduleName": "./app/client/main.js",
              "type": "cjs require",
              "userRequest": "./audio",
              "loc": "9:13-31"
            },
            {
              "moduleId": 1,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/assets.js",
              "module": "./app/client/assets.js",
              "moduleName": "./app/client/assets.js",
              "type": "cjs require",
              "userRequest": "./audio",
              "loc": "8:13-31"
            },
            {
              "moduleId": 3,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/game.js",
              "module": "./app/client/game.js",
              "moduleName": "./app/client/game.js",
              "type": "cjs require",
              "userRequest": "./audio",
              "loc": "15:13-31"
            },
            {
              "moduleId": 35,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/startscreen.js",
              "module": "./app/client/startscreen.js",
              "moduleName": "./app/client/startscreen.js",
              "type": "cjs require",
              "userRequest": "./audio",
              "loc": "20:13-31"
            }
          ],
          "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSource = createSource;\nexports.loadBuffer = loadBuffer;\nvar audioContext = new AudioContext();\n\nfunction createSource(buffer) {\n  var source = audioContext.createBufferSource();\n  source.buffer = buffer;\n  source.connect(audioContext.destination);\n  return source;\n}\n\nfunction loadBuffer(url) {\n  return new Promise(function (resolve) {\n    var request = new XMLHttpRequest();\n    request.open('GET', url, true);\n    request.responseType = 'arraybuffer';\n    request.onload = function () {\n      var audioData = request.response;\n      audioContext.decodeAudioData(audioData, function (buffer) {\n        return resolve(buffer);\n      });\n    };\n    request.send();\n  });\n}"
        },
        {
          "id": 3,
          "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/game.js",
          "name": "./app/client/game.js",
          "index": 3,
          "index2": 33,
          "size": 16321,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "assets": [],
          "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/main.js",
          "profile": {
            "factory": 98,
            "building": 2192,
            "dependencies": 3
          },
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "reasons": [
            {
              "moduleId": 0,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/main.js",
              "module": "./app/client/main.js",
              "moduleName": "./app/client/main.js",
              "type": "cjs require",
              "userRequest": "./game",
              "loc": "11:12-29"
            }
          ],
          "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _gui = require('../shared/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _audio = require('./audio');\n\nvar _template = require('../shared/template');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar templates = [(0, _template.defaultTemplate)(), (0, _template.defaultTemplate)(), (0, _template.defaultTemplate)()];\n\nvar Game = function () {\n  /**\n   * Contruct the game.\n   * Takes as input the images object as produced by images.js\n   */\n\n  function Game(images, map, team) {\n    var _this = this;\n\n    _classCallCheck(this, Game);\n\n    this.canvas = document.getElementById('canvas');\n    this.context = this.canvas.getContext('2d');\n\n    this.width = this.canvas.width;\n    this.height = this.canvas.height;\n\n    this.selectionState = {\n      gui: null,\n      map: []\n    };\n\n    this.images = images;\n    this.map = map;\n    this.gui = new _gui2.default(this.width, this.height, templates, this.selectionState, this.map, team);\n\n    var startingCoords = map.getStartingCoords(team);\n    this.centerAround(startingCoords.x, startingCoords.y);\n    this.team = team;\n\n    this.startingDownPosition = null;\n\n    this.actionMap = {\n      37: function _() {\n        return _this.moveGame(-1, 0);\n      },\n      38: function _() {\n        return _this.moveGame(0, -1);\n      },\n      39: function _() {\n        return _this.moveGame(1, 0);\n      },\n      40: function _() {\n        return _this.moveGame(0, 1);\n      }\n    };\n\n    this.pressedKeys = new Set();\n\n    var fogCanvas = document.createElement('canvas');\n    fogCanvas.width = map.width * 50;\n    fogCanvas.height = map.height * 50;\n\n    var visibleCanvas = document.createElement('canvas');\n    visibleCanvas.width = map.width * 50;\n    visibleCanvas.height = map.height * 50;\n\n    // Get the drawing context\n    this.fogContext = fogCanvas.getContext('2d');\n    this.visibleContext = visibleCanvas.getContext('2d');\n  }\n\n  _createClass(Game, [{\n    key: 'centerAround',\n    value: function centerAround(x, y) {\n      this.x = Math.min(Math.max(0, x - (this.width - _gui.GUI_WIDTH) / 2), this.map.width * 50 - this.width + _gui.GUI_WIDTH);\n      this.y = Math.min(Math.max(0, y - this.height / 2), this.map.height * 50 - this.height);\n    }\n  }, {\n    key: 'tick',\n    value: function tick() {\n      for (var key in this.actionMap) {\n        if (this.pressedKeys.has(+key)) {\n          this.actionMap[key]();\n        }\n      }\n    }\n  }, {\n    key: 'moveGame',\n    value: function moveGame(dx, dy) {\n      var newX = this.x + dx;\n      var newY = this.y + dy;\n\n      if (newX < 0 || newY < 0) {\n        return;\n      }\n\n      if (newY + this.height > this.map.height * 50) {\n        return;\n      }\n\n      if (newX + this.width - _gui.GUI_WIDTH > this.map.width * 50) {\n        return;\n      }\n\n      this.x = newX;\n      this.y = newY;\n    }\n  }, {\n    key: '_updateEntity',\n    value: function _updateEntity(_ref) {\n      var data = _ref.data;\n\n      this.map.updateEntity(data);\n    }\n  }, {\n    key: '_addEntity',\n    value: function _addEntity(_ref2) {\n      var data = _ref2.data;\n\n      if (data.type === 'projectile') {\n        (0, _audio.createSource)(this.images['cannon-sound']).start(0);\n      } else if (data.type === 'ship' && this.team === data.team) {\n        if (data.team === '1') {\n          (0, _audio.createSource)(this.images.pirateCommand).start(0);\n        } else {\n          (0, _audio.createSource)(this.images.empireCommand).start(0);\n        }\n      }\n      this.map.addEntity(data);\n    }\n  }, {\n    key: '_removeEntity',\n    value: function _removeEntity(_ref3) {\n      var id = _ref3.id;\n\n      this.map.removeEntity(id);\n    }\n  }, {\n    key: 'updateSelectionState',\n    value: function updateSelectionState(newState) {\n      this.selectionState = newState;\n\n      this.gui.setSelectionState(this.selectionState);\n    }\n  }, {\n    key: 'performMouseUp',\n    value: function performMouseUp(event, sendMessage) {\n      if (event.button === 0) {\n        // Select/Deselect on left click or do button thingy\n\n        var _getRawMouseCords = this.getRawMouseCords(event);\n\n        var rawX = _getRawMouseCords.rawX;\n        var rawY = _getRawMouseCords.rawY;\n\n\n        if (rawX > this.width - _gui.GUI_WIDTH) {\n          this.processGuiLeftMouseClick(rawX, rawY, sendMessage);\n          return;\n        }\n\n        this.processMapLeftMouseClick(rawX, rawY, sendMessage);\n      } else if (event.button === 2) {\n        // Go do stuff on right click,  like move or whatnot\n\n        if (this.selectionState.gui != null) {\n          // Stop gui action with right click\n          this.updateSelectionState(_extends({}, this.selectionState, { gui: null }));\n          return;\n        }\n\n        // Otherwise let's move! (or attack)\n\n        var _getRawMouseCords2 = this.getRawMouseCords(event);\n\n        var rawX = _getRawMouseCords2.rawX;\n        var rawY = _getRawMouseCords2.rawY;\n\n\n        if (rawX > this.width - _gui.GUI_WIDTH) {\n          this.procesGuiRightMouseClick(rawX, rawY, sendMessage);\n          return;\n        }\n\n        if (this.getSelectedMapItems().length !== 0) {\n          this.processRightClickOnMap(rawX, rawY, sendMessage);\n        }\n      }\n    }\n  }, {\n    key: 'mouseup',\n    value: function mouseup(event, sendMessage) {\n      this.performMouseUp(event, sendMessage);\n\n      this.mouseDownRawPosition = null;\n      this.mouseDownGamePosition = null;\n    }\n  }, {\n    key: 'mousedown',\n    value: function mousedown(event) {\n      var _getRawMouseCords3 = this.getRawMouseCords(event);\n\n      var rawX = _getRawMouseCords3.rawX;\n      var rawY = _getRawMouseCords3.rawY;\n\n\n      this.mouseDownRawPosition = { rawX: rawX, rawY: rawY };\n\n      if (rawX < this.width - _gui.GUI_WIDTH) {\n        this.mouseDownGamePosition = this.getMouseGamePosition(rawX, rawY);\n      }\n    }\n  }, {\n    key: 'getMouseGamePosition',\n    value: function getMouseGamePosition(rawX, rawY) {\n      var x = rawX + this.x - 25;\n      var y = rawY + this.y - 25;\n\n      // The mouse coordinates in grid coordinatess.\n      var mouseX = x / 50;\n      var mouseY = y / 50;\n\n      return { mouseX: mouseX, mouseY: mouseY };\n    }\n  }, {\n    key: 'processRightClickOnMap',\n    value: function processRightClickOnMap(rawX, rawY, sendMessage) {\n      var _this2 = this;\n\n      var _getMouseGamePosition = this.getMouseGamePosition(rawX, rawY);\n\n      var mouseX = _getMouseGamePosition.mouseX;\n      var mouseY = _getMouseGamePosition.mouseY;\n\n\n      var item = this.map.getItem(mouseX, mouseY);\n\n      if (item == null) {\n        if (this.getSelectedMapItems().every(function (entity) {\n          return entity.type === 'ship';\n        })) {\n          (function () {\n            // Try to move to that location.\n            var targetLocation = { x: mouseX, y: mouseY };\n            // Move to an empty place\n\n            _this2.getSelectedMapItems().forEach(function (ship) {\n              return sendMessage({ type: 'MoveShip', shipId: ship.id, targetLocation: targetLocation });\n            });\n          })();\n        }\n      } else {\n        if ((item.type === 'ship' || item.type === 'shipyard' || item.type === 'mine' || item.type === 'buildingTemplate') && this.getSelectedMapItems().every(function (entity) {\n          return entity.type === 'ship';\n        }) && item.team !== this.team) {\n          // Trying to attack something\n          this.getSelectedMapItems().forEach(function (ship) {\n            return sendMessage({ type: 'AttackShip', id: ship.id, targetId: item.id });\n          });\n        }\n      }\n    }\n  }, {\n    key: 'mousemove',\n    value: function mousemove(event) {\n      var _getRawMouseCords4 = this.getRawMouseCords(event);\n\n      var rawX = _getRawMouseCords4.rawX;\n      var rawY = _getRawMouseCords4.rawY;\n\n      this.hoveredCoords = { x: rawX, y: rawY };\n    }\n  }, {\n    key: 'getRawMouseCords',\n    value: function getRawMouseCords(event) {\n      var rect = this.canvas.getBoundingClientRect();\n      return {\n        rawX: event.clientX - rect.left,\n        rawY: event.clientY - rect.top\n      };\n    }\n  }, {\n    key: 'procesGuiRightMouseClick',\n    value: function procesGuiRightMouseClick(rawX, rawY, sendMessage) {\n      // In the gui\n      var item = this.gui.getItem(rawX, rawY);\n\n      if (this.gui.displayMode === 'designer') {\n        // Right clicks in the designer do nothing.\n        return;\n      }\n\n      if (item == null) {\n        return;\n      }\n\n      switch (item.getType()) {\n        case 'shiptemplate':\n          this.getSelectedMapItems().forEach(function (shipyard) {\n            return sendMessage({ type: 'CancelShip', templateNumber: item.templateNum, shipyardId: shipyard.id });\n          });\n          break;\n\n        default:\n      }\n    }\n  }, {\n    key: 'processGuiLeftMouseClick',\n    value: function processGuiLeftMouseClick(rawX, rawY, sendMessage) {\n      // In the gui\n      var item = this.gui.getItem(rawX, rawY);\n\n      if (rawX >= this.width - 150 && rawX < this.width - 50 && rawY >= 50 && rawY < 150) {\n        // You are in the mini map;\n        var x = (rawX - (this.width - 150)) * this.map.width * 50 / 100;\n        var y = (rawY - 50) * this.map.height * 50 / 100;\n        this.centerAround(x, y);\n        return;\n      }\n\n      if (this.gui.displayMode === 'designer') {\n        this.gui.designerSelection(item);\n      } else {\n        if (item == null) {\n          return;\n        }\n\n        switch (item.getType()) {\n          case 'shipbuilder':\n            this.gui.displayMode = 'designer';\n            break;\n          case 'shiptemplate':\n            var template = templates[item.templateNum];\n            this.getSelectedMapItems().forEach(function (shipyard) {\n              return sendMessage({ type: 'MakeShip', templateNumber: item.templateNum, shipyardId: shipyard.id, template: template });\n            });\n            break;\n          case 'hull':\n            sendMessage({ type: 'UpdateMode', targetMode: 'hardpoints' });\n            break;\n          case 'hardpoints':\n            sendMessage({ type: 'UpdateMode', targetMode: 'hull' });\n            break;\n\n          case 'mine':\n          case 'shipyard':\n            this.updateSelectionState(_extends({}, this.selectionState, { gui: { type: item.getType(), templateNum: item.getTemplateNum() } }));\n            break;\n\n          default:\n\n        }\n      }\n    }\n  }, {\n    key: 'getSelectedMapItems',\n    value: function getSelectedMapItems() {\n      var _this3 = this;\n\n      return this.selectionState.map.map(function (id) {\n        return _this3.map.getEntity(id);\n      }).filter(function (item) {\n        return item != null;\n      });\n    }\n  }, {\n    key: 'isDragAction',\n    value: function isDragAction(mouseX, mouseY) {\n      if (this.hoveredCoords == null) {\n        return false;\n      }\n\n      if (this.hoveredCoords.x >= this.width - _gui.GUI_WIDTH) {\n        return false;\n      }\n\n      var hoverGameCoords = this.getMouseGamePosition(this.hoveredCoords.x, this.hoveredCoords.y);\n\n      if (this.mouseDownGamePosition == null || this.mouseDownGamePosition.mouseX === mouseX || this.mouseDownGamePosition.mouseY === mouseY) {\n        return false;\n      }\n\n      if (hoverGameCoords.mouseX < this.mouseDownGamePosition.mouseX || hoverGameCoords.mouseY < this.mouseDownGamePosition.mouseY) {\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: 'processMapLeftMouseClick',\n    value: function processMapLeftMouseClick(rawX, rawY, sendMessage) {\n      var x = rawX + this.x - 25;\n      var y = rawY + this.y - 25;\n\n      // The mouse coordinates in grid coordinatess.\n      var mouseX = x / 50;\n      var mouseY = y / 50;\n\n      var mouseRoundedX = Math.round(mouseX);\n      var mouseRoundedY = Math.round(mouseY);\n\n      var item = this.map.getItem(mouseX, mouseY);\n\n      if (this.selectionState.gui != null) {\n        // The gui stuff always has priority.\n        // If an empty tile on an island is selected then add a building\n        if (this.selectionState.gui.type === 'mine' || this.selectionState.gui.type === 'shipyard') {\n          var buildingType = this.selectionState.gui.type;\n          sendMessage({ type: 'MakeBuilding', building: buildingType, x: mouseRoundedX, y: mouseRoundedY });\n          this.updateSelectionState(_extends({}, this.selectionState, { gui: null }));\n        }\n      } else if (this.isDragAction(mouseX, mouseY)) {\n        // Perform a drag select.\n        var hoverGameCoords = this.getMouseGamePosition(this.hoveredCoords.x, this.hoveredCoords.y);\n\n        var items = this.map.getItemsWithinRectangle(this.mouseDownGamePosition.mouseX, this.mouseDownGamePosition.mouseY, hoverGameCoords.mouseX, hoverGameCoords.mouseY);\n\n        this.updateSelectionState(_extends({}, this.selectionState, { map: items }));\n      } else if (item != null) {\n        // Select\n        this.updateSelectionState(_extends({}, this.selectionState, { map: [item.id] }));\n      } else {\n        // Deselect\n        this.updateSelectionState(_extends({}, this.selectionState, { map: [] }));\n      }\n    }\n\n    /**\n     * Render the game. Also performs updates if necessary.\n     */\n\n  }, {\n    key: 'render',\n    value: function render() {\n      this.context.clearRect(0, 0, this.width, this.height);\n\n      this.context.save();\n\n      this.context.translate(25, 25);\n\n      this.context.translate(-this.x, -this.y);\n\n      // Render the map and everything on it.\n      this.map.render(this.context, this.images, this.selectionState, this.fogContext, this.visibleContext, this.team);\n\n      if (this.hoveredCoords && this.hoveredCoords.x < this.width - _gui.GUI_WIDTH && this.selectionState.gui == null) {\n        if (this.mouseDownGamePosition != null) {\n          var hoverGameCoords = this.getMouseGamePosition(this.hoveredCoords.x, this.hoveredCoords.y);\n\n          var dx = hoverGameCoords.mouseX - this.mouseDownGamePosition.mouseX;\n          var dy = hoverGameCoords.mouseY - this.mouseDownGamePosition.mouseY;\n\n          if (dx > 0 && dy > 0) {\n            this.context.strokeStyle = 'white';\n            this.context.strokeRect(this.mouseDownGamePosition.mouseX * 50, this.mouseDownGamePosition.mouseY * 50, dx * 50, dy * 50);\n          }\n        }\n      }\n\n      this.context.restore();\n\n      if (this.hoveredCoords && this.hoveredCoords.x >= this.width - _gui.GUI_WIDTH) {\n        this.gui.render(this.context, this.images, this.map, this.hoveredCoords);\n      } else {\n        this.gui.render(this.context, this.images, this.map, null);\n      }\n\n      if (this.gui.displayMode === 'main') {\n        this.context.translate(this.width - 150, 50);\n        var scale = this.map.width / 2;\n        this.context.scale(1 / scale, 1 / scale);\n        this.map.renderMiniMap(this.context, this.images, this.x, this.y, this.width - _gui.GUI_WIDTH, this.height, this.fogContext, this.visibleContext, this.team);\n        this.context.scale(scale, scale);\n        this.context.translate(-this.width + 150, -50);\n      }\n    }\n  }, {\n    key: 'keydown',\n    value: function keydown(event) {\n      this.pressedKeys.add(event.keyCode);\n    }\n  }, {\n    key: 'keyup',\n    value: function keyup(event) {\n      this.pressedKeys.delete(event.keyCode);\n    }\n  }]);\n\n  return Game;\n}();\n\nexports.default = Game;"
        },
        {
          "id": 4,
          "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
          "name": "./app/shared/gui.js",
          "index": 4,
          "index2": 32,
          "size": 22271,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "assets": [],
          "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/game.js",
          "profile": {
            "factory": 4199,
            "building": 1680,
            "dependencies": 9
          },
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "reasons": [
            {
              "moduleId": 3,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/game.js",
              "module": "./app/client/game.js",
              "moduleName": "./app/client/game.js",
              "type": "cjs require",
              "userRequest": "../shared/gui",
              "loc": "11:11-35"
            }
          ],
          "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.GUI_WIDTH = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _buildingconstants = require('./buildingconstants');\n\nvar _buildingconstants2 = _interopRequireDefault(_buildingconstants);\n\nvar _template = require('./template');\n\nvar _shipyard = require('./guibuttons/shipyard');\n\nvar _shipyard2 = _interopRequireDefault(_shipyard);\n\nvar _mine = require('./guibuttons/mine');\n\nvar _mine2 = _interopRequireDefault(_mine);\n\nvar _shiptemplate = require('./guibuttons/shiptemplate');\n\nvar _shiptemplate2 = _interopRequireDefault(_shiptemplate);\n\nvar _shipbuilder = require('./guibuttons/shipbuilder');\n\nvar _shipbuilder2 = _interopRequireDefault(_shipbuilder);\n\nvar _roundshot = require('./guibuttons/roundshot');\n\nvar _roundshot2 = _interopRequireDefault(_roundshot);\n\nvar _grapeshot = require('./guibuttons/grapeshot');\n\nvar _grapeshot2 = _interopRequireDefault(_grapeshot);\n\nvar _shell = require('./guibuttons/shell');\n\nvar _shell2 = _interopRequireDefault(_shell);\n\nvar _cancelshot = require('./guibuttons/cancelshot');\n\nvar _cancelshot2 = _interopRequireDefault(_cancelshot);\n\nvar _targettoggle = require('./guibuttons/targettoggle');\n\nvar _targettoggle2 = _interopRequireDefault(_targettoggle);\n\nvar _exit = require('./guibuttons/exit');\n\nvar _exit2 = _interopRequireDefault(_exit);\n\nvar _template2 = require('./guibuttons/template');\n\nvar _template3 = _interopRequireDefault(_template2);\n\nvar _gunboat = require('./guibuttons/gunboat');\n\nvar _gunboat2 = _interopRequireDefault(_gunboat);\n\nvar _frigate = require('./guibuttons/frigate');\n\nvar _frigate2 = _interopRequireDefault(_frigate);\n\nvar _galleon = require('./guibuttons/galleon');\n\nvar _galleon2 = _interopRequireDefault(_galleon);\n\nvar _shipskeleton = require('./guibuttons/shipskeleton');\n\nvar _shipskeleton2 = _interopRequireDefault(_shipskeleton);\n\nvar _gunslot = require('./guibuttons/gunslot');\n\nvar _gunslot2 = _interopRequireDefault(_gunslot);\n\nvar _hullslot = require('./guibuttons/hullslot');\n\nvar _hullslot2 = _interopRequireDefault(_hullslot);\n\nvar _save = require('./guibuttons/save');\n\nvar _save2 = _interopRequireDefault(_save);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar GUI_WIDTH = exports.GUI_WIDTH = 200;\n\n/**\n * A map of the game containing islands and all current ships.\n */\n\nvar Gui = function () {\n  function Gui(canvasWidth, canvasHeight, templates, selectionState, map, team) {\n    _classCallCheck(this, Gui);\n\n    this.width = GUI_WIDTH;\n    this.height = canvasHeight;\n\n    this.x = canvasWidth - this.width;\n    this.y = 0;\n\n    this.buttons = [];\n    this.designerButtons = [];\n\n    this.templates = templates;\n\n    this.selectionState = selectionState;\n\n    this.map = map;\n\n    this.displayMode = 'main';\n    this.displayContext = 'game';\n\n    this.changing = false;\n    this.selectedSlot = null;\n    this.chosenIndex = 0;\n    this.workingTemplate = JSON.parse(JSON.stringify(this.templates[this.chosenIndex]));\n\n    this.team = team;\n  }\n\n  _createClass(Gui, [{\n    key: 'setSelectionState',\n    value: function setSelectionState(newSelectionState) {\n      this.selectionState = newSelectionState;\n    }\n  }, {\n    key: 'getSelectedMapItems',\n    value: function getSelectedMapItems() {\n      var _this = this;\n\n      return this.selectionState.map.map(function (id) {\n        return _this.map.getEntity(id);\n      }).filter(function (item) {\n        return item != null;\n      });\n    }\n\n    /**\n     * Render the gui\n     */\n\n  }, {\n    key: 'render',\n    value: function render(context, images, map, hoverCoords) {\n      context.strokeStyle = 'black';\n      context.lineWidth = 5;\n      context.beginPath();\n      context.moveTo(this.x, this.y);\n      context.lineTo(this.x, this.y + this.height);\n      context.stroke();\n      context.lineWidth = 1;\n\n      if (this.displayMode === 'main') {\n        this.renderMain(context, images, map, hoverCoords);\n      } else if (this.displayMode === 'designer') {\n        this.renderDesigner(context, images, map, hoverCoords);\n      }\n    }\n  }, {\n    key: 'renderDesigner',\n    value: function renderDesigner(context, images, map, hoverCoords) {\n      context.fillStyle = 'grey';\n      context.fillRect(this.x, this.y, this.width, this.height);\n\n      // titles\n      context.fillStyle = 'black';\n      context.textBaseline = 'top';\n      context.font = '14px Perpetua';\n      context.fillText('SAVE SLOTS', this.x + 20, this.y + 10);\n\n      var skeleton = new _shipskeleton2.default('shipskeleton', this.x + 50, this.y + 110, 100, 340);\n      skeleton.render(context, images);\n\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.getDesignerButtons()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var button = _step.value;\n\n          var isSelected = this.selectionState.gui != null && this.selectionState.gui.type === button.type && this.selectionState.gui.slotNum === button.slotNum;\n          button.selected = isSelected;\n          button.render(context, images);\n        }\n\n        // Display stats at the bottom of the gui\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      context.fillStyle = 'black';\n      context.textBaseline = 'top';\n      context.font = '14px Perpetua';\n      context.fillText(this.workingTemplate.hull.toUpperCase(), this.x + 10, this.height - 50);\n      context.fillText(this.workingTemplate.hardpoints, this.x + 20, this.height - 35);\n      context.fillText('Cost: ' + (0, _template.getStats)(this.workingTemplate).cost + ' coin, ' + (0, _template.getStats)(this.workingTemplate).tcost + ' sec', this.x + 20, this.height - 20);\n\n      // Hovering logic\n      if (hoverCoords != null) {\n        var roundedX = hoverCoords.x;\n        var roundedY = hoverCoords.y;\n\n        var item = this.getItem(roundedX, roundedY);\n\n        if (item != null) {\n          var details = null;\n          var type = item.getType();\n\n          if (type === 'gunslot' && item.rendertype !== 'gunslot') {\n            type = item.rendertype;\n          }\n\n          switch (type) {\n            case 'gunboat':\n            case 'gunboatSelected':\n              details = _template.gunboat;\n              break;\n            case 'frigate':\n            case 'frigateSelected':\n              details = _template.frigate;\n              break;\n            case 'galleon':\n            case 'galleonSelected':\n              details = _template.galleon;\n              break;\n            case 'roundshot':\n              details = _template.roundshot;\n              break;\n            case 'chainshot':\n              details = _template.chainshot;\n              break;\n            case 'grapeshot':\n              details = _template.grapeshot;\n              break;\n            case 'shell':\n              details = _template.shell;\n              break;\n            default:\n              details = null;\n          }\n\n          if (details != null) {\n            // Display a tooltip\n            context.fillStyle = 'white';\n            context.strokeStyle = 'black';\n            var modifier = 0;\n            if (roundedX - 2 > this.x + this.width / 2 - 100) {\n              modifier = this.width / 2 * -1;\n            }\n\n            context.strokeRect(roundedX - 2 + modifier, roundedY + 1, 200, 50);\n            context.fillRect(roundedX - 2 + modifier, roundedY + 1, 200, 50);\n\n            context.fillStyle = 'black';\n            context.textBaseline = 'top';\n            context.font = '14px Perpetua';\n\n            context.fillText(details.name, roundedX - 2 + modifier, roundedY + 1);\n            context.fillText(details.description, roundedX - 2 + modifier, roundedY + 1 + 20);\n            context.fillText('Cost: ' + details.cost + ' coin, ' + details.tcost + ' seconds', roundedX - 2 + modifier, roundedY + 1 + 34);\n          }\n        }\n      }\n    }\n  }, {\n    key: 'renderMain',\n    value: function renderMain(context, images, map, hoverCoords) {\n      context.fillStyle = 'gray';\n      context.fillRect(this.x, this.y, this.width, this.height);\n\n      var moneyText = Math.floor(map.getEntity(this.team).coins).toString();\n\n      context.fillStyle = 'black';\n      context.textBaseline = 'top';\n      context.font = '24px Perpetua';\n      context.fillText(moneyText, this.x + 32, this.y + 5);\n\n      var width = context.measureText(moneyText).width;\n\n      context.strokeStyle = 'black';\n      context.strokeRect(this.x + 2, this.y, width + 40, 35);\n      context.drawImage(images.money, this.x + 2, this.y + 5, 25, 25);\n\n      if (this.team === '1') {\n        context.fillStyle = 'firebrick';\n        context.fillText('Pirates', this.x + 110, this.y + 5);\n      } else {\n        context.fillStyle = 'darkblue';\n        context.fillText('Imperials', this.x + 100, this.y + 5);\n      }\n\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = this.getButtons()[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var button = _step2.value;\n\n          var isSelected = this.selectionState.gui != null && this.selectionState.gui.type === button.type && this.selectionState.gui.slotNum === button.slotNum;\n          button.selected = isSelected;\n          button.render(context, images);\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      if (hoverCoords != null) {\n        var roundedX = hoverCoords.x;\n        var roundedY = hoverCoords.y;\n\n        var modifier = 0;\n        if (roundedX - 2 > this.x + this.width / 2 - 100) {\n          modifier = this.width / 2 * -1;\n        }\n\n        var item = this.getItem(roundedX, roundedY);\n\n        if (item != null && item.isBuilding()) {\n          var buildingType = item.getBuilding();\n\n          var details = _buildingconstants2.default[buildingType];\n\n          // Display a tooltip\n          context.fillStyle = 'white';\n          context.strokeStyle = 'black';\n          context.strokeRect(roundedX - 2 + modifier, roundedY + 1, 200, 50);\n          context.fillRect(roundedX - 2 + modifier, roundedY + 1, 200, 50);\n\n          context.fillStyle = 'black';\n          context.textBaseline = 'top';\n          context.font = '14px Perpetua';\n          context.fillText(details.name, roundedX - 2 + modifier, roundedY + 1);\n          context.fillText(details.description, roundedX - 2 + modifier, roundedY + 1 + 20);\n          context.fillText('Cost: ' + details.coinCost + ' coin, ' + details.buildTime + ' seconds', roundedX - 2 + modifier, roundedY + 1 + 34);\n        } else if (item != null && (item.getType() === 'shiptemplate' || item.getType() === 'shiptemplateGrayed')) {\n          var template = this.templates[item.slotNum];\n          context.strokeStyle = 'cyan';\n          context.strokeRect(item.x, item.y, item.width, item.height);\n\n          context.fillStyle = 'white';\n          context.strokeStyle = 'black';\n          context.strokeRect(roundedX - 2 + modifier, roundedY + 1, 200, 50);\n          context.fillRect(roundedX - 2 + modifier, roundedY + 1, 200, 50);\n\n          context.fillStyle = 'black';\n          context.textBaseline = 'top';\n          context.font = '14px Perpetua';\n          context.fillText(template.hull.toUpperCase(), roundedX - 2 + modifier, roundedY + 1);\n          context.fillText(template.hardpoints, roundedX - 2 + modifier, roundedY + 1 + 20);\n          context.fillText('Cost: ' + (0, _template.getStats)(template).cost + ' coin, ' + (0, _template.getStats)(template).tcost + ' sec', roundedX - 2 + modifier, roundedY + 1 + 34);\n        }\n      }\n    }\n  }, {\n    key: 'getUnitButtons',\n    value: function getUnitButtons() {\n      var result = [];\n      if (this.getSelectedMapItems().length !== 0 && this.getSelectedMapItems().every(function (entity) {\n        return entity.type === 'shipyard';\n      })) {\n        result.push(new _shiptemplate2.default('shiptemplate', this.x + 20, 250, 50, 50, 0, this.getSelectedMapItems()[0], this.templates[0]));\n        result.push(new _shiptemplate2.default('shiptemplate', this.x + 75, 250, 50, 50, 1, this.getSelectedMapItems()[0], this.templates[1]));\n        result.push(new _shiptemplate2.default('shiptemplate', this.x + 130, 250, 50, 50, 2, this.getSelectedMapItems()[0], this.templates[2]));\n      } else {\n        result.push(new _shiptemplate2.default('shiptemplateGrayed', this.x + 20, 250, 50, 50, 0, null, this.templates[0]));\n        result.push(new _shiptemplate2.default('shiptemplateGrayed', this.x + 75, 250, 50, 50, 1, null, this.templates[1]));\n        result.push(new _shiptemplate2.default('shiptemplateGrayed', this.x + 130, 250, 50, 50, 2, null, this.templates[2]));\n      }\n\n      result.push(new _shipyard2.default('shipyard', this.x + 25, this.y + 175, 50, 50));\n      result.push(new _mine2.default('mine', this.x + 75, this.y + 175, 50, 50));\n\n      result.push(new _targettoggle2.default(this.map.getEntity(this.team).targetMode, this.x + 35, this.height - 75, 128, 26));\n      result.push(new _shipbuilder2.default('shipbuilder', this.x + 50, 350, 102, 26));\n      return result;\n    }\n  }, {\n    key: 'getDesignerButtons',\n    value: function getDesignerButtons() {\n      var result = [];\n\n      if (this.displayContext === 'game') {\n        result.push(new _exit2.default('exit', this.x + this.width - 20, this.y, 20, 20));\n      }\n\n      result.push(new _template3.default('template', this.x + 20, this.y + 25, 50, 50, 0, null, this.templates[0]));\n      result.push(new _template3.default('template', this.x + 75, this.y + 25, 50, 50, 1, null, this.templates[1]));\n      result.push(new _template3.default('template', this.x + 130, this.y + 25, 50, 50, 2, null, this.templates[2]));\n\n      result.push(new _gunslot2.default('gunslot', this.x + 75, this.y + 210, 40, 40, 0));\n      result.push(new _gunslot2.default('gunslot', this.x + 75, this.y + 350, 40, 40, 1));\n      result.push(new _hullslot2.default('hullslot', this.x + 75, this.y + 280, 40, 40, 1));\n\n      if (this.selectedSlot != null) {\n        if (this.selectedSlot.getType() === 'gunslot') {\n          result.push(new _roundshot2.default('roundshot', this.selectedSlot.x - 60, this.selectedSlot.y + 5, 40, 40));\n          result.push(new _grapeshot2.default('grapeshot', this.selectedSlot.x + 6, this.selectedSlot.y - 50, 40, 40));\n          result.push(new _shell2.default('shell', this.selectedSlot.x + 60, this.selectedSlot.y + 5, 40, 40));\n          result.push(new _cancelshot2.default('cancelshot', this.selectedSlot.x + 6, this.selectedSlot.y + 60, 40, 40));\n        } else if (this.selectedSlot.getType() === 'hullslot') {\n          result.push(new _gunboat2.default('gunboat', this.selectedSlot.x - 60, this.selectedSlot.y + 5, 40, 40));\n          result.push(new _frigate2.default('frigate', this.selectedSlot.x + 5, this.selectedSlot.y - 45, 40, 40));\n          result.push(new _galleon2.default('galleon', this.selectedSlot.x + 60, this.selectedSlot.y + 5, 40, 40));\n        }\n      }\n\n      result.push(new _save2.default('save', this.x + 50, this.y + 77, 102, 26));\n\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = result[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var button = _step3.value;\n\n          button.setVisible(this.chosenIndex != null);\n\n          if (button.getType() === 'template') {\n            if (button.getSlotNum() === this.chosenIndex) {\n              button.placeItem('templateSelected');\n            } else {\n              button.placeItem('template');\n            }\n          } else if (button.getType() === 'hullslot') {\n            var ship = this.templates[this.chosenIndex];\n            if (this.changing) {\n              button.placeItem(this.workingTemplate.hull || 'hullslot');\n            } else {\n              button.placeItem(this.workingTemplate.hull || ship.hull || 'hullslot');\n            }\n          } else if (button.getType() === 'gunslot') {\n            var ship = this.templates[this.chosenIndex];\n            if (this.changing) {\n              button.placeItem(this.workingTemplate.hardpoints[button.getSlotNum()] || 'gunslot');\n            } else {\n              button.placeItem(this.workingTemplate.hardpoints[button.getSlotNum()] || ship.hardpoints[button.getSlotNum()] || 'gunslot');\n            }\n          }\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3.return) {\n            _iterator3.return();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n\n      return result;\n    }\n  }, {\n    key: 'designerSelection',\n    value: function designerSelection(item) {\n      if (item == null) {\n        this.selectedSlot = null;\n        return;\n      }\n\n      var withItem = JSON.parse(JSON.stringify(this.workingTemplate));\n\n      switch (item.getType()) {\n        case 'exit':\n          this.displayMode = 'main';\n          this.workingTemplate = JSON.parse(JSON.stringify(this.templates[this.chosenIndex]));\n          this.changing = false;\n          break;\n        case 'template':\n          this.chosenIndex = item.getSlotNum();\n          this.workingTemplate = JSON.parse(JSON.stringify(this.templates[this.chosenIndex]));\n          this.changing = false;\n          break;\n        case 'gunboat':\n        case 'frigate':\n        case 'galleon':\n          this.workingTemplate.hull = item.getType();\n          this.selectedSlot = null;\n          break;\n        case 'gunslot':\n        case 'hullslot':\n          this.selectedSlot = item;\n          break;\n        case 'roundshot':\n        case 'chainshot':\n        case 'grapeshot':\n        case 'shell':\n          withItem.hardpoints[this.selectedSlot.getSlotNum()] = item.getType();\n          this.workingTemplate = withItem;\n          this.selectedSlot = null;\n          break;\n        case 'cancelshot':\n          withItem.hardpoints[this.selectedSlot.getSlotNum()] = null;\n          this.workingTemplate = withItem;\n          this.selectedSlot = null;\n          this.changing = true;\n          break;\n        case 'save':\n          this.templates[this.chosenIndex] = this.workingTemplate;\n          this.displayMode = 'main';\n          this.workingTemplate = JSON.parse(JSON.stringify(this.templates[this.chosenIndex]));\n          this.changing = false;\n        default:\n          this.selectedSlot = null;\n      }\n    }\n  }, {\n    key: 'getButtons',\n    value: function getButtons() {\n      return this.buttons.concat(this.getUnitButtons() || []);\n    }\n  }, {\n    key: 'getItem',\n    value: function getItem(x, y) {\n      if (this.displayMode === 'main') {\n        var _iteratorNormalCompletion4 = true;\n        var _didIteratorError4 = false;\n        var _iteratorError4 = undefined;\n\n        try {\n          for (var _iterator4 = this.getButtons()[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n            var button = _step4.value;\n\n            if (button.isOver(x, y)) {\n              return button;\n            }\n          }\n        } catch (err) {\n          _didIteratorError4 = true;\n          _iteratorError4 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion4 && _iterator4.return) {\n              _iterator4.return();\n            }\n          } finally {\n            if (_didIteratorError4) {\n              throw _iteratorError4;\n            }\n          }\n        }\n      } else if (this.displayMode === 'designer') {\n        var _iteratorNormalCompletion5 = true;\n        var _didIteratorError5 = false;\n        var _iteratorError5 = undefined;\n\n        try {\n          for (var _iterator5 = this.getDesignerButtons()[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n            var button = _step5.value;\n\n            if (button.isOver(x, y)) {\n              return button;\n            }\n          }\n        } catch (err) {\n          _didIteratorError5 = true;\n          _iteratorError5 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion5 && _iterator5.return) {\n              _iterator5.return();\n            }\n          } finally {\n            if (_didIteratorError5) {\n              throw _iteratorError5;\n            }\n          }\n        }\n      }\n\n      return null;\n    }\n  }]);\n\n  return Gui;\n}();\n\nexports.default = Gui;"
        },
        {
          "id": 5,
          "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/buildingconstants.js",
          "name": "./app/shared/buildingconstants.js",
          "index": 5,
          "index2": 2,
          "size": 413,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "assets": [],
          "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
          "profile": {
            "factory": 4249,
            "building": 252
          },
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "reasons": [
            {
              "moduleId": 4,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
              "module": "./app/shared/gui.js",
              "moduleName": "./app/shared/gui.js",
              "type": "cjs require",
              "userRequest": "./buildingconstants",
              "loc": "10:25-55"
            },
            {
              "moduleId": 17,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/buildingtemplate.js",
              "module": "./app/shared/buildingtemplate.js",
              "moduleName": "./app/shared/buildingtemplate.js",
              "type": "cjs require",
              "userRequest": "./buildingconstants",
              "loc": "11:25-55"
            }
          ],
          "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar buildingConstants = {\n  mine: {\n    name: 'Mine',\n    description: 'A building for mining coin.',\n    coinCost: 50,\n    buildTime: 50 },\n\n  // In ticks\n  shipyard: {\n    name: 'Shipyard',\n    description: 'A building to produce ships.',\n    coinCost: 100,\n    buildTime: 100 }\n};\n\n// In ticks\nexports.default = buildingConstants;"
        },
        {
          "id": 6,
          "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/template.js",
          "name": "./app/shared/template.js",
          "index": 6,
          "index2": 3,
          "size": 3620,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "assets": [],
          "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/game.js",
          "profile": {
            "factory": 4201,
            "building": 2011
          },
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "reasons": [
            {
              "moduleId": 3,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/game.js",
              "module": "./app/client/game.js",
              "moduleName": "./app/client/game.js",
              "type": "cjs require",
              "userRequest": "../shared/template",
              "loc": "17:16-45"
            },
            {
              "moduleId": 4,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
              "module": "./app/shared/gui.js",
              "moduleName": "./app/shared/gui.js",
              "type": "cjs require",
              "userRequest": "./template",
              "loc": "14:16-37"
            },
            {
              "moduleId": 10,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/shiptemplate.js",
              "module": "./app/shared/guibuttons/shiptemplate.js",
              "moduleName": "./app/shared/guibuttons/shiptemplate.js",
              "type": "cjs require",
              "userRequest": "../template",
              "loc": "13:16-38"
            },
            {
              "moduleId": 11,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/hardpoint.js",
              "module": "./app/shared/hardpoint.js",
              "moduleName": "./app/shared/hardpoint.js",
              "type": "cjs require",
              "userRequest": "./template",
              "loc": "14:16-37"
            },
            {
              "moduleId": 12,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/ship.js",
              "module": "./app/shared/ship.js",
              "moduleName": "./app/shared/ship.js",
              "type": "cjs require",
              "userRequest": "./template",
              "loc": "21:16-37"
            },
            {
              "moduleId": 14,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/shipyard.js",
              "module": "./app/shared/shipyard.js",
              "moduleName": "./app/shared/shipyard.js",
              "type": "cjs require",
              "userRequest": "../shared/template",
              "loc": "21:16-45"
            },
            {
              "moduleId": 18,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/projectile.js",
              "module": "./app/shared/projectile.js",
              "moduleName": "./app/shared/projectile.js",
              "type": "cjs require",
              "userRequest": "./template",
              "loc": "14:16-37"
            }
          ],
          "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getStats = getStats;\nexports.defaultTemplate = defaultTemplate;\n/**\n * A shipyard entity.\n */\nvar nextId = 0;\n\nvar roundshot = exports.roundshot = {\n  name: 'Roundshot',\n  description: 'Standard range. Deals 25 dmg.',\n  health: 100,\n  damage: 25,\n  speed: 0,\n  weight: -10,\n  cost: 30,\n  tcost: 10,\n  range: 2.2\n};\n\nvar chainshot = exports.chainshot = {\n  name: 'Chainshot',\n  description: 'Slows ships. Deals 5 dmg.',\n  health: 100,\n  damage: 5,\n  speed: 0,\n  weight: -20,\n  cost: 25,\n  tcost: 10\n};\n\nvar grapeshot = exports.grapeshot = {\n  name: 'Grapeshot',\n  description: 'Short range. Deals 50 dmg.',\n  health: 100,\n  damage: 50,\n  speed: 0,\n  weight: -5,\n  cost: 50,\n  tcost: 20,\n  range: 1.15\n};\n\nvar shell = exports.shell = {\n  name: 'Shell',\n  description: 'Long range. Deals 10 dmg.',\n  health: 100,\n  damage: 17,\n  speed: 0,\n  weight: -20,\n  cost: 50,\n  tcost: 20,\n  range: 3.2\n};\n\nvar gunboat = exports.gunboat = {\n  name: 'Gunboat',\n  description: 'Small fast ship.',\n  health: 100,\n  damage: 0,\n  speed: 20,\n  weight: 25,\n  cost: 50,\n  tcost: 60\n};\n\nvar frigate = exports.frigate = {\n  name: 'Frigate',\n  description: 'Well balanced ship.',\n  health: 200,\n  damage: 0,\n  speed: 15,\n  weight: 50,\n  cost: 100,\n  tcost: 120\n};\n\nvar galleon = exports.galleon = {\n  name: 'Galleon',\n  description: 'The pearl of the navy.',\n  health: 300,\n  damage: 0,\n  speed: 10,\n  weight: 100,\n  cost: 125,\n  tcost: 180\n};\n\nvar hardpoints = exports.hardpoints = {\n  roundshot: roundshot,\n  chainshot: chainshot,\n  grapeshot: grapeshot,\n  shell: shell\n};\n\nvar hulls = exports.hulls = {\n  gunboat: gunboat,\n  frigate: frigate,\n  galleon: galleon\n};\n\nvar empty = {\n  health: 0,\n  damage: 0,\n  speed: 0,\n  weight: 0,\n  cost: 0,\n  tcost: 0\n};\n\n// Every stats template is in the form:\n/*\n\n{\n  hull: hull type, as a string,\n  hardpoints: [each hardpoint, as a string]\n}\n*/\n\nfunction getStats(template) {\n  var start = JSON.parse(JSON.stringify(hulls[template.hull] || empty));\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = (template.hardpoints || [])[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var hardpoint = _step.value;\n\n      if (hardpoint == null) {\n        continue;\n      }\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = Object.keys(start)[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var key = _step2.value;\n\n          start[key] += hardpoints[hardpoint][key];\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return start;\n}\n\nfunction defaultTemplate() {\n  return {\n    hull: 'gunboat',\n    hardpoints: ['roundshot']\n  };\n}"
        },
        {
          "id": 7,
          "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/shipyard.js",
          "name": "./app/shared/guibuttons/shipyard.js",
          "index": 7,
          "index2": 5,
          "size": 2382,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "assets": [],
          "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
          "profile": {
            "factory": 4251,
            "building": 210,
            "dependencies": 1
          },
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "reasons": [
            {
              "moduleId": 4,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
              "module": "./app/shared/gui.js",
              "moduleName": "./app/shared/gui.js",
              "type": "cjs require",
              "userRequest": "./guibuttons/shipyard",
              "loc": "16:16-48"
            }
          ],
          "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _guibutton = require('../guibutton');\n\nvar _guibutton2 = _interopRequireDefault(_guibutton);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Shipyard = function (_GuiButton) {\n  _inherits(Shipyard, _GuiButton);\n\n  function Shipyard() {\n    _classCallCheck(this, Shipyard);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Shipyard).apply(this, arguments));\n  }\n\n  _createClass(Shipyard, [{\n    key: 'render',\n    value: function render(context, images) {\n      if (this.selected) {\n        context.strokeStyle = 'cyan';\n        context.strokeRect(this.x, this.y, this.width, this.height);\n      }\n\n      context.drawImage(images.shipyard, this.x, this.y, this.width, this.height);\n    }\n  }]);\n\n  return Shipyard;\n}(_guibutton2.default);\n\nexports.default = Shipyard;"
        },
        {
          "id": 8,
          "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibutton.js",
          "name": "./app/shared/guibutton.js",
          "index": 8,
          "index2": 4,
          "size": 3896,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "assets": [],
          "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/mapselect.js",
          "profile": {
            "factory": 3747,
            "building": 4244
          },
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "reasons": [
            {
              "moduleId": 7,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/shipyard.js",
              "module": "./app/shared/guibuttons/shipyard.js",
              "moduleName": "./app/shared/guibuttons/shipyard.js",
              "type": "cjs require",
              "userRequest": "../guibutton",
              "loc": "9:17-40"
            },
            {
              "moduleId": 9,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/mine.js",
              "module": "./app/shared/guibuttons/mine.js",
              "moduleName": "./app/shared/guibuttons/mine.js",
              "type": "cjs require",
              "userRequest": "../guibutton",
              "loc": "9:17-40"
            },
            {
              "moduleId": 10,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/shiptemplate.js",
              "module": "./app/shared/guibuttons/shiptemplate.js",
              "moduleName": "./app/shared/guibuttons/shiptemplate.js",
              "type": "cjs require",
              "userRequest": "../guibutton",
              "loc": "9:17-40"
            },
            {
              "moduleId": 20,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/shipbuilder.js",
              "module": "./app/shared/guibuttons/shipbuilder.js",
              "moduleName": "./app/shared/guibuttons/shipbuilder.js",
              "type": "cjs require",
              "userRequest": "../guibutton",
              "loc": "9:17-40"
            },
            {
              "moduleId": 21,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/roundshot.js",
              "module": "./app/shared/guibuttons/roundshot.js",
              "moduleName": "./app/shared/guibuttons/roundshot.js",
              "type": "cjs require",
              "userRequest": "../guibutton",
              "loc": "9:17-40"
            },
            {
              "moduleId": 22,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/grapeshot.js",
              "module": "./app/shared/guibuttons/grapeshot.js",
              "moduleName": "./app/shared/guibuttons/grapeshot.js",
              "type": "cjs require",
              "userRequest": "../guibutton",
              "loc": "9:17-40"
            },
            {
              "moduleId": 23,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/shell.js",
              "module": "./app/shared/guibuttons/shell.js",
              "moduleName": "./app/shared/guibuttons/shell.js",
              "type": "cjs require",
              "userRequest": "../guibutton",
              "loc": "9:17-40"
            },
            {
              "moduleId": 24,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/cancelshot.js",
              "module": "./app/shared/guibuttons/cancelshot.js",
              "moduleName": "./app/shared/guibuttons/cancelshot.js",
              "type": "cjs require",
              "userRequest": "../guibutton",
              "loc": "9:17-40"
            },
            {
              "moduleId": 25,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/targettoggle.js",
              "module": "./app/shared/guibuttons/targettoggle.js",
              "moduleName": "./app/shared/guibuttons/targettoggle.js",
              "type": "cjs require",
              "userRequest": "../guibutton",
              "loc": "9:17-40"
            },
            {
              "moduleId": 26,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/exit.js",
              "module": "./app/shared/guibuttons/exit.js",
              "moduleName": "./app/shared/guibuttons/exit.js",
              "type": "cjs require",
              "userRequest": "../guibutton",
              "loc": "9:17-40"
            },
            {
              "moduleId": 27,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/template.js",
              "module": "./app/shared/guibuttons/template.js",
              "moduleName": "./app/shared/guibuttons/template.js",
              "type": "cjs require",
              "userRequest": "../guibutton",
              "loc": "9:17-40"
            },
            {
              "moduleId": 28,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/gunboat.js",
              "module": "./app/shared/guibuttons/gunboat.js",
              "moduleName": "./app/shared/guibuttons/gunboat.js",
              "type": "cjs require",
              "userRequest": "../guibutton",
              "loc": "9:17-40"
            },
            {
              "moduleId": 29,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/frigate.js",
              "module": "./app/shared/guibuttons/frigate.js",
              "moduleName": "./app/shared/guibuttons/frigate.js",
              "type": "cjs require",
              "userRequest": "../guibutton",
              "loc": "9:17-40"
            },
            {
              "moduleId": 30,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/galleon.js",
              "module": "./app/shared/guibuttons/galleon.js",
              "moduleName": "./app/shared/guibuttons/galleon.js",
              "type": "cjs require",
              "userRequest": "../guibutton",
              "loc": "9:17-40"
            },
            {
              "moduleId": 31,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/shipskeleton.js",
              "module": "./app/shared/guibuttons/shipskeleton.js",
              "moduleName": "./app/shared/guibuttons/shipskeleton.js",
              "type": "cjs require",
              "userRequest": "../guibutton",
              "loc": "9:17-40"
            },
            {
              "moduleId": 32,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/gunslot.js",
              "module": "./app/shared/guibuttons/gunslot.js",
              "moduleName": "./app/shared/guibuttons/gunslot.js",
              "type": "cjs require",
              "userRequest": "../guibutton",
              "loc": "9:17-40"
            },
            {
              "moduleId": 33,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/hullslot.js",
              "module": "./app/shared/guibuttons/hullslot.js",
              "moduleName": "./app/shared/guibuttons/hullslot.js",
              "type": "cjs require",
              "userRequest": "../guibutton",
              "loc": "9:17-40"
            },
            {
              "moduleId": 34,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/save.js",
              "module": "./app/shared/guibuttons/save.js",
              "moduleName": "./app/shared/guibuttons/save.js",
              "type": "cjs require",
              "userRequest": "../guibutton",
              "loc": "9:17-40"
            },
            {
              "moduleId": 36,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/mapselect.js",
              "module": "./app/shared/guibuttons/mapselect.js",
              "moduleName": "./app/shared/guibuttons/mapselect.js",
              "type": "cjs require",
              "userRequest": "../guibutton",
              "loc": "9:17-40"
            },
            {
              "moduleId": 37,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/ready.js",
              "module": "./app/shared/guibuttons/ready.js",
              "moduleName": "./app/shared/guibuttons/ready.js",
              "type": "cjs require",
              "userRequest": "../guibutton",
              "loc": "9:17-40"
            },
            {
              "moduleId": 41,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/restart.js",
              "module": "./app/shared/guibuttons/restart.js",
              "moduleName": "./app/shared/guibuttons/restart.js",
              "type": "cjs require",
              "userRequest": "../guibutton",
              "loc": "9:17-40"
            }
          ],
          "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar nextId = 0;\n\n/**\n * A button entity.\n */\n\nvar GuiButton = function () {\n  function GuiButton(type, x, y, width, height, slotNum, selection, template) {\n    _classCallCheck(this, GuiButton);\n\n    this.type = type;\n    this.rendertype = type;\n    this.originalX = x;\n    this.originalY = y;\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n    this.selected = false;\n    this.id = nextId++;\n    this.visible = true;\n\n    this.slotNum = slotNum;\n    this.templateNum = slotNum;\n\n    this.selection = selection;\n\n    this.template = template;\n  }\n\n  _createClass(GuiButton, [{\n    key: 'getX',\n    value: function getX() {\n      return this.x;\n    }\n  }, {\n    key: 'getY',\n    value: function getY() {\n      return this.y;\n    }\n  }, {\n    key: 'getId',\n    value: function getId() {\n      return this.id;\n    }\n  }, {\n    key: 'getType',\n    value: function getType() {\n      return this.type;\n    }\n  }, {\n    key: 'getSlotNum',\n    value: function getSlotNum() {\n      return this.slotNum;\n    }\n  }, {\n    key: 'getTemplateNum',\n    value: function getTemplateNum() {\n      return this.templateNum;\n    }\n  }, {\n    key: 'getRenderType',\n    value: function getRenderType() {\n      return this.rendertype;\n    }\n  }, {\n    key: 'setVisible',\n    value: function setVisible(visible) {\n      this.visible = visible;\n    }\n  }, {\n    key: 'restorePos',\n    value: function restorePos() {\n      this.x = this.originalX;\n      this.y = this.originalY;\n    }\n  }, {\n    key: 'placeItem',\n    value: function placeItem(type) {\n      if (this.type != 'gunslot' && this.type != 'hullslot' && this.type != 'template') {\n        console.error('Not a slot. Improper placement.');\n      }\n      this.rendertype = type;\n    }\n  }, {\n    key: 'isOver',\n    value: function isOver(mouseX, mouseY) {\n      if (mouseX > this.x && mouseX < this.x + this.width) {\n        if (mouseY > this.y && mouseY < this.y + this.height) {\n          return true;\n        }\n      }\n      return false;\n    }\n  }, {\n    key: 'select',\n    value: function select(mouseX, mouseY) {\n      if (this.isOver(mouseX, mouseY)) {\n        this.selected = true;\n        return this.id;\n      }\n\n      this.selected = false;\n      return -1;\n    }\n  }, {\n    key: 'deselect',\n    value: function deselect() {\n      this.selected = false;\n    }\n  }, {\n    key: 'isBuilding',\n    value: function isBuilding() {\n      switch (this.type) {\n        case 'mine':\n        case 'shipyard':\n          return true;\n        default:\n          return false;\n      }\n    }\n  }, {\n    key: 'getBuilding',\n    value: function getBuilding() {\n      switch (this.type) {\n        case 'mine':\n          return 'mine';\n        case 'shipyard':\n          return 'shipyard';\n        default:\n          console.error('unknown building type');\n          return null;\n      }\n    }\n  }, {\n    key: 'getType',\n    value: function getType() {\n      return this.type;\n    }\n  }, {\n    key: 'setType',\n    value: function setType(type) {\n      this.type = type;\n    }\n  }]);\n\n  return GuiButton;\n}();\n\nexports.default = GuiButton;"
        },
        {
          "id": 9,
          "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/mine.js",
          "name": "./app/shared/guibuttons/mine.js",
          "index": 9,
          "index2": 6,
          "size": 2346,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "assets": [],
          "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
          "profile": {
            "factory": 4252,
            "building": 415,
            "dependencies": 1
          },
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "reasons": [
            {
              "moduleId": 4,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
              "module": "./app/shared/gui.js",
              "moduleName": "./app/shared/gui.js",
              "type": "cjs require",
              "userRequest": "./guibuttons/mine",
              "loc": "20:12-40"
            }
          ],
          "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _guibutton = require('../guibutton');\n\nvar _guibutton2 = _interopRequireDefault(_guibutton);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Mine = function (_GuiButton) {\n  _inherits(Mine, _GuiButton);\n\n  function Mine() {\n    _classCallCheck(this, Mine);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Mine).apply(this, arguments));\n  }\n\n  _createClass(Mine, [{\n    key: 'render',\n    value: function render(context, images) {\n      if (this.selected) {\n        context.strokeStyle = 'cyan';\n        context.strokeRect(this.x, this.y, this.width, this.height);\n      }\n\n      context.drawImage(images.mine, this.x, this.y, this.width, this.height);\n    }\n  }]);\n\n  return Mine;\n}(_guibutton2.default);\n\nexports.default = Mine;"
        },
        {
          "id": 10,
          "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/shiptemplate.js",
          "name": "./app/shared/guibuttons/shiptemplate.js",
          "index": 10,
          "index2": 16,
          "size": 7569,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "assets": [],
          "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
          "profile": {
            "factory": 4254,
            "building": 934,
            "dependencies": 28
          },
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "reasons": [
            {
              "moduleId": 4,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
              "module": "./app/shared/gui.js",
              "moduleName": "./app/shared/gui.js",
              "type": "cjs require",
              "userRequest": "./guibuttons/shiptemplate",
              "loc": "24:20-56"
            }
          ],
          "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _guibutton = require('../guibutton');\n\nvar _guibutton2 = _interopRequireDefault(_guibutton);\n\nvar _template = require('../template');\n\nvar _hardpoint = require('../hardpoint');\n\nvar Hardpoints = _interopRequireWildcard(_hardpoint);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Shiptemplate = function (_GuiButton) {\n  _inherits(Shiptemplate, _GuiButton);\n\n  function Shiptemplate() {\n    _classCallCheck(this, Shiptemplate);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Shiptemplate).apply(this, arguments));\n  }\n\n  _createClass(Shiptemplate, [{\n    key: 'render',\n    value: function render(context, images) {\n      if (this.selected) {\n        context.strokeStyle = 'cyan';\n        context.strokeRect(this.x, this.y, this.width, this.height);\n      }\n\n      switch (this.type) {\n        case 'shiptemplate':\n          context.drawImage(images.grayBack, this.x, this.y, this.width, this.height);\n\n          var count = this.selection.counters[this.slotNum];\n          context.fillStyle = 'black';\n          context.fillText(count.toString(), this.x, this.y);\n\n          switch (this.template.hull) {\n            case 'gunboat':\n              context.drawImage(images.gunboat, this.x, this.y, this.width, this.height);\n              break;\n            case 'frigate':\n              context.drawImage(images.frigate, this.x, this.y, this.width, this.height);\n              break;\n            case 'galleon':\n              context.drawImage(images.galleon, this.x, this.y, this.width, this.height);\n              break;\n          }\n\n          var i = 0;\n          var _iteratorNormalCompletion = true;\n          var _didIteratorError = false;\n          var _iteratorError = undefined;\n\n          try {\n            for (var _iterator = this.template.hardpoints[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n              var hardpoint = _step.value;\n\n              if (hardpoint != null) {\n                Hardpoints.renderTemplate(hardpoint, i, this.x + 10, this.y + 38, context, images);\n              }\n              i += 1;\n            }\n          } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion && _iterator.return) {\n                _iterator.return();\n              }\n            } finally {\n              if (_didIteratorError) {\n                throw _iteratorError;\n              }\n            }\n          }\n\n          if (this.selection.buildingQueue.length > 0 && this.selection.buildingQueue[0].templateNumber === this.slotNum) {\n            var nextTemplate = this.selection.buildingQueue[0].template;\n            var stats = (0, _template.getStats)(nextTemplate);\n\n            context.save();\n            context.beginPath();\n            context.rect(this.x, this.y, 50, 50);\n            context.clip();\n\n            var angle = this.selection.progressTowardsNextBuild / stats.tcost * Math.PI * 2;\n\n            context.globalCompositeOperation = 'multiply';\n            context.fillStyle = 'rgba(0,0,0,.5)';\n            context.beginPath();\n            context.arc(this.x + 25, this.y + 25, 50, 0, angle, true);\n            context.lineTo(this.x + 25, this.y + 25);\n            context.fill();\n            context.globalCompositeOperation = 'source-over';\n\n            context.strokeStyle = 'white';\n            context.beginPath();\n            context.moveTo(this.x + 25, this.y + 25);\n            context.lineTo(this.x + 50, this.y + 25);\n            context.arc(this.x + 25, this.y + 25, 50, 0, angle, true);\n            context.lineTo(this.x + 25, this.y + 25);\n            context.stroke();\n\n            context.restore();\n          }\n          break;\n        case 'shiptemplateGrayed':\n          switch (this.template.hull) {\n            case 'gunboat':\n              context.drawImage(images.gunboat, this.x, this.y, this.width, this.height);\n              break;\n            case 'frigate':\n              context.drawImage(images.frigate, this.x, this.y, this.width, this.height);\n              break;\n            case 'galleon':\n              context.drawImage(images.galleon, this.x, this.y, this.width, this.height);\n              break;\n          }\n\n          var i = 0;\n          var _iteratorNormalCompletion2 = true;\n          var _didIteratorError2 = false;\n          var _iteratorError2 = undefined;\n\n          try {\n            for (var _iterator2 = this.template.hardpoints[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n              var hardpoint = _step2.value;\n\n              if (hardpoint != null) {\n                Hardpoints.renderTemplate(hardpoint, i, this.x + 10, this.y + 38, context, images);\n              }\n              i += 1;\n            }\n          } catch (err) {\n            _didIteratorError2 = true;\n            _iteratorError2 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                _iterator2.return();\n              }\n            } finally {\n              if (_didIteratorError2) {\n                throw _iteratorError2;\n              }\n            }\n          }\n\n          context.globalAlpha = 0.25;\n          context.fillStyle = 'gray';\n          context.fillRect(this.x, this.y, this.width, this.height);\n          context.drawImage(images.grayBack, this.x, this.y, this.width, this.height);\n          context.globalAlpha = 1.0;\n          break;\n      }\n    }\n  }]);\n\n  return Shiptemplate;\n}(_guibutton2.default);\n\nexports.default = Shiptemplate;"
        },
        {
          "id": 11,
          "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/hardpoint.js",
          "name": "./app/shared/hardpoint.js",
          "index": 11,
          "index2": 7,
          "size": 3366,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "assets": [],
          "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gamemap.js",
          "profile": {
            "factory": 436,
            "building": 3442,
            "dependencies": 2
          },
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "reasons": [
            {
              "moduleId": 10,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/shiptemplate.js",
              "module": "./app/shared/guibuttons/shiptemplate.js",
              "moduleName": "./app/shared/guibuttons/shiptemplate.js",
              "type": "cjs require",
              "userRequest": "../hardpoint",
              "loc": "15:17-40"
            },
            {
              "moduleId": 12,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/ship.js",
              "module": "./app/shared/ship.js",
              "moduleName": "./app/shared/ship.js",
              "type": "cjs require",
              "userRequest": "./hardpoint",
              "loc": "23:17-39"
            },
            {
              "moduleId": 13,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/types.js",
              "module": "./app/shared/types.js",
              "moduleName": "./app/shared/types.js",
              "type": "cjs require",
              "userRequest": "./hardpoint",
              "loc": "11:17-39"
            },
            {
              "moduleId": 27,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/template.js",
              "module": "./app/shared/guibuttons/template.js",
              "moduleName": "./app/shared/guibuttons/template.js",
              "type": "cjs require",
              "userRequest": "../hardpoint",
              "loc": "13:17-40"
            },
            {
              "moduleId": 39,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gamemap.js",
              "module": "./app/shared/gamemap.js",
              "moduleName": "./app/shared/gamemap.js",
              "type": "cjs require",
              "userRequest": "./hardpoint",
              "loc": "18:17-39"
            }
          ],
          "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createHardpoint = createHardpoint;\nexports.render = render;\nexports.renderTemplate = renderTemplate;\nexports.getPosition = getPosition;\nexports.fire = fire;\nexports.processUpdate = processUpdate;\nexports.remove = remove;\n\nvar _template = require('./template');\n\nvar _ship = require('./ship');\n\nvar Ships = _interopRequireWildcard(_ship);\n\nvar _projectile = require('./projectile');\n\nvar Projectiles = _interopRequireWildcard(_projectile);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar gun1Position = {\n  x: 0,\n  y: -15.75 / 50\n};\n\nvar gun2Position = {\n  x: 0,\n  y: 13.25 / 50\n};\n\nvar gunPositions = [gun1Position, gun2Position];\n\nfunction createHardpoint(map, shipId, index, gunType, team) {\n  var point = {\n    id: map.getNextEntityId(),\n    type: 'hardpoint',\n    gunType: gunType,\n    health: _template.hardpoints[gunType].health,\n    timeTillNextFire: 0,\n    shipId: shipId,\n    offset: gunPositions[index],\n    index: index,\n    team: team,\n\n    radius: 5.625 / 50\n  };\n\n  map.addEntity(point);\n\n  return point.id;\n}\n\nfunction render(hardpoint, map, context, images) {\n  var _getPosition = getPosition(hardpoint, map);\n\n  var x = _getPosition.x;\n  var y = _getPosition.y;\n\n\n  context.drawImage(images.cannon, x * 50 - 20 / 4, y * 50 - 25 / 4, 10, 10);\n\n  context.fillStyle = 'red';\n  context.fillRect(x * 50 - 10, y * 50 + 5, 20, 5);\n\n  var healthpercent = hardpoint.health / _template.hardpoints[hardpoint.gunType].health;\n\n  context.fillStyle = 'green';\n  context.fillRect(x * 50 - 10, y * 50 + 5, 20 * healthpercent, 5);\n\n  context.strokeStyle = 'black';\n  context.strokeRect(x * 50 - 10, y * 50 + 5, 20, 5);\n}\n\nfunction renderTemplate(hardpoint, slotnum, x, y, context, images) {\n  var modifier = 0;\n  if (slotnum == 1) {\n    modifier = 20;\n  }\n\n  context.fillStyle = 'coral';\n  context.fillRect(x + modifier, y, 10, 10);\n\n  switch (hardpoint) {\n    case 'roundshot':\n      context.drawImage(images.roundshot, x + modifier, y, 10, 10);\n      break;\n    case 'grapeshot':\n      context.drawImage(images.grapeshot, x + modifier, y, 10, 10);\n      break;\n    case 'chainshot':\n      context.drawImage(images.chainshot, x + modifier, y, 10, 10);\n      break;\n    case 'shell':\n      context.drawImage(images.shell, x + modifier, y, 10, 10);\n      break;\n  }\n}\n\nfunction getPosition(hardpoint, map) {\n  var ship = map.getEntity(hardpoint.shipId);\n\n  var x = ship.x + Math.cos(Ships.getOrientation(ship)) * hardpoint.offset.x - Math.sin(Ships.getOrientation(ship)) * hardpoint.offset.y;\n  var y = ship.y + Math.sin(Ships.getOrientation(ship)) * hardpoint.offset.x + Math.cos(Ships.getOrientation(ship)) * hardpoint.offset.y;\n  return { x: x, y: y };\n}\n\nfunction fire(hardpoint, map, target) {\n  var position = getPosition(hardpoint, map);\n\n  Projectiles.createProjectile(map, position, target, hardpoint.gunType);\n\n  hardpoint.timeTillNextFire = 100;\n}\n\nfunction processUpdate(hardpoint) {\n  if (hardpoint.timeTillNextFire !== 0) {\n    hardpoint.timeTillNextFire -= 1;\n  }\n}\n\nfunction remove(hardpoint, map) {\n  map.removeEntity(hardpoint.id);\n}"
        },
        {
          "id": 12,
          "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/ship.js",
          "name": "./app/shared/ship.js",
          "index": 12,
          "index2": 8,
          "size": 16150,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "assets": [],
          "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gamemap.js",
          "profile": {
            "factory": 438,
            "building": 5756,
            "dependencies": 3
          },
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "reasons": [
            {
              "moduleId": 11,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/hardpoint.js",
              "module": "./app/shared/hardpoint.js",
              "moduleName": "./app/shared/hardpoint.js",
              "type": "cjs require",
              "userRequest": "./ship",
              "loc": "16:12-29"
            },
            {
              "moduleId": 13,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/types.js",
              "module": "./app/shared/types.js",
              "moduleName": "./app/shared/types.js",
              "type": "cjs require",
              "userRequest": "./ship",
              "loc": "7:12-29"
            },
            {
              "moduleId": 14,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/shipyard.js",
              "module": "./app/shared/shipyard.js",
              "moduleName": "./app/shared/shipyard.js",
              "type": "cjs require",
              "userRequest": "./ship",
              "loc": "17:12-29"
            },
            {
              "moduleId": 38,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/maps.js",
              "module": "./app/shared/maps.js",
              "moduleName": "./app/shared/maps.js",
              "type": "cjs require",
              "userRequest": "./ship",
              "loc": "12:12-29"
            },
            {
              "moduleId": 39,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gamemap.js",
              "module": "./app/shared/gamemap.js",
              "moduleName": "./app/shared/gamemap.js",
              "type": "cjs require",
              "userRequest": "./ship",
              "loc": "26:12-29"
            }
          ],
          "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nexports.createShipAndHardpoints = createShipAndHardpoints;\nexports.getPosition = getPosition;\nexports.getOrientation = getOrientation;\nexports.render = render;\nexports.renderOverlay = renderOverlay;\nexports.moveTo = moveTo;\nexports.attackTarget = attackTarget;\nexports.processUpdate = processUpdate;\nexports.getHealth = getHealth;\nexports.remove = remove;\nexports.updateMode = updateMode;\n\nvar _template = require('./template');\n\nvar _hardpoint = require('./hardpoint');\n\nvar Hardpoints = _interopRequireWildcard(_hardpoint);\n\nvar _types = require('./types');\n\nvar _types2 = _interopRequireDefault(_types);\n\nvar _vector = require('./vector');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar shipMoveSpeedFactor = 0.05 / 20;\n\n/**\n * A ship entity.\n */\n\nfunction createShipAndHardpoints(map, x, y, template, team) {\n  var shipId = map.getNextEntityId();\n\n  var myHardpoints = template.hardpoints.map(function (hardpoint, index) {\n    if (hardpoint == null) {\n      return null;\n    }\n\n    return Hardpoints.createHardpoint(map, shipId, index, hardpoint, team);\n  });\n\n  var ship = {\n    x: x,\n    y: y,\n    id: shipId,\n    team: team,\n    type: 'ship',\n    template: template,\n    health: JSON.parse(JSON.stringify(_template.hulls[template.hull])).health,\n    hardpoints: myHardpoints,\n    targetMode: 'hardpoints',\n\n    lastPositions: [],\n\n    mode: {\n      type: 'IDLE'\n    }\n  };\n\n  map.addEntity(ship);\n\n  return shipId;\n}\n\nfunction getPosition(ship) {\n  return { x: ship.x, y: ship.y };\n}\n\nfunction getOrientation(ship) {\n  var lastPosition = ship.lastPositions[0] || null;\n\n  if (lastPosition == null) {\n    return 0;\n  }\n\n  return Math.atan2(ship.y - lastPosition.y, ship.x - lastPosition.x) + Math.PI / 2;\n}\n\nfunction render(ship, map, context, images, isSelected) {\n  if (ship.team === '1') {\n    context.fillStyle = 'firebrick';\n  } else {\n    context.fillStyle = 'royalblue';\n  }\n  context.beginPath();\n  context.arc(ship.x * 50, ship.y * 50, 25, 0, Math.PI * 2, true);\n  context.fill();\n\n  context.save();\n  context.translate(ship.x * 50, ship.y * 50);\n\n  var angle = getOrientation(ship);\n\n  context.rotate(angle);\n  context.drawImage(images.ship, -0.5 * 50, -0.5 * 50, 50, 50);\n  context.restore();\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = ship.hardpoints[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var hardpointId = _step.value;\n\n      var hardpoint = map.getEntity(hardpointId);\n      if (hardpoint != null) {\n        Hardpoints.render(hardpoint, map, context, images);\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  if (isSelected) {\n    context.strokeStyle = 'cyan';\n    context.beginPath();\n    context.arc(ship.x * 50, ship.y * 50, 25, 0, Math.PI * 2, true);\n    context.stroke();\n  }\n}\n\nfunction renderOverlay(ship, map, context) {\n  context.fillStyle = 'red';\n  context.fillRect(ship.x * 50 - 20, ship.y * 50 + 30, 40, 5);\n\n  var healthpercent = ship.health / _template.hulls[ship.template.hull].health;\n\n  context.fillStyle = 'green';\n  context.fillRect(ship.x * 50 - 20, ship.y * 50 + 30, 40 * healthpercent, 5);\n\n  context.strokeStyle = 'black';\n  context.strokeRect(ship.x * 50 - 20, ship.y * 50 + 30, 40, 5);\n}\n\nfunction setPosition(ship, x, y) {\n  ship.lastPositions.push({ x: x, y: y });\n\n  if (ship.lastPositions.length > 5) {\n    ship.lastPositions.shift();\n  }\n\n  ship.x = x;\n  ship.y = y;\n}\n\nfunction moveTo(ship, map, targetLocation) {\n  ship.mode = {\n    type: 'MOVING',\n    targetLocation: targetLocation\n  };\n}\n\nfunction attackTarget(ship, target) {\n  ship.mode = {\n    type: 'ATTACKING',\n    targetId: target.id\n  };\n}\n\nfunction getAvoidencVector(sourceVector, targetVector, factor) {\n  var xDistance = sourceVector.x - targetVector.x;\n  var yDistance = sourceVector.y - targetVector.y;\n  var distanceSquared = xDistance * xDistance + yDistance * yDistance;\n  var distance = Math.sqrt(distanceSquared);\n\n  var magnitude = factor / (distance * distance * distance * distance);\n\n  return {\n    x: xDistance * magnitude / distance,\n    y: yDistance * magnitude / distance\n  };\n}\n\nfunction getAvoidencVectors(ship, map) {\n  var result = {\n    x: 0,\n    y: 0\n  };\n\n  var pos = { x: ship.x, y: ship.y };\n\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = map.getIslands()[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var island = _step2.value;\n      var _iteratorNormalCompletion4 = true;\n      var _didIteratorError4 = false;\n      var _iteratorError4 = undefined;\n\n      try {\n        for (var _iterator4 = island.coordinates[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n          var _step4$value = _slicedToArray(_step4.value, 2);\n\n          var x = _step4$value[0];\n          var y = _step4$value[1];\n\n          var avoid = getAvoidencVector(pos, { x: x, y: y }, 0.05);\n          result.x += avoid.x;\n          result.y += avoid.y;\n        }\n      } catch (err) {\n        _didIteratorError4 = true;\n        _iteratorError4 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion4 && _iterator4.return) {\n            _iterator4.return();\n          }\n        } finally {\n          if (_didIteratorError4) {\n            throw _iteratorError4;\n          }\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2.return) {\n        _iterator2.return();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  var _iteratorNormalCompletion3 = true;\n  var _didIteratorError3 = false;\n  var _iteratorError3 = undefined;\n\n  try {\n    for (var _iterator3 = map.getShips()[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n      var otherShip = _step3.value;\n\n      if (otherShip.id === ship.id) {\n        continue;\n      }\n\n      var avoid = getAvoidencVector(pos, { x: otherShip.x, y: otherShip.y }, 0.05);\n      result.x += avoid.x;\n      result.y += avoid.y;\n    }\n  } catch (err) {\n    _didIteratorError3 = true;\n    _iteratorError3 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion3 && _iterator3.return) {\n        _iterator3.return();\n      }\n    } finally {\n      if (_didIteratorError3) {\n        throw _iteratorError3;\n      }\n    }\n  }\n\n  return result;\n}\n\nfunction moveDelta(ship, delta) {\n  var move = {\n    x: delta.x + ship.x,\n    y: delta.y + ship.y\n  };\n  setPosition(ship, move.x, move.y);\n}\n\n/**\n * Are you close enough to the current waypoint?\n */\nfunction closeEnoughToTarget(ship) {\n  return getDistanceToTarget(ship, ship.mode.targetLocation) <= 0.1;\n}\n\nfunction getDistanceToTarget(ship, target) {\n  return (0, _vector.getDistance)(getPosition(ship), target);\n}\n\n/**\n * Perform a move using ship.mode.targetLocation\n * Returns the move update\n */\nfunction performMove(ship, map) {\n  var currentMove = ship.mode.targetLocation;\n\n  var shipMoveSpeed = shipMoveSpeedFactor * _template.hulls[ship.template.hull].speed;\n  var scale = Math.min(shipMoveSpeed, getDistanceToTarget(ship, currentMove));\n\n  var delta = {\n    x: (currentMove.x - ship.x) / getDistanceToTarget(ship, currentMove) * scale,\n    y: (currentMove.y - ship.y) / getDistanceToTarget(ship, currentMove) * scale\n  };\n\n  var avoid = getAvoidencVectors(ship, map);\n\n  var finalVector = {\n    x: avoid.x + delta.x,\n    y: avoid.y + delta.y\n  };\n\n  var finalDistance = Math.sqrt(finalVector.x * finalVector.x + finalVector.y * finalVector.y);\n  var deltaDistance = Math.sqrt(delta.x * delta.x + delta.y * delta.y);\n\n  var dotProduct = (delta.x * finalVector.x + delta.y * finalVector.y) / (deltaDistance * finalDistance);\n\n  var angle = Math.acos(dotProduct) * 180 / Math.PI;\n\n  finalVector.x *= scale / finalDistance;\n  finalVector.y *= scale / finalDistance;\n\n  if (angle < 120) {\n    moveDelta(ship, finalVector);\n  }\n}\n\n/**\n * Move the ship and perform the corresponding updates.\n */\nfunction processMove(ship, map) {\n  if (closeEnoughToTarget(ship)) {\n    ship.mode = {\n      type: 'IDLE'\n    };\n    return;\n  }\n\n  performMove(ship, map);\n}\n\nfunction getActualTarget(ship, map, target) {\n  if (target == null) {\n    return null;\n  }\n\n  if (target.type === 'ship' && map.getEntity(ship.team).targetMode === 'hardpoints') {\n    var minHardpoint = null;\n    var _iteratorNormalCompletion5 = true;\n    var _didIteratorError5 = false;\n    var _iteratorError5 = undefined;\n\n    try {\n      for (var _iterator5 = target.hardpoints[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n        var hardpointId = _step5.value;\n\n        var hardpoint = map.getEntity(hardpointId);\n        if (hardpoint != null) {\n          if (minHardpoint == null || hardpoint.health < minHardpoint.health) {\n            minHardpoint = hardpoint;\n          }\n        }\n      }\n    } catch (err) {\n      _didIteratorError5 = true;\n      _iteratorError5 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion5 && _iterator5.return) {\n          _iterator5.return();\n        }\n      } finally {\n        if (_didIteratorError5) {\n          throw _iteratorError5;\n        }\n      }\n    }\n\n    return minHardpoint;\n  }\n\n  return target;\n}\n\n/**\n * Tries to shoot at the target (entity is the parent entity).\n * If there are cannons which can fire, but need to be closer, returns true.\n * Returns false if there is no point moving closer.\n */\nfunction shootAt(ship, map, entity, target, rangePenalty) {\n  var shouldMoveCloser = false;\n\n  var targetLocation = getPosition(entity, map);\n  var distance = getDistanceToTarget(ship, targetLocation);\n  var _iteratorNormalCompletion6 = true;\n  var _didIteratorError6 = false;\n  var _iteratorError6 = undefined;\n\n  try {\n    for (var _iterator6 = ship.hardpoints[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n      var hardpointId = _step6.value;\n\n      var hardpoint = map.getEntity(hardpointId);\n      if (hardpoint != null && hardpoint.timeTillNextFire === 0) {\n        if (distance < _template.hardpoints[hardpoint.gunType].range - rangePenalty) {\n          Hardpoints.fire(hardpoint, map, target);\n        } else {\n          shouldMoveCloser = true;\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError6 = true;\n    _iteratorError6 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion6 && _iterator6.return) {\n        _iterator6.return();\n      }\n    } finally {\n      if (_didIteratorError6) {\n        throw _iteratorError6;\n      }\n    }\n  }\n\n  return shouldMoveCloser;\n}\n\n/**\n * Shoot at any enemy ships in range with the current attack pattern\n */\nfunction processIdleAttack(ship, map) {\n  var _iteratorNormalCompletion7 = true;\n  var _didIteratorError7 = false;\n  var _iteratorError7 = undefined;\n\n  try {\n    for (var _iterator7 = map.entities.values()[Symbol.iterator](), _step7; !(_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done); _iteratorNormalCompletion7 = true) {\n      var entity = _step7.value;\n\n      if (entity.type === 'ship' && entity.team !== ship.team) {\n        var actualTarget = getActualTarget(ship, map, entity);\n        if (actualTarget != null) {\n          shootAt(ship, map, entity, actualTarget, 0.5);\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError7 = true;\n    _iteratorError7 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion7 && _iterator7.return) {\n        _iterator7.return();\n      }\n    } finally {\n      if (_didIteratorError7) {\n        throw _iteratorError7;\n      }\n    }\n  }\n}\n\n/**\n * Try to attack if in range, or move into range otherwise\n */\nfunction processAttack(ship, map) {\n  var pseudoTarget = map.getEntity(ship.mode.targetId);\n  var target = getActualTarget(ship, map, pseudoTarget);\n\n  if (target == null) {\n    // Target is gone or dead\n    ship.mode = {\n      type: 'IDLE'\n    };\n    return;\n  }\n\n  var targetLocation = _types2.default[pseudoTarget.type].getPosition(pseudoTarget, map);\n\n  var shouldMoveCloser = shootAt(ship, map, pseudoTarget, target, 0);\n\n  if (shouldMoveCloser) {\n    ship.mode.targetLocation = targetLocation;\n\n    if (closeEnoughToTarget(ship)) {\n      return;\n    }\n\n    performMove(ship, map);\n  }\n}\n\n/**\n * Update the ship and get the corresponding update messages.\n */\nfunction processUpdate(ship, map) {\n  var _iteratorNormalCompletion8 = true;\n  var _didIteratorError8 = false;\n  var _iteratorError8 = undefined;\n\n  try {\n    for (var _iterator8 = ship.hardpoints[Symbol.iterator](), _step8; !(_iteratorNormalCompletion8 = (_step8 = _iterator8.next()).done); _iteratorNormalCompletion8 = true) {\n      var hardpointId = _step8.value;\n\n      var hardpoint = map.getEntity(hardpointId);\n      if (hardpoint != null) {\n        Hardpoints.processUpdate(map.getEntity(hardpointId), map);\n      }\n    }\n  } catch (err) {\n    _didIteratorError8 = true;\n    _iteratorError8 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion8 && _iterator8.return) {\n        _iterator8.return();\n      }\n    } finally {\n      if (_didIteratorError8) {\n        throw _iteratorError8;\n      }\n    }\n  }\n\n  switch (ship.mode.type) {\n    case 'MOVING':\n      processMove(ship, map);\n      processIdleAttack(ship, map);\n      break;\n\n    case 'ATTACKING':\n      processAttack(ship, map);\n      break;\n\n    case 'IDLE':\n      processIdleAttack(ship, map);\n      break;\n\n    default:\n      console.error('Unexcepted type ' + ship.mode.type);\n  }\n}\n\nfunction getHealth(ship) {\n  return ship.health;\n}\n\nfunction remove(ship, map) {\n  map.removeEntity(ship.id);\n  var _iteratorNormalCompletion9 = true;\n  var _didIteratorError9 = false;\n  var _iteratorError9 = undefined;\n\n  try {\n    for (var _iterator9 = ship.hardpoints[Symbol.iterator](), _step9; !(_iteratorNormalCompletion9 = (_step9 = _iterator9.next()).done); _iteratorNormalCompletion9 = true) {\n      var hardpointId = _step9.value;\n\n      map.removeEntity(hardpointId);\n    }\n  } catch (err) {\n    _didIteratorError9 = true;\n    _iteratorError9 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion9 && _iterator9.return) {\n        _iterator9.return();\n      }\n    } finally {\n      if (_didIteratorError9) {\n        throw _iteratorError9;\n      }\n    }\n  }\n}\n\nfunction updateMode(ship, targetMode) {\n  ship.targetMode = targetMode;\n}"
        },
        {
          "id": 13,
          "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/types.js",
          "name": "./app/shared/types.js",
          "index": 13,
          "index2": 13,
          "size": 1236,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "assets": [],
          "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gamemap.js",
          "profile": {
            "factory": 439,
            "building": 5865,
            "dependencies": 96
          },
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "reasons": [
            {
              "moduleId": 12,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/ship.js",
              "module": "./app/shared/ship.js",
              "moduleName": "./app/shared/ship.js",
              "type": "cjs require",
              "userRequest": "./types",
              "loc": "27:13-31"
            },
            {
              "moduleId": 18,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/projectile.js",
              "module": "./app/shared/projectile.js",
              "moduleName": "./app/shared/projectile.js",
              "type": "cjs require",
              "userRequest": "./types",
              "loc": "10:13-31"
            },
            {
              "moduleId": 39,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gamemap.js",
              "module": "./app/shared/gamemap.js",
              "moduleName": "./app/shared/gamemap.js",
              "type": "cjs require",
              "userRequest": "./types",
              "loc": "30:13-31"
            }
          ],
          "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _ship = require('./ship');\n\nvar Ships = _interopRequireWildcard(_ship);\n\nvar _hardpoint = require('./hardpoint');\n\nvar Hardpoints = _interopRequireWildcard(_hardpoint);\n\nvar _shipyard = require('./shipyard');\n\nvar Shipyard = _interopRequireWildcard(_shipyard);\n\nvar _mine = require('./mine');\n\nvar Mine = _interopRequireWildcard(_mine);\n\nvar _island = require('./island');\n\nvar Island = _interopRequireWildcard(_island);\n\nvar _buildingtemplate = require('./buildingtemplate');\n\nvar BuildingTemplate = _interopRequireWildcard(_buildingtemplate);\n\nvar _projectile = require('./projectile');\n\nvar Projectile = _interopRequireWildcard(_projectile);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar Types = {\n  'ship': Ships,\n  'hardpoint': Hardpoints,\n  'shipyard': Shipyard,\n  'mine': Mine,\n  'playerstate': {},\n  'island': Island,\n  'buildingTemplate': BuildingTemplate,\n  'projectile': Projectile\n};\n\nexports.default = Types;"
        },
        {
          "id": 14,
          "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/shipyard.js",
          "name": "./app/shared/shipyard.js",
          "index": 14,
          "index2": 9,
          "size": 5592,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "assets": [],
          "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gamemap.js",
          "profile": {
            "factory": 434,
            "building": 3179,
            "dependencies": 4
          },
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "reasons": [
            {
              "moduleId": 13,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/types.js",
              "module": "./app/shared/types.js",
              "moduleName": "./app/shared/types.js",
              "type": "cjs require",
              "userRequest": "./shipyard",
              "loc": "15:16-37"
            },
            {
              "moduleId": 39,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gamemap.js",
              "module": "./app/shared/gamemap.js",
              "moduleName": "./app/shared/gamemap.js",
              "type": "cjs require",
              "userRequest": "./shipyard",
              "loc": "14:16-37"
            }
          ],
          "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nexports.createShipyard = createShipyard;\nexports.render = render;\nexports.getPosition = getPosition;\nexports.processUpdate = processUpdate;\nexports.remove = remove;\nexports.addTemplateToQueue = addTemplateToQueue;\nexports.removeTemplateFromQueue = removeTemplateFromQueue;\n\nvar _ship = require('./ship');\n\nvar Ships = _interopRequireWildcard(_ship);\n\nvar _template = require('../shared/template');\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/**\n * A shipyard entity.\n */\n\nfunction createShipyard(map, x, y, islandID, team) {\n  var shipyard = {\n    map: map,\n    x: x,\n    y: y,\n    islandID: islandID,\n    health: 100,\n    team: team,\n    id: map.getNextEntityId(),\n    set: true,\n    type: 'shipyard',\n    buildingQueue: [],\n    progressTowardsNextBuild: 0,\n    counters: { 0: 0, 1: 0, 2: 0 }\n  };\n\n  map.addEntity(shipyard);\n\n  return shipyard.id;\n}\n\nfunction render(shipyard, map, context, images, isSelected) {\n  if (shipyard.team === '1') {\n    context.fillStyle = 'firebrick';\n  } else {\n    context.fillStyle = 'royalblue';\n  }\n\n  context.beginPath();\n  context.arc(shipyard.x * 50, shipyard.y * 50, 25, 0, Math.PI * 2, true);\n  context.fill();\n\n  context.drawImage(images.shipyard, (shipyard.x - 0.5) * 50, (shipyard.y - 0.5) * 50, 50, 50);\n\n  context.fillStyle = 'red';\n  context.fillRect(shipyard.x * 50 - 20, shipyard.y * 50 + 30, 40, 5);\n\n  var healthpercent = shipyard.health / 100;\n\n  context.fillStyle = 'green';\n  context.fillRect(shipyard.x * 50 - 20, shipyard.y * 50 + 30, 40 * healthpercent, 5);\n\n  context.strokeStyle = 'black';\n  context.strokeRect(shipyard.x * 50 - 20, shipyard.y * 50 + 30, 40, 5);\n\n  if (isSelected) {\n    context.strokeStyle = 'cyan';\n    context.strokeRect((shipyard.x - 0.5) * 50, (shipyard.y - 0.5) * 50, 50, 50);\n  }\n}\n\nfunction getPosition(shipyard) {\n  return { x: shipyard.x, y: shipyard.y };\n}\n\nfunction processUpdate(shipyard, map) {\n  if (shipyard.buildingQueue.length > 0) {\n    shipyard.progressTowardsNextBuild += 1;\n\n    var _shipyard$buildingQue = shipyard.buildingQueue[0];\n    var template = _shipyard$buildingQue.template;\n    var templateNumber = _shipyard$buildingQue.templateNumber;\n\n    var stats = (0, _template.getStats)(template);\n\n    if (shipyard.progressTowardsNextBuild === stats.tcost) {\n      shipyard.buildingQueue.shift();\n      shipyard.counters[templateNumber]--;\n\n      var _map$getShipBuildCoor = map.getShipBuildCoords(shipyard.islandID);\n\n      var x = _map$getShipBuildCoor.x;\n      var y = _map$getShipBuildCoor.y;\n\n\n      if (x == null) {\n        console.error('No space available to build ship.');\n        map.getEntity(shipyard.team).coins += stats.cost;\n      } else {\n        Ships.createShipAndHardpoints(map, x, y, template, shipyard.team);\n      }\n\n      shipyard.progressTowardsNextBuild = 0;\n    }\n  }\n}\n\nfunction remove(shipyard, map) {\n  map.removeEntity(shipyard.id);\n\n  // Refund in progress ships\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = shipyard.buildingQueue[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var template = _step.value.template;\n\n      var stats = (0, _template.getStats)(template);\n      map.getEntity(shipyard.team).coins += stats.cost;\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n}\n\nfunction addTemplateToQueue(shipyard, templateNumber, template) {\n  shipyard.counters[templateNumber]++;\n  shipyard.buildingQueue.push({ template: template, templateNumber: templateNumber });\n}\n\nfunction removeTemplateFromQueue(shipyard, map, templateNumber) {\n  if (shipyard.counters[templateNumber] === 0) {\n    return;\n  }\n\n  shipyard.counters[templateNumber]--;\n  var optionIndex = null;\n  for (var i = 0; i < shipyard.buildingQueue.length; i++) {\n    if (shipyard.buildingQueue[i].templateNumber === templateNumber) {\n      optionIndex = i;\n    }\n  }\n\n  if (optionIndex == null) {\n    console.error('Trying to remove non-existant item from the queue? What?');\n  }\n\n  var _shipyard$buildingQue2 = shipyard.buildingQueue.splice(optionIndex, 1);\n\n  var _shipyard$buildingQue3 = _slicedToArray(_shipyard$buildingQue2, 1);\n\n  var removed = _shipyard$buildingQue3[0];\n\n\n  var stats = (0, _template.getStats)(removed.template);\n  map.getEntity(shipyard.team).coins += stats.cost;\n}"
        },
        {
          "id": 15,
          "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/mine.js",
          "name": "./app/shared/mine.js",
          "index": 15,
          "index2": 10,
          "size": 1559,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "assets": [],
          "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gamemap.js",
          "profile": {
            "factory": 433,
            "building": 2719
          },
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "reasons": [
            {
              "moduleId": 13,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/types.js",
              "module": "./app/shared/types.js",
              "moduleName": "./app/shared/types.js",
              "type": "cjs require",
              "userRequest": "./mine",
              "loc": "19:12-29"
            },
            {
              "moduleId": 39,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gamemap.js",
              "module": "./app/shared/gamemap.js",
              "moduleName": "./app/shared/gamemap.js",
              "type": "cjs require",
              "userRequest": "./mine",
              "loc": "10:12-29"
            }
          ],
          "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createMine = createMine;\nexports.processUpdate = processUpdate;\nexports.render = render;\nexports.getPosition = getPosition;\nexports.remove = remove;\n/**\n * A mine entity.\n */\n\nfunction createMine(map, x, y, islandID, team) {\n  var mine = {\n    type: 'mine',\n    x: x,\n    y: y,\n    id: map.getNextEntityId(),\n    islandID: islandID,\n    team: team,\n    health: 100\n  };\n\n  map.addEntity(mine);\n\n  return mine.id;\n}\n\nfunction processUpdate(mine, map) {\n  map.getEntity(mine.team).coins += 0.2;\n}\n\nfunction render(mine, map, context, images, isSelected) {\n  if (mine.team === '1') {\n    context.fillStyle = 'firebrick';\n  } else {\n    context.fillStyle = 'royalblue';\n  }\n\n  context.beginPath();\n  context.arc(mine.x * 50, mine.y * 50, 25, 0, Math.PI * 2, true);\n  context.fill();\n\n  context.fillStyle = 'red';\n  context.fillRect(mine.x * 50 - 20, mine.y * 50 + 30, 40, 5);\n\n  var healthpercent = mine.health / 100;\n\n  context.fillStyle = 'green';\n  context.fillRect(mine.x * 50 - 20, mine.y * 50 + 30, 40 * healthpercent, 5);\n\n  context.strokeStyle = 'black';\n  context.strokeRect(mine.x * 50 - 20, mine.y * 50 + 30, 40, 5);\n\n  context.drawImage(images.mine, (mine.x - 0.5) * 50, (mine.y - 0.5) * 50, 50, 50);\n\n  if (isSelected) {\n    context.strokeStyle = 'cyan';\n    context.strokeRect((this.x - 0.5) * 50, (this.y - 0.5) * 50, 50, 50);\n  }\n}\n\nfunction getPosition(mine) {\n  return { x: mine.x, y: mine.y };\n}\n\nfunction remove(mine, map) {\n  map.removeEntity(mine.id);\n}"
        },
        {
          "id": 16,
          "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/island.js",
          "name": "./app/shared/island.js",
          "index": 16,
          "index2": 11,
          "size": 10076,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "assets": [],
          "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gamemap.js",
          "profile": {
            "factory": 437,
            "building": 4174
          },
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "reasons": [
            {
              "moduleId": 13,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/types.js",
              "module": "./app/shared/types.js",
              "moduleName": "./app/shared/types.js",
              "type": "cjs require",
              "userRequest": "./island",
              "loc": "23:14-33"
            },
            {
              "moduleId": 38,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/maps.js",
              "module": "./app/shared/maps.js",
              "moduleName": "./app/shared/maps.js",
              "type": "cjs require",
              "userRequest": "./island",
              "loc": "16:14-33"
            },
            {
              "moduleId": 39,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gamemap.js",
              "module": "./app/shared/gamemap.js",
              "moduleName": "./app/shared/gamemap.js",
              "type": "cjs require",
              "userRequest": "./island",
              "loc": "22:14-33"
            }
          ],
          "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nexports.createIsland = createIsland;\nexports.render = render;\nexports.isIsland = isIsland;\nexports.isNextToIsland = isNextToIsland;\nexports.processUpdate = processUpdate;\n/**\n * An island entity.\n */\n\nfunction addToPerimeter(island, x, y, map) {\n  if (x >= 0 && x < map.width && y >= 0 && y < map.height && !isIsland(island, x, y)) {\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = island.perimeter[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var _step$value = _slicedToArray(_step.value, 2);\n\n        var oldX = _step$value[0];\n        var oldY = _step$value[1];\n\n        if (oldX === x && oldY === y) {\n          return;\n        }\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    island.perimeter.push([x, y]);\n  }\n}\n\nfunction createIsland(map, topLeft, size) {\n  var coordinates = [];\n\n  for (var x = 0; x < size[0]; x++) {\n    for (var y = 0; y < size[1]; y++) {\n      coordinates.push([topLeft[0] + x, topLeft[1] + y]);\n    }\n  }\n\n  var island = {\n    coordinates: coordinates,\n    topLeft: topLeft,\n    size: size,\n    id: map.getNextEntityId(),\n    team: null,\n    perimeter: [],\n    type: 'island'\n  };\n\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = island.coordinates[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var _step2$value = _slicedToArray(_step2.value, 2);\n\n      var iX = _step2$value[0];\n      var iY = _step2$value[1];\n      var _arr = [-1, 0, 1];\n\n      for (var _i = 0; _i < _arr.length; _i++) {\n        var dx = _arr[_i];var _arr2 = [-1, 0, 1];\n\n        for (var _i2 = 0; _i2 < _arr2.length; _i2++) {\n          var dy = _arr2[_i2];\n          addToPerimeter(island, iX + dx, iY + dy, map);\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2.return) {\n        _iterator2.return();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  map.addEntity(island);\n\n  return island.id;\n}\n\nfunction render(island, map, context, images, isSelected) {\n  var noFlag = arguments.length <= 5 || arguments[5] === undefined ? false : arguments[5];\n\n  var _island$topLeft = _slicedToArray(island.topLeft, 2);\n\n  var x = _island$topLeft[0];\n  var y = _island$topLeft[1];\n\n  var _island$size = _slicedToArray(island.size, 2);\n\n  var width = _island$size[0];\n  var height = _island$size[1];\n\n\n  context.drawImage(images.island, (x - 0.5) * 50, (y - 0.5) * 50, width * 50, height * 50);\n\n  if (island.team != null && !noFlag) {\n    var flag = island.team === '0' ? images.blueFlag : images.redFlag;\n\n    var scale = 20;\n    context.drawImage(flag, (x + 0.3) * 50, (y - 0.9) * 50, 480 / scale, 670 / scale);\n  }\n}\n\nfunction isIsland(island, x, y) {\n  var _iteratorNormalCompletion3 = true;\n  var _didIteratorError3 = false;\n  var _iteratorError3 = undefined;\n\n  try {\n    for (var _iterator3 = island.coordinates[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n      var _step3$value = _slicedToArray(_step3.value, 2);\n\n      var iX = _step3$value[0];\n      var iY = _step3$value[1];\n\n      if (x === iX && y === iY) {\n        return true;\n      }\n    }\n  } catch (err) {\n    _didIteratorError3 = true;\n    _iteratorError3 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion3 && _iterator3.return) {\n        _iterator3.return();\n      }\n    } finally {\n      if (_didIteratorError3) {\n        throw _iteratorError3;\n      }\n    }\n  }\n\n  return false;\n}\n\nfunction isNextToIsland(island, x, y) {\n  var _iteratorNormalCompletion4 = true;\n  var _didIteratorError4 = false;\n  var _iteratorError4 = undefined;\n\n  try {\n    for (var _iterator4 = island.perimeter[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n      var _step4$value = _slicedToArray(_step4.value, 2);\n\n      var iX = _step4$value[0];\n      var iY = _step4$value[1];\n\n      if (x === iX && y === iY) {\n        return true;\n      }\n    }\n  } catch (err) {\n    _didIteratorError4 = true;\n    _iteratorError4 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion4 && _iterator4.return) {\n        _iterator4.return();\n      }\n    } finally {\n      if (_didIteratorError4) {\n        throw _iteratorError4;\n      }\n    }\n  }\n\n  return false;\n}\n\nfunction getOwningTeam(island, map) {\n  // First scan for buildings on this island\n  var _iteratorNormalCompletion5 = true;\n  var _didIteratorError5 = false;\n  var _iteratorError5 = undefined;\n\n  try {\n    for (var _iterator5 = map.entities.values()[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n      var entity = _step5.value;\n\n      if (entity.type === 'shipyard' || entity.type === 'mine') {\n        var _iteratorNormalCompletion7 = true;\n        var _didIteratorError7 = false;\n        var _iteratorError7 = undefined;\n\n        try {\n          for (var _iterator7 = island.coordinates[Symbol.iterator](), _step7; !(_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done); _iteratorNormalCompletion7 = true) {\n            var _step7$value = _slicedToArray(_step7.value, 2);\n\n            var iX = _step7$value[0];\n            var iY = _step7$value[1];\n\n            if (entity.x === iX && entity.y === iY) {\n              return entity.team;\n            }\n          }\n        } catch (err) {\n          _didIteratorError7 = true;\n          _iteratorError7 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion7 && _iterator7.return) {\n              _iterator7.return();\n            }\n          } finally {\n            if (_didIteratorError7) {\n              throw _iteratorError7;\n            }\n          }\n        }\n      }\n    }\n\n    // Then scan for ships. Note that we get all teams as we need to make sure\n    // that all surrounding ships are the right team.\n  } catch (err) {\n    _didIteratorError5 = true;\n    _iteratorError5 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion5 && _iterator5.return) {\n        _iterator5.return();\n      }\n    } finally {\n      if (_didIteratorError5) {\n        throw _iteratorError5;\n      }\n    }\n  }\n\n  var shipTeams = [];\n  var _iteratorNormalCompletion6 = true;\n  var _didIteratorError6 = false;\n  var _iteratorError6 = undefined;\n\n  try {\n    for (var _iterator6 = map.entities.values()[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n      var entity = _step6.value;\n\n      if (entity.type === 'ship') {\n        var _iteratorNormalCompletion8 = true;\n        var _didIteratorError8 = false;\n        var _iteratorError8 = undefined;\n\n        try {\n          for (var _iterator8 = island.perimeter[Symbol.iterator](), _step8; !(_iteratorNormalCompletion8 = (_step8 = _iterator8.next()).done); _iteratorNormalCompletion8 = true) {\n            var _step8$value = _slicedToArray(_step8.value, 2);\n\n            var iX = _step8$value[0];\n            var iY = _step8$value[1];\n\n            if (Math.round(entity.x) === iX && Math.round(entity.y) === iY) {\n              shipTeams.push(entity.team);\n            }\n          }\n        } catch (err) {\n          _didIteratorError8 = true;\n          _iteratorError8 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion8 && _iterator8.return) {\n              _iterator8.return();\n            }\n          } finally {\n            if (_didIteratorError8) {\n              throw _iteratorError8;\n            }\n          }\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError6 = true;\n    _iteratorError6 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion6 && _iterator6.return) {\n        _iterator6.return();\n      }\n    } finally {\n      if (_didIteratorError6) {\n        throw _iteratorError6;\n      }\n    }\n  }\n\n  if (shipTeams.length > 0) {\n    var _ret = function () {\n      var firstTeam = shipTeams[0];\n\n      if (shipTeams.every(function (team) {\n        return team === firstTeam;\n      })) {\n        return {\n          v: firstTeam\n        };\n      }\n    }();\n\n    if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\") return _ret.v;\n  }\n\n  return null;\n}\n\nfunction processUpdate(island, map) {\n  island.team = getOwningTeam(island, map);\n}"
        },
        {
          "id": 17,
          "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/buildingtemplate.js",
          "name": "./app/shared/buildingtemplate.js",
          "index": 17,
          "index2": 12,
          "size": 3140,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "assets": [],
          "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/types.js",
          "profile": {
            "factory": 99,
            "building": 3946,
            "dependencies": 1
          },
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "reasons": [
            {
              "moduleId": 13,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/types.js",
              "module": "./app/shared/types.js",
              "moduleName": "./app/shared/types.js",
              "type": "cjs require",
              "userRequest": "./buildingtemplate",
              "loc": "27:24-53"
            }
          ],
          "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createBuildingTemplate = createBuildingTemplate;\nexports.render = render;\nexports.processUpdate = processUpdate;\nexports.remove = remove;\n\nvar _buildingconstants = require('./buildingconstants');\n\nvar _buildingconstants2 = _interopRequireDefault(_buildingconstants);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction createBuildingTemplate(map, x, y, team, islandID, buildingType) {\n  var template = {\n    x: x,\n    y: y,\n    id: map.getNextEntityId(),\n    buildingType: buildingType,\n    progressTowardsBuild: 0,\n    type: 'buildingTemplate',\n    team: team,\n    islandID: islandID,\n    health: 100\n  };\n\n  map.addEntity(template);\n\n  return template.id;\n}\n\nfunction render(template, map, context, images) {\n  if (template.team === '1') {\n    context.fillStyle = 'firebrick';\n  } else {\n    context.fillStyle = 'royalblue';\n  }\n\n  context.beginPath();\n  context.arc(template.x * 50, template.y * 50, 25, 0, Math.PI * 2, true);\n  context.fill();\n\n  switch (template.buildingType) {\n    case 'shipyard':\n      context.drawImage(images.shipyard, (template.x - 0.5) * 50, (template.y - 0.5) * 50, 50, 50);\n      break;\n    case 'mine':\n      context.drawImage(images.mine, (template.x - 0.5) * 50, (template.y - 0.5) * 50, 50, 50);\n      break;\n\n    default:\n      console.error('No support for building type', template.buildingType);\n  }\n\n  context.save();\n  context.beginPath();\n  context.rect((template.x - 0.5) * 50, (template.y - 0.5) * 50, 50, 50);\n  context.clip();\n\n  var angle = template.progressTowardsBuild / _buildingconstants2.default[template.buildingType].buildTime * Math.PI * 2;\n\n  context.globalCompositeOperation = 'multiply';\n  context.fillStyle = 'rgba(0,0,0,.5)';\n  context.beginPath();\n  context.arc(template.x * 50, template.y * 50, 50, 0, angle, true);\n  context.lineTo(template.x * 50, template.y * 50);\n  context.fill();\n  context.globalCompositeOperation = 'source-over';\n\n  context.strokeStyle = 'white';\n  context.beginPath();\n  context.moveTo(template.x * 50, template.y * 50);\n  context.lineTo(template.x * 50 + 50, template.y * 50);\n  context.arc(template.x * 50, template.y * 50, 50, 0, angle, true);\n  context.lineTo(template.x * 50, template.y * 50);\n  context.stroke();\n\n  context.restore();\n\n  context.fillStyle = 'red';\n  context.fillRect(template.x * 50 - 20, template.y * 50 + 30, 40, 5);\n\n  var healthpercent = template.health / 100;\n\n  context.fillStyle = 'green';\n  context.fillRect(template.x * 50 - 20, template.y * 50 + 30, 40 * healthpercent, 5);\n\n  context.strokeStyle = 'black';\n  context.strokeRect(template.x * 50 - 20, template.y * 50 + 30, 40, 5);\n}\n\nfunction processUpdate(template, map) {\n  template.progressTowardsBuild += 1;\n  if (template.progressTowardsBuild === _buildingconstants2.default[template.buildingType].buildTime) {\n    map.addBuilding(template.buildingType, template.x, template.y, template.islandID, template.team);\n    map.removeEntity(template.id);\n  }\n}\n\nfunction remove(template, map) {\n  map.removeEntity(template.id);\n}"
        },
        {
          "id": 18,
          "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/projectile.js",
          "name": "./app/shared/projectile.js",
          "index": 18,
          "index2": 14,
          "size": 1714,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "assets": [],
          "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/hardpoint.js",
          "profile": {
            "factory": 2520,
            "building": 3755,
            "dependencies": 1
          },
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "reasons": [
            {
              "moduleId": 11,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/hardpoint.js",
              "module": "./app/shared/hardpoint.js",
              "moduleName": "./app/shared/hardpoint.js",
              "type": "cjs require",
              "userRequest": "./projectile",
              "loc": "20:18-41"
            },
            {
              "moduleId": 13,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/types.js",
              "module": "./app/shared/types.js",
              "moduleName": "./app/shared/types.js",
              "type": "cjs require",
              "userRequest": "./projectile",
              "loc": "31:18-41"
            }
          ],
          "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createProjectile = createProjectile;\nexports.processUpdate = processUpdate;\nexports.render = render;\n\nvar _types = require('./types');\n\nvar _types2 = _interopRequireDefault(_types);\n\nvar _template = require('./template');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction createProjectile(map, position, target, projectileType) {\n  var projectile = {\n    id: map.getNextEntityId(),\n    position: position,\n    targetId: target.id,\n    type: 'projectile',\n    projectileType: projectileType\n  };\n\n  map.addEntity(projectile);\n\n  return projectile.id;\n}\n\nfunction processUpdate(projectile, map) {\n  var target = map.getEntity(projectile.targetId);\n  if (target == null) {\n    map.removeEntity(projectile.id);\n    return;\n  }\n\n  var targetPosition = _types2.default[target.type].getPosition(target, map);\n\n  var dx = targetPosition.x - projectile.position.x;\n  var dy = targetPosition.y - projectile.position.y;\n\n  var dist = Math.sqrt(dx * dx + dy * dy);\n\n  if (dist < 0.1) {\n    map.removeEntity(projectile.id);\n\n    target.health -= _template.hardpoints[projectile.projectileType].damage;\n\n    if (target.health <= 0) {\n      _types2.default[target.type].remove(target, map);\n    }\n  } else {\n    var movement = Math.min(dist, 0.2);\n\n    projectile.position.x += dx / dist * movement;\n    projectile.position.y += dy / dist * movement;\n  }\n}\n\nfunction render(projectile, map, context, images) {\n  var radius = 10;\n  context.drawImage(images[projectile.projectileType], projectile.position.x * 50 - radius / 2, projectile.position.y * 50 - radius / 2, radius, radius);\n}"
        },
        {
          "id": 19,
          "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/vector.js",
          "name": "./app/shared/vector.js",
          "index": 19,
          "index2": 15,
          "size": 228,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "assets": [],
          "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/ship.js",
          "profile": {
            "factory": 206,
            "building": 3780
          },
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "reasons": [
            {
              "moduleId": 12,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/ship.js",
              "module": "./app/shared/ship.js",
              "moduleName": "./app/shared/ship.js",
              "type": "cjs require",
              "userRequest": "./vector",
              "loc": "31:14-33"
            }
          ],
          "source": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getDistance = getDistance;\nfunction getDistance(a, b) {\n  var dx = a.x - b.x;\n  var dy = a.y - b.y;\n  return Math.sqrt(dx * dx + dy * dy);\n}"
        },
        {
          "id": 20,
          "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/shipbuilder.js",
          "name": "./app/shared/guibuttons/shipbuilder.js",
          "index": 20,
          "index2": 17,
          "size": 2406,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "assets": [],
          "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
          "profile": {
            "factory": 4256,
            "building": 1138,
            "dependencies": 1
          },
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "reasons": [
            {
              "moduleId": 4,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
              "module": "./app/shared/gui.js",
              "moduleName": "./app/shared/gui.js",
              "type": "cjs require",
              "userRequest": "./guibuttons/shipbuilder",
              "loc": "28:19-54"
            }
          ],
          "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _guibutton = require('../guibutton');\n\nvar _guibutton2 = _interopRequireDefault(_guibutton);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Shipbuilder = function (_GuiButton) {\n  _inherits(Shipbuilder, _GuiButton);\n\n  function Shipbuilder() {\n    _classCallCheck(this, Shipbuilder);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Shipbuilder).apply(this, arguments));\n  }\n\n  _createClass(Shipbuilder, [{\n    key: 'render',\n    value: function render(context, images) {\n      if (this.selected) {\n        context.strokeStyle = 'cyan';\n        context.strokeRect(this.x, this.y, this.width, this.height);\n      }\n\n      context.drawImage(images.designer, this.x, this.y, this.width, this.height);\n    }\n  }]);\n\n  return Shipbuilder;\n}(_guibutton2.default);\n\nexports.default = Shipbuilder;"
        },
        {
          "id": 21,
          "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/roundshot.js",
          "name": "./app/shared/guibuttons/roundshot.js",
          "index": 21,
          "index2": 18,
          "size": 2593,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "assets": [],
          "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
          "profile": {
            "factory": 4257,
            "building": 1334,
            "dependencies": 1
          },
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "reasons": [
            {
              "moduleId": 4,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
              "module": "./app/shared/gui.js",
              "moduleName": "./app/shared/gui.js",
              "type": "cjs require",
              "userRequest": "./guibuttons/roundshot",
              "loc": "32:17-50"
            }
          ],
          "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _guibutton = require('../guibutton');\n\nvar _guibutton2 = _interopRequireDefault(_guibutton);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Roundshot = function (_GuiButton) {\n  _inherits(Roundshot, _GuiButton);\n\n  function Roundshot() {\n    _classCallCheck(this, Roundshot);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Roundshot).apply(this, arguments));\n  }\n\n  _createClass(Roundshot, [{\n    key: 'render',\n    value: function render(context, images) {\n      if (this.selected) {\n        context.strokeStyle = 'cyan';\n        context.strokeRect(this.x, this.y, this.width, this.height);\n      }\n\n      context.fillStyle = 'lightgreen';\n      context.beginPath();\n      context.arc(this.x + this.width / 2, this.y + this.width / 2, this.height / 2 + 5, 0, Math.PI * 2, true);\n      context.fill();\n\n      context.drawImage(images.roundshot, this.x, this.y, this.width, this.height);\n    }\n  }]);\n\n  return Roundshot;\n}(_guibutton2.default);\n\nexports.default = Roundshot;"
        },
        {
          "id": 22,
          "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/grapeshot.js",
          "name": "./app/shared/guibuttons/grapeshot.js",
          "index": 22,
          "index2": 19,
          "size": 2593,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "assets": [],
          "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
          "profile": {
            "factory": 4258,
            "building": 1521,
            "dependencies": 1
          },
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "reasons": [
            {
              "moduleId": 4,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
              "module": "./app/shared/gui.js",
              "moduleName": "./app/shared/gui.js",
              "type": "cjs require",
              "userRequest": "./guibuttons/grapeshot",
              "loc": "36:17-50"
            }
          ],
          "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _guibutton = require('../guibutton');\n\nvar _guibutton2 = _interopRequireDefault(_guibutton);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Grapeshot = function (_GuiButton) {\n  _inherits(Grapeshot, _GuiButton);\n\n  function Grapeshot() {\n    _classCallCheck(this, Grapeshot);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Grapeshot).apply(this, arguments));\n  }\n\n  _createClass(Grapeshot, [{\n    key: 'render',\n    value: function render(context, images) {\n      if (this.selected) {\n        context.strokeStyle = 'cyan';\n        context.strokeRect(this.x, this.y, this.width, this.height);\n      }\n\n      context.fillStyle = 'lightgreen';\n      context.beginPath();\n      context.arc(this.x + this.width / 2, this.y + this.width / 2, this.height / 2 + 5, 0, Math.PI * 2, true);\n      context.fill();\n\n      context.drawImage(images.grapeshot, this.x, this.y, this.width, this.height);\n    }\n  }]);\n\n  return Grapeshot;\n}(_guibutton2.default);\n\nexports.default = Grapeshot;"
        },
        {
          "id": 23,
          "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/shell.js",
          "name": "./app/shared/guibuttons/shell.js",
          "index": 23,
          "index2": 20,
          "size": 2556,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "assets": [],
          "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
          "profile": {
            "factory": 4259,
            "building": 1696,
            "dependencies": 0
          },
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "reasons": [
            {
              "moduleId": 4,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
              "module": "./app/shared/gui.js",
              "moduleName": "./app/shared/gui.js",
              "type": "cjs require",
              "userRequest": "./guibuttons/shell",
              "loc": "40:13-42"
            }
          ],
          "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _guibutton = require('../guibutton');\n\nvar _guibutton2 = _interopRequireDefault(_guibutton);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Shell = function (_GuiButton) {\n  _inherits(Shell, _GuiButton);\n\n  function Shell() {\n    _classCallCheck(this, Shell);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Shell).apply(this, arguments));\n  }\n\n  _createClass(Shell, [{\n    key: 'render',\n    value: function render(context, images) {\n      if (this.selected) {\n        context.strokeStyle = 'cyan';\n        context.strokeRect(this.x, this.y, this.width, this.height);\n      }\n\n      context.fillStyle = 'lightgreen';\n      context.beginPath();\n      context.arc(this.x + this.width / 2, this.y + this.width / 2, this.width / 2 + 5, 0, Math.PI * 2, true);\n      context.fill();\n\n      context.drawImage(images.shell, this.x, this.y, this.width, this.height);\n    }\n  }]);\n\n  return Shell;\n}(_guibutton2.default);\n\nexports.default = Shell;"
        },
        {
          "id": 24,
          "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/cancelshot.js",
          "name": "./app/shared/guibuttons/cancelshot.js",
          "index": 24,
          "index2": 21,
          "size": 2601,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "assets": [],
          "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
          "profile": {
            "factory": 4262,
            "building": 1877,
            "dependencies": 1
          },
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "reasons": [
            {
              "moduleId": 4,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
              "module": "./app/shared/gui.js",
              "moduleName": "./app/shared/gui.js",
              "type": "cjs require",
              "userRequest": "./guibuttons/cancelshot",
              "loc": "44:18-52"
            }
          ],
          "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _guibutton = require('../guibutton');\n\nvar _guibutton2 = _interopRequireDefault(_guibutton);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Cancelshot = function (_GuiButton) {\n  _inherits(Cancelshot, _GuiButton);\n\n  function Cancelshot() {\n    _classCallCheck(this, Cancelshot);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Cancelshot).apply(this, arguments));\n  }\n\n  _createClass(Cancelshot, [{\n    key: 'render',\n    value: function render(context, images) {\n      if (this.selected) {\n        context.strokeStyle = 'cyan';\n        context.strokeRect(this.x, this.y, this.width, this.height);\n      }\n\n      context.fillStyle = 'lightgreen';\n      context.beginPath();\n      context.arc(this.x + this.width / 2, this.y + this.width / 2, this.width / 2 + 5, 0, Math.PI * 2, true);\n      context.fill();\n\n      context.drawImage(images.cancelshot, this.x, this.y, this.width, this.height);\n    }\n  }]);\n\n  return Cancelshot;\n}(_guibutton2.default);\n\nexports.default = Cancelshot;"
        },
        {
          "id": 25,
          "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/targettoggle.js",
          "name": "./app/shared/guibuttons/targettoggle.js",
          "index": 25,
          "index2": 22,
          "size": 2640,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "assets": [],
          "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
          "profile": {
            "factory": 4265,
            "building": 2020,
            "dependencies": 0
          },
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "reasons": [
            {
              "moduleId": 4,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
              "module": "./app/shared/gui.js",
              "moduleName": "./app/shared/gui.js",
              "type": "cjs require",
              "userRequest": "./guibuttons/targettoggle",
              "loc": "48:20-56"
            }
          ],
          "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _guibutton = require('../guibutton');\n\nvar _guibutton2 = _interopRequireDefault(_guibutton);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar TargetToggle = function (_GuiButton) {\n  _inherits(TargetToggle, _GuiButton);\n\n  function TargetToggle() {\n    _classCallCheck(this, TargetToggle);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(TargetToggle).apply(this, arguments));\n  }\n\n  _createClass(TargetToggle, [{\n    key: 'render',\n    value: function render(context, images) {\n      if (this.selected) {\n        context.strokeStyle = 'cyan';\n        context.strokeRect(this.x, this.y, this.width, this.height);\n      }\n\n      switch (this.type) {\n        case 'hull':\n          context.drawImage(images.targettoggleCannon, this.x, this.y, this.width, this.height);\n          break;\n        case 'hardpoints':\n          context.drawImage(images.targettoggleHull, this.x, this.y, this.width, this.height);\n          break;\n      }\n    }\n  }]);\n\n  return TargetToggle;\n}(_guibutton2.default);\n\nexports.default = TargetToggle;"
        },
        {
          "id": 26,
          "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/exit.js",
          "name": "./app/shared/guibuttons/exit.js",
          "index": 26,
          "index2": 23,
          "size": 2346,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "assets": [],
          "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
          "profile": {
            "factory": 4267,
            "building": 2158,
            "dependencies": 1
          },
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "reasons": [
            {
              "moduleId": 4,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
              "module": "./app/shared/gui.js",
              "moduleName": "./app/shared/gui.js",
              "type": "cjs require",
              "userRequest": "./guibuttons/exit",
              "loc": "52:12-40"
            }
          ],
          "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _guibutton = require('../guibutton');\n\nvar _guibutton2 = _interopRequireDefault(_guibutton);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Exit = function (_GuiButton) {\n  _inherits(Exit, _GuiButton);\n\n  function Exit() {\n    _classCallCheck(this, Exit);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Exit).apply(this, arguments));\n  }\n\n  _createClass(Exit, [{\n    key: 'render',\n    value: function render(context, images) {\n      if (this.selected) {\n        context.strokeStyle = 'cyan';\n        context.strokeRect(this.x, this.y, this.width, this.height);\n      }\n\n      context.drawImage(images.exit, this.x, this.y, this.width, this.height);\n    }\n  }]);\n\n  return Exit;\n}(_guibutton2.default);\n\nexports.default = Exit;"
        },
        {
          "id": 27,
          "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/template.js",
          "name": "./app/shared/guibuttons/template.js",
          "index": 27,
          "index2": 24,
          "size": 4229,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "assets": [],
          "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
          "profile": {
            "factory": 4270,
            "building": 2414,
            "dependencies": 2
          },
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "reasons": [
            {
              "moduleId": 4,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
              "module": "./app/shared/gui.js",
              "moduleName": "./app/shared/gui.js",
              "type": "cjs require",
              "userRequest": "./guibuttons/template",
              "loc": "56:17-49"
            }
          ],
          "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _guibutton = require('../guibutton');\n\nvar _guibutton2 = _interopRequireDefault(_guibutton);\n\nvar _hardpoint = require('../hardpoint');\n\nvar Hardpoints = _interopRequireWildcard(_hardpoint);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Template = function (_GuiButton) {\n  _inherits(Template, _GuiButton);\n\n  function Template() {\n    _classCallCheck(this, Template);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Template).apply(this, arguments));\n  }\n\n  _createClass(Template, [{\n    key: 'render',\n    value: function render(context, images) {\n      context.fillStyle = 'cornsilk';\n      context.fillRect(this.x, this.y, 50, 50);\n\n      switch (this.template.hull) {\n        case 'gunboat':\n          context.drawImage(images.gunboat, this.x, this.y, this.width, this.height);\n          break;\n        case 'frigate':\n          context.drawImage(images.frigate, this.x, this.y, this.width, this.height);\n          break;\n        case 'galleon':\n          context.drawImage(images.galleon, this.x, this.y, this.width, this.height);\n          break;\n      }\n\n      var i = 0;\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.template.hardpoints[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var hardpoint = _step.value;\n\n          if (hardpoint != null) {\n            Hardpoints.renderTemplate(hardpoint, i, this.x + 10, this.y + 38, context, images);\n          }\n          i += 1;\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      switch (this.rendertype) {\n        case 'template':\n          break;\n        case 'templateSelected':\n          context.strokeStyle = 'cyan';\n          context.strokeRect(this.x, this.y, 50, 50);\n          break;\n        default:\n          console.error('Trying to render unknown button');\n      }\n    }\n  }]);\n\n  return Template;\n}(_guibutton2.default);\n\nexports.default = Template;"
        },
        {
          "id": 28,
          "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/gunboat.js",
          "name": "./app/shared/guibuttons/gunboat.js",
          "index": 28,
          "index2": 25,
          "size": 2598,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "assets": [],
          "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
          "profile": {
            "factory": 4271,
            "building": 2569,
            "dependencies": 0
          },
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "reasons": [
            {
              "moduleId": 4,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
              "module": "./app/shared/gui.js",
              "moduleName": "./app/shared/gui.js",
              "type": "cjs require",
              "userRequest": "./guibuttons/gunboat",
              "loc": "60:15-46"
            }
          ],
          "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _guibutton = require('../guibutton');\n\nvar _guibutton2 = _interopRequireDefault(_guibutton);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Gunboat = function (_GuiButton) {\n  _inherits(Gunboat, _GuiButton);\n\n  function Gunboat() {\n    _classCallCheck(this, Gunboat);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Gunboat).apply(this, arguments));\n  }\n\n  _createClass(Gunboat, [{\n    key: 'render',\n    value: function render(context, images) {\n      if (this.type == 'gunboatSelected') {\n        context.strokeStyle = 'lightgreen';\n        context.strokeRect(this.x, this.y, this.width, this.height);\n      }\n\n      context.fillStyle = 'lightgreen';\n      context.beginPath();\n      context.arc(this.x + this.width / 2, this.y + this.width / 2, this.height / 2 + 5, 0, Math.PI * 2, true);\n      context.fill();\n\n      context.drawImage(images.gunboat, this.x, this.y, this.width, this.height);\n    }\n  }]);\n\n  return Gunboat;\n}(_guibutton2.default);\n\nexports.default = Gunboat;"
        },
        {
          "id": 29,
          "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/frigate.js",
          "name": "./app/shared/guibuttons/frigate.js",
          "index": 29,
          "index2": 26,
          "size": 2598,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "assets": [],
          "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
          "profile": {
            "factory": 4272,
            "building": 2749,
            "dependencies": 1
          },
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "reasons": [
            {
              "moduleId": 4,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
              "module": "./app/shared/gui.js",
              "moduleName": "./app/shared/gui.js",
              "type": "cjs require",
              "userRequest": "./guibuttons/frigate",
              "loc": "64:15-46"
            }
          ],
          "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _guibutton = require('../guibutton');\n\nvar _guibutton2 = _interopRequireDefault(_guibutton);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Frigate = function (_GuiButton) {\n  _inherits(Frigate, _GuiButton);\n\n  function Frigate() {\n    _classCallCheck(this, Frigate);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Frigate).apply(this, arguments));\n  }\n\n  _createClass(Frigate, [{\n    key: 'render',\n    value: function render(context, images) {\n      if (this.type == 'frigateSelected') {\n        context.strokeStyle = 'lightgreen';\n        context.strokeRect(this.x, this.y, this.width, this.height);\n      }\n\n      context.fillStyle = 'lightgreen';\n      context.beginPath();\n      context.arc(this.x + this.width / 2, this.y + this.width / 2, this.height / 2 + 5, 0, Math.PI * 2, true);\n      context.fill();\n\n      context.drawImage(images.frigate, this.x, this.y, this.width, this.height);\n    }\n  }]);\n\n  return Frigate;\n}(_guibutton2.default);\n\nexports.default = Frigate;"
        },
        {
          "id": 30,
          "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/galleon.js",
          "name": "./app/shared/guibuttons/galleon.js",
          "index": 30,
          "index2": 27,
          "size": 2598,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "assets": [],
          "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
          "profile": {
            "factory": 4273,
            "building": 2924,
            "dependencies": 2
          },
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "reasons": [
            {
              "moduleId": 4,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
              "module": "./app/shared/gui.js",
              "moduleName": "./app/shared/gui.js",
              "type": "cjs require",
              "userRequest": "./guibuttons/galleon",
              "loc": "68:15-46"
            }
          ],
          "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _guibutton = require('../guibutton');\n\nvar _guibutton2 = _interopRequireDefault(_guibutton);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Galleon = function (_GuiButton) {\n  _inherits(Galleon, _GuiButton);\n\n  function Galleon() {\n    _classCallCheck(this, Galleon);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Galleon).apply(this, arguments));\n  }\n\n  _createClass(Galleon, [{\n    key: 'render',\n    value: function render(context, images) {\n      if (this.type == 'galleonSelected') {\n        context.strokeStyle = 'lightgreen';\n        context.strokeRect(this.x, this.y, this.width, this.height);\n      }\n\n      context.fillStyle = 'lightgreen';\n      context.beginPath();\n      context.arc(this.x + this.width / 2, this.y + this.width / 2, this.height / 2 + 5, 0, Math.PI * 2, true);\n      context.fill();\n\n      context.drawImage(images.galleon, this.x, this.y, this.width, this.height);\n    }\n  }]);\n\n  return Galleon;\n}(_guibutton2.default);\n\nexports.default = Galleon;"
        },
        {
          "id": 31,
          "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/shipskeleton.js",
          "name": "./app/shared/guibuttons/shipskeleton.js",
          "index": 31,
          "index2": 28,
          "size": 2275,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "assets": [],
          "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
          "profile": {
            "factory": 4274,
            "building": 3075,
            "dependencies": 2
          },
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "reasons": [
            {
              "moduleId": 4,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
              "module": "./app/shared/gui.js",
              "moduleName": "./app/shared/gui.js",
              "type": "cjs require",
              "userRequest": "./guibuttons/shipskeleton",
              "loc": "72:20-56"
            }
          ],
          "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _guibutton = require('../guibutton');\n\nvar _guibutton2 = _interopRequireDefault(_guibutton);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ShipSkeleton = function (_GuiButton) {\n  _inherits(ShipSkeleton, _GuiButton);\n\n  function ShipSkeleton() {\n    _classCallCheck(this, ShipSkeleton);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(ShipSkeleton).apply(this, arguments));\n  }\n\n  _createClass(ShipSkeleton, [{\n    key: 'render',\n    value: function render(context, images) {\n      context.drawImage(images.shipskeleton, this.x, this.y, this.width, this.height);\n    }\n  }]);\n\n  return ShipSkeleton;\n}(_guibutton2.default);\n\nexports.default = ShipSkeleton;"
        },
        {
          "id": 32,
          "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/gunslot.js",
          "name": "./app/shared/guibuttons/gunslot.js",
          "index": 32,
          "index2": 29,
          "size": 3558,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "assets": [],
          "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
          "profile": {
            "factory": 4275,
            "building": 3324,
            "dependencies": 0
          },
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "reasons": [
            {
              "moduleId": 4,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
              "module": "./app/shared/gui.js",
              "moduleName": "./app/shared/gui.js",
              "type": "cjs require",
              "userRequest": "./guibuttons/gunslot",
              "loc": "76:15-46"
            }
          ],
          "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _guibutton = require('../guibutton');\n\nvar _guibutton2 = _interopRequireDefault(_guibutton);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Gunslot = function (_GuiButton) {\n  _inherits(Gunslot, _GuiButton);\n\n  function Gunslot() {\n    _classCallCheck(this, Gunslot);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Gunslot).apply(this, arguments));\n  }\n\n  _createClass(Gunslot, [{\n    key: 'render',\n    value: function render(context, images) {\n      if (this.visible == false) {\n        return;\n      }\n\n      if (this.selected) {\n        context.strokeStyle = 'cyan';\n        context.strokeRect(this.x, this.y, 50, 50);\n      }\n\n      switch (this.rendertype) {\n        case 'roundshot':\n          context.fillStyle = 'coral';\n          context.fillRect(this.x, this.y, 50, 50);\n          context.drawImage(images.roundshot, this.x, this.y, 50, 50);\n          break;\n        case 'chainshot':\n          context.fillStyle = 'coral';\n          context.fillRect(this.x, this.y, 50, 50);\n          context.drawImage(images.chainshot, this.x, this.y, 50, 50);\n          break;\n        case 'grapeshot':\n          context.fillStyle = 'coral';\n          context.fillRect(this.x, this.y, 50, 50);\n          context.drawImage(images.grapeshot, this.x, this.y, 50, 50);\n          break;\n        case 'shell':\n          context.fillStyle = 'coral';\n          context.fillRect(this.x, this.y, 50, 50);\n          context.drawImage(images.shell, this.x, this.y, 50, 50);\n          break;\n        case 'gunslot':\n          context.fillStyle = 'coral';\n          context.fillRect(this.x, this.y, 50, 50);\n          context.globalAlpha = 0.25;\n          context.drawImage(images.cannon, this.x, this.y, 50, 50);\n          context.globalAlpha = 1.0;\n          break;\n        default:\n          console.error('Trying to render unknown button: ', this.rendertype);\n      }\n    }\n  }]);\n\n  return Gunslot;\n}(_guibutton2.default);\n\nexports.default = Gunslot;"
        },
        {
          "id": 33,
          "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/hullslot.js",
          "name": "./app/shared/guibuttons/hullslot.js",
          "index": 33,
          "index2": 30,
          "size": 3076,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "assets": [],
          "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
          "profile": {
            "factory": 4276,
            "building": 3470,
            "dependencies": 1
          },
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "reasons": [
            {
              "moduleId": 4,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
              "module": "./app/shared/gui.js",
              "moduleName": "./app/shared/gui.js",
              "type": "cjs require",
              "userRequest": "./guibuttons/hullslot",
              "loc": "80:16-48"
            }
          ],
          "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _guibutton = require('../guibutton');\n\nvar _guibutton2 = _interopRequireDefault(_guibutton);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Hullslot = function (_GuiButton) {\n  _inherits(Hullslot, _GuiButton);\n\n  function Hullslot() {\n    _classCallCheck(this, Hullslot);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Hullslot).apply(this, arguments));\n  }\n\n  _createClass(Hullslot, [{\n    key: 'render',\n    value: function render(context, images) {\n      if (this.visible == false) {\n        return;\n      }\n\n      if (this.selected) {\n        context.strokeStyle = 'cyan';\n        context.strokeRect(this.x, this.y, 50, 50);\n      }\n\n      context.fillStyle = 'green';\n      context.fillRect(this.x, this.y, 50, 50);\n\n      switch (this.rendertype) {\n        case 'gunboat':\n          context.drawImage(images.gunboat, this.x, this.y, 50, 50);\n          break;\n        case 'frigate':\n          context.drawImage(images.frigate, this.x, this.y, 50, 50);\n          break;\n        case 'galleon':\n          context.drawImage(images.galleon, this.x, this.y, 50, 50);\n          break;\n        case 'hullslot':\n          context.globalAlpha = 0.25;\n          context.drawImage(images.ship, this.x, this.y, 50, 50);\n          context.globalAlpha = 1.0;\n          break;\n        default:\n          console.error('Trying to render unknown button: ', this.rendertype);\n      }\n    }\n  }]);\n\n  return Hullslot;\n}(_guibutton2.default);\n\nexports.default = Hullslot;"
        },
        {
          "id": 34,
          "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/save.js",
          "name": "./app/shared/guibuttons/save.js",
          "index": 34,
          "index2": 31,
          "size": 2346,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "assets": [],
          "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
          "profile": {
            "factory": 4277,
            "building": 3639,
            "dependencies": 1
          },
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "reasons": [
            {
              "moduleId": 4,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
              "module": "./app/shared/gui.js",
              "moduleName": "./app/shared/gui.js",
              "type": "cjs require",
              "userRequest": "./guibuttons/save",
              "loc": "84:12-40"
            }
          ],
          "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _guibutton = require('../guibutton');\n\nvar _guibutton2 = _interopRequireDefault(_guibutton);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Save = function (_GuiButton) {\n  _inherits(Save, _GuiButton);\n\n  function Save() {\n    _classCallCheck(this, Save);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Save).apply(this, arguments));\n  }\n\n  _createClass(Save, [{\n    key: 'render',\n    value: function render(context, images) {\n      if (this.selected) {\n        context.strokeStyle = 'cyan';\n        context.strokeRect(this.x, this.y, this.width, this.height);\n      }\n\n      context.drawImage(images.save, this.x, this.y, this.width, this.height);\n    }\n  }]);\n\n  return Save;\n}(_guibutton2.default);\n\nexports.default = Save;"
        },
        {
          "id": 35,
          "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/startscreen.js",
          "name": "./app/client/startscreen.js",
          "index": 35,
          "index2": 38,
          "size": 12478,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "assets": [],
          "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/main.js",
          "profile": {
            "factory": 99,
            "building": 3346,
            "dependencies": 3
          },
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "reasons": [
            {
              "moduleId": 0,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/main.js",
              "module": "./app/client/main.js",
              "moduleName": "./app/client/main.js",
              "type": "cjs require",
              "userRequest": "./startscreen",
              "loc": "15:19-43"
            }
          ],
          "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.GUI_WIDTH = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _mapselect = require('../shared/guibuttons/mapselect');\n\nvar _mapselect2 = _interopRequireDefault(_mapselect);\n\nvar _ready = require('../shared/guibuttons/ready');\n\nvar _ready2 = _interopRequireDefault(_ready);\n\nvar _maps = require('../shared/maps');\n\nvar _audio = require('./audio');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar GUI_WIDTH = exports.GUI_WIDTH = 200;\n\nfunction drawRequests(context, images, requests) {\n  var view = new Float32Array(5 * 6 * requests.length);\n  var index = 0;\n\n  for (var i = 0; i < requests.length; i++) {\n    var _requests$i = requests[i];\n    var image = _requests$i.image;\n    var x = _requests$i.x;\n    var y = _requests$i.y;\n\n    var info = images.pixelJson[image];\n\n    view[index++] = x;\n    view[index++] = y + info.sizey;\n    view[index++] = 0;\n\n    view[index++] = info.x / images.pixelJson.sizex;\n    view[index++] = (info.y + info.sizey) / images.pixelJson.sizey;\n\n    view[index++] = x + info.sizex;\n    view[index++] = y;\n    view[index++] = 0.0;\n\n    view[index++] = (info.x + info.sizex) / images.pixelJson.sizex;\n    view[index++] = info.y / images.pixelJson.sizey;\n\n    view[index++] = x + info.sizex;\n    view[index++] = y + info.sizey;\n    view[index++] = 0.0;\n\n    view[index++] = (info.x + info.sizex) / images.pixelJson.sizex;\n    view[index++] = (info.y + info.sizey) / images.pixelJson.sizey;\n\n    view[index++] = x;\n    view[index++] = y + info.sizey;\n    view[index++] = 0;\n\n    view[index++] = info.x / images.pixelJson.sizex;\n    view[index++] = (info.y + info.sizey) / images.pixelJson.sizey;\n\n    view[index++] = x + info.sizex;\n    view[index++] = y;\n    view[index++] = 0.0;\n\n    view[index++] = (info.x + info.sizex) / images.pixelJson.sizex;\n    view[index++] = info.y / images.pixelJson.sizey;\n\n    view[index++] = x;\n    view[index++] = y;\n    view[index++] = 0.0;\n\n    view[index++] = info.x / images.pixelJson.sizex;\n    view[index++] = info.y / images.pixelJson.sizey;\n  }\n\n  context.bufferData(context.ARRAY_BUFFER, view, context.DYNAMIC_DRAW);\n\n  context.drawArrays(context.TRIANGLES, 0, requests.length * 6);\n}\n\nvar StartScreen = function () {\n  function StartScreen(images, game) {\n    _classCallCheck(this, StartScreen);\n\n    this.canvas = document.getElementById('canvas');\n    this.context = this.canvas.getContext('webgl');\n\n    this.game = game;\n    this.game.gui.displayMode = 'designer';\n    this.game.gui.displayContext = 'startscreen';\n\n    this.width = this.canvas.width;\n    this.height = this.canvas.height;\n\n    this.images = images;\n    this.team = null;\n\n    this.buttons = [];\n    this.buttons.push(new _mapselect2.default('mapselect', 675, 325, 102, 26, 0));\n    this.buttons.push(new _mapselect2.default('mapselect', 825, 325, 102, 26, 1));\n    this.buttons.push(new _mapselect2.default('mapselect', 750, 375, 102, 26, 2));\n    this.buttons[0].rendertype = 'westindies';\n    this.buttons[1].rendertype = 'tropics';\n    this.buttons[2].rendertype = 'greatlakes';\n\n    this.buttons[0].selected = true;\n\n    this.mode = 'splash';\n\n    this.epicSound = (0, _audio.createSource)(images['bensound-epic']);\n    this.epicSound.loop = true;\n    this.epicSound.start(0);\n  }\n\n  _createClass(StartScreen, [{\n    key: 'render',\n    value: function render() {\n      var result = [];\n      if (this.mode === 'splash') {\n        this.renderSplash(result);\n      } else if (this.mode === 'setup') {\n        this.renderSetup(result);\n      }\n\n      this.context.clearColor(1.0, 0.0, 0.0, 1.0);\n      this.context.clear(this.context.COLOR_BUFFER_BIT);\n\n      drawRequests(this.context, this.images, result);\n    }\n  }, {\n    key: 'renderSplash',\n    value: function renderSplash(result) {\n      result.push({ image: 'splashscreen', x: 0, y: 0 });\n    }\n  }, {\n    key: 'renderSetup',\n    value: function renderSetup(result) {\n      this.context.clearRect(0, 0, this.width, this.height);\n\n      this.context.fillStyle = 'linen';\n      this.context.fillRect(0, 0, this.width, this.height);\n\n      this.context.translate(this.width - 520, 50);\n      var map = (0, _maps.createMap)(this.mapNum);\n      var scale = map.width / 5;\n      this.context.scale(1 / scale, 1 / scale);\n      this.context.translate(25, 25);\n      map.renderStartScreenMiniMap(this.context, this.images);\n      this.context.translate(-25, -25);\n      this.context.scale(scale, scale);\n      this.context.translate(-this.width + 520, -50);\n\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.buttons[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var button = _step.value;\n\n          button.render(this.context, this.images);\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      if (this.team == null) {\n        this.renderLoading();\n      } else {\n        this.context.fillStyle = 'black';\n        if (this.team === '1') {\n          this.context.drawImage(this.images.piratesTag, 0, 0);\n        } else if (this.team === '0') {\n          this.context.drawImage(this.images.imperialsTag, 0, 0);\n        }\n\n        this.context.textBaseline = 'top';\n        this.context.font = '50px Perpetua';\n        this.context.fillText('Status:', 40, 250);\n\n        this.context.font = '30px Perpetua';\n        var startingY = 300;\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n          for (var _iterator2 = Object.keys(this.readyStates)[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var team = _step2.value;\n\n            if (team != this.team) {\n              this.context.fillText((team === '1' ? 'Pirates      ' : 'Imperials  ') + (this.readyStates[team] ? 'Ready' : 'Not Ready'), 50, startingY);\n            } else {\n              this.context.fillText(team === '1' ? 'Pirates      ' : 'Imperials  ', 50, startingY);\n            }\n\n            startingY += 50;\n          }\n        } catch (err) {\n          _didIteratorError2 = true;\n          _iteratorError2 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n              _iterator2.return();\n            }\n          } finally {\n            if (_didIteratorError2) {\n              throw _iteratorError2;\n            }\n          }\n        }\n      }\n\n      if (this.hoveredCoords && this.hoveredCoords.x >= this.width - GUI_WIDTH) {\n        this.game.gui.render(this.context, this.images, this.map, this.hoveredCoords);\n      } else {\n        this.game.gui.render(this.context, this.images, this.map, null);\n      }\n    }\n  }, {\n    key: 'renderLoading',\n    value: function renderLoading() {\n      this.context.font = '30px Brush Script MT';\n      this.context.fillStyle = 'black';\n      this.context.fillText('Loading ...', 50, 50);\n    }\n  }, {\n    key: '_assignTeam',\n    value: function _assignTeam(_ref) {\n      var team = _ref.team;\n      var readyStates = _ref.readyStates;\n      var mapNum = _ref.mapNum;\n\n      this.team = team;\n      this.game.team = team;\n      this.mapNum = mapNum;\n      this.readyStates = readyStates;\n\n      if (this.team === '1') {\n        this.buttons.push(new _ready2.default('notready', 160, 355, 128, 26));\n      } else {\n        this.buttons.push(new _ready2.default('notready', 160, 305, 128, 26));\n      }\n    }\n  }, {\n    key: '_updateReadyStates',\n    value: function _updateReadyStates(_ref2) {\n      var readyStates = _ref2.readyStates;\n\n      this.readyStates = readyStates;\n    }\n  }, {\n    key: 'selectMap',\n    value: function selectMap(mapNum) {\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = this.buttons[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var button = _step3.value;\n\n          if (button.getSlotNum() === mapNum) {\n            button.selected = true;\n          } else {\n            button.selected = false;\n          }\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3.return) {\n            _iterator3.return();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n\n      this.mapNum = mapNum;\n    }\n  }, {\n    key: 'getTeam',\n    value: function getTeam() {\n      return this.team;\n    }\n  }, {\n    key: 'mousemove',\n    value: function mousemove(event) {\n      var _getRawMouseCords = this.getRawMouseCords(event);\n\n      var rawX = _getRawMouseCords.rawX;\n      var rawY = _getRawMouseCords.rawY;\n\n      this.hoveredCoords = { x: rawX, y: rawY };\n    }\n  }, {\n    key: 'getRawMouseCords',\n    value: function getRawMouseCords(event) {\n      var rect = this.canvas.getBoundingClientRect();\n      return {\n        rawX: event.clientX - rect.left,\n        rawY: event.clientY - rect.top\n      };\n    }\n  }, {\n    key: 'mousedown',\n    value: function mousedown(event, sendMessage) {\n      if (this.mode === 'splash') {\n        this.mousedownSplash(event, sendMessage);\n      } else if (this.mode === 'setup') {\n        this.mousedownSetup(event, sendMessage);\n      }\n    }\n  }, {\n    key: 'mousedownSplash',\n    value: function mousedownSplash() {\n      this.epicSound.stop(0);\n      this.mode = 'setup';\n    }\n  }, {\n    key: 'mousedownSetup',\n    value: function mousedownSetup(event, sendMessage) {\n      if (this.team == null) {\n        return;\n      }\n\n      var _getRawMouseCords2 = this.getRawMouseCords(event);\n\n      var rawX = _getRawMouseCords2.rawX;\n      var rawY = _getRawMouseCords2.rawY;\n\n\n      var item = this.game.gui.getItem(rawX, rawY);\n      this.game.gui.designerSelection(item);\n      this.game.gui.displayMode = 'designer';\n\n      var _iteratorNormalCompletion4 = true;\n      var _didIteratorError4 = false;\n      var _iteratorError4 = undefined;\n\n      try {\n        for (var _iterator4 = this.buttons[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n          var button = _step4.value;\n\n          if (button.isOver(rawX, rawY)) {\n            if (button.getType() === 'mapselect') {\n              sendMessage({ type: 'UpdateMap', mapNum: button.getSlotNum() });\n            } else {\n              button.setType(!this.readyStates[this.team] ? 'ready' : 'notready');\n              sendMessage({ type: 'SetReadyState', readyState: !this.readyStates[this.team] });\n            }\n          }\n        }\n      } catch (err) {\n        _didIteratorError4 = true;\n        _iteratorError4 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion4 && _iterator4.return) {\n            _iterator4.return();\n          }\n        } finally {\n          if (_didIteratorError4) {\n            throw _iteratorError4;\n          }\n        }\n      }\n    }\n  }]);\n\n  return StartScreen;\n}();\n\nexports.default = StartScreen;"
        },
        {
          "id": 36,
          "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/mapselect.js",
          "name": "./app/shared/guibuttons/mapselect.js",
          "index": 36,
          "index2": 34,
          "size": 2740,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "assets": [],
          "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/startscreen.js",
          "profile": {
            "factory": 3057,
            "building": 2230
          },
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "reasons": [
            {
              "moduleId": 35,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/startscreen.js",
              "module": "./app/client/startscreen.js",
              "moduleName": "./app/client/startscreen.js",
              "type": "cjs require",
              "userRequest": "../shared/guibuttons/mapselect",
              "loc": "10:17-58"
            }
          ],
          "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _guibutton = require('../guibutton');\n\nvar _guibutton2 = _interopRequireDefault(_guibutton);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar MapSelect = function (_GuiButton) {\n  _inherits(MapSelect, _GuiButton);\n\n  function MapSelect() {\n    _classCallCheck(this, MapSelect);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(MapSelect).apply(this, arguments));\n  }\n\n  _createClass(MapSelect, [{\n    key: 'render',\n    value: function render(context, images) {\n      if (this.selected) {\n        context.strokeStyle = 'red';\n        context.strokeRect(this.x, this.y, this.width, this.height);\n      }\n\n      switch (this.rendertype) {\n        case 'westindies':\n          context.drawImage(images.westindies, this.x, this.y, this.width, this.height);\n          break;\n        case 'tropics':\n          context.drawImage(images.tropics, this.x, this.y, this.width, this.height);\n          break;\n        case 'greatlakes':\n          context.drawImage(images.greatlakes, this.x, this.y, this.width, this.height);\n          break;\n      }\n    }\n  }]);\n\n  return MapSelect;\n}(_guibutton2.default);\n\nexports.default = MapSelect;"
        },
        {
          "id": 37,
          "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/ready.js",
          "name": "./app/shared/guibuttons/ready.js",
          "index": 37,
          "index2": 35,
          "size": 2419,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "assets": [],
          "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/startscreen.js",
          "profile": {
            "factory": 3059,
            "building": 2358,
            "dependencies": 3617
          },
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "reasons": [
            {
              "moduleId": 35,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/startscreen.js",
              "module": "./app/client/startscreen.js",
              "moduleName": "./app/client/startscreen.js",
              "type": "cjs require",
              "userRequest": "../shared/guibuttons/ready",
              "loc": "14:13-50"
            }
          ],
          "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _guibutton = require('../guibutton');\n\nvar _guibutton2 = _interopRequireDefault(_guibutton);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Ready = function (_GuiButton) {\n  _inherits(Ready, _GuiButton);\n\n  function Ready() {\n    _classCallCheck(this, Ready);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Ready).apply(this, arguments));\n  }\n\n  _createClass(Ready, [{\n    key: 'render',\n    value: function render(context, images) {\n      switch (this.type) {\n        case 'ready':\n          context.drawImage(images.ready, this.x, this.y, this.width, this.height);\n          break;\n        case 'notready':\n          context.drawImage(images.notready, this.x, this.y, this.width, this.height);\n          break;\n      }\n    }\n  }]);\n\n  return Ready;\n}(_guibutton2.default);\n\nexports.default = Ready;"
        },
        {
          "id": 38,
          "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/maps.js",
          "name": "./app/shared/maps.js",
          "index": 38,
          "index2": 37,
          "size": 4204,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "assets": [],
          "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/main.js",
          "profile": {
            "factory": 101,
            "building": 6346,
            "dependencies": 65
          },
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "reasons": [
            {
              "moduleId": 0,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/main.js",
              "module": "./app/client/main.js",
              "moduleName": "./app/client/main.js",
              "type": "cjs require",
              "userRequest": "../shared/maps",
              "loc": "27:12-37"
            },
            {
              "moduleId": 35,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/startscreen.js",
              "module": "./app/client/startscreen.js",
              "moduleName": "./app/client/startscreen.js",
              "type": "cjs require",
              "userRequest": "../shared/maps",
              "loc": "18:12-37"
            }
          ],
          "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createMap = createMap;\n\nvar _gamemap = require('./gamemap');\n\nvar _gamemap2 = _interopRequireDefault(_gamemap);\n\nvar _ship = require('./ship');\n\nvar Ships = _interopRequireWildcard(_ship);\n\nvar _island = require('./island');\n\nvar Islands = _interopRequireWildcard(_island);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar maps = [{\n  width: 20,\n  height: 20,\n  ships: [{\n    team: '0',\n    x: 0,\n    y: 3\n  }, {\n    team: '1',\n    x: 17,\n    y: 17\n  }],\n  islands: [{\n    topLeft: [1, 1],\n    size: [1, 2]\n  }, {\n    topLeft: [18, 17],\n    size: [1, 2]\n  }, {\n    topLeft: [17, 3],\n    size: [1, 1]\n  }, {\n    topLeft: [3, 17],\n    size: [1, 1]\n  }]\n}, {\n  width: 30,\n  height: 30,\n  ships: [{\n    team: '0',\n    x: 1,\n    y: 3\n  }, {\n    team: '0',\n    x: 27,\n    y: 26\n  }, {\n    team: '1',\n    x: 16,\n    y: 16\n  }],\n  islands: [{\n    topLeft: [1, 1],\n    size: [2, 2]\n  }, {\n    topLeft: [13, 14],\n    size: [4, 2]\n  }, {\n    topLeft: [27, 27],\n    size: [2, 2]\n  }, {\n    topLeft: [9, 9],\n    size: [1, 1]\n  }, {\n    topLeft: [20, 20],\n    size: [1, 1]\n  }, {\n    topLeft: [27, 1],\n    size: [2, 1]\n  }, {\n    topLeft: [1, 27],\n    size: [1, 2]\n  }]\n}, {\n  width: 40,\n  height: 40,\n  ships: [{\n    team: '0',\n    x: 2,\n    y: 3\n  }, {\n    team: '1',\n    x: 37,\n    y: 36\n  }],\n  islands: [{\n    topLeft: [1, 1],\n    size: [1, 2]\n  }, {\n    topLeft: [19, 19],\n    size: [2, 2]\n  }, {\n    topLeft: [10, 10],\n    size: [1, 1]\n  }, {\n    topLeft: [29, 29],\n    size: [1, 1]\n  }, {\n    topLeft: [10, 29],\n    size: [1, 1]\n  }, {\n    topLeft: [29, 10],\n    size: [1, 1]\n  }, {\n    topLeft: [1, 38],\n    size: [2, 1]\n  }, {\n    topLeft: [38, 1],\n    size: [1, 2]\n  }, {\n    topLeft: [38, 37],\n    size: [1, 2]\n  }]\n}];\n\nvar template = {\n  hull: 'gunboat',\n  hardpoints: ['roundshot']\n};\n\nfunction createMap(mapNum) {\n  var _maps$mapNum = maps[mapNum];\n  var ships = _maps$mapNum.ships;\n  var width = _maps$mapNum.width;\n  var height = _maps$mapNum.height;\n  var islands = _maps$mapNum.islands;\n\n\n  var map = new _gamemap2.default({\n    entries: [],\n    width: width,\n    height: height\n  });\n\n  map.addEntity({\n    id: '0',\n    type: 'playerstate',\n    coins: 50,\n    targetMode: 'hull',\n    numItems: 0\n  });\n\n  map.addEntity({\n    id: '1',\n    type: 'playerstate',\n    coins: 50,\n    targetMode: 'hull',\n    numItems: 0\n  });\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = ships[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var _step$value = _step.value;\n      var team = _step$value.team;\n      var x = _step$value.x;\n      var y = _step$value.y;\n\n      Ships.createShipAndHardpoints(map, x, y, template, team);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = islands[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var island = _step2.value;\n\n      Islands.createIsland(map, island.topLeft, island.size);\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2.return) {\n        _iterator2.return();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  return map;\n}"
        },
        {
          "id": 39,
          "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gamemap.js",
          "name": "./app/shared/gamemap.js",
          "index": 39,
          "index2": 36,
          "size": 25067,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "assets": [],
          "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/main.js",
          "profile": {
            "factory": 101,
            "building": 5972
          },
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "reasons": [
            {
              "moduleId": 0,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/main.js",
              "module": "./app/client/main.js",
              "moduleName": "./app/client/main.js",
              "type": "cjs require",
              "userRequest": "../shared/gamemap",
              "loc": "23:15-43"
            },
            {
              "moduleId": 38,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/maps.js",
              "module": "./app/shared/maps.js",
              "moduleName": "./app/shared/maps.js",
              "type": "cjs require",
              "userRequest": "./gamemap",
              "loc": "8:15-35"
            }
          ],
          "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.GUI_WIDTH = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _mine = require('./mine');\n\nvar Mines = _interopRequireWildcard(_mine);\n\nvar _shipyard = require('./shipyard');\n\nvar Shipyards = _interopRequireWildcard(_shipyard);\n\nvar _hardpoint = require('./hardpoint');\n\nvar Hardpoints = _interopRequireWildcard(_hardpoint);\n\nvar _island = require('./island');\n\nvar Islands = _interopRequireWildcard(_island);\n\nvar _ship = require('./ship');\n\nvar Ships = _interopRequireWildcard(_ship);\n\nvar _types = require('./types');\n\nvar _types2 = _interopRequireDefault(_types);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar GUI_WIDTH = exports.GUI_WIDTH = 200;\n\n/**\n * A map of the game containing islands and all current ships.\n */\n\nvar GameMap = function () {\n  function GameMap(initialState) {\n    _classCallCheck(this, GameMap);\n\n    var entries = initialState.entries;\n    var width = initialState.width;\n    var height = initialState.height;\n\n\n    this.entities = new Map();\n    this.nextEntityId = 2;\n\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = entries[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var value = _step.value;\n\n        this.addEntity(value);\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    this.width = width;\n    this.height = height;\n  }\n\n  _createClass(GameMap, [{\n    key: 'getInitialState',\n    value: function getInitialState() {\n      return {\n        entries: [].concat(_toConsumableArray(this.entities.values())),\n        width: this.width,\n        height: this.height\n      };\n    }\n  }, {\n    key: 'getStartingCoords',\n    value: function getStartingCoords(team) {\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = this.entities.values()[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var entity = _step2.value;\n\n          if (entity.type === 'ship' && entity.team === team) {\n            var pos = Ships.getPosition(entity);\n            pos.x *= 50;\n            pos.y *= 50;\n            return pos;\n          }\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n    }\n  }, {\n    key: 'updateEntity',\n    value: function updateEntity(entity) {\n      if (!this.entities.has(entity.id)) {\n        console.error('Updating an entity which does not exist: ', entity);\n      }\n\n      this.entities.set(entity.id, entity);\n    }\n  }, {\n    key: 'addEntity',\n    value: function addEntity(entity) {\n      if (this.entities.has(entity.id)) {\n        console.error('Adding an entity which already exists: ', entity);\n      }\n\n      this.entities.set(entity.id, entity);\n    }\n  }, {\n    key: 'removeEntity',\n    value: function removeEntity(entityId) {\n      if (typeof entityId !== 'string') {\n        console.error('Bad entitity id', entityId);\n      }\n      this.entities.delete(entityId);\n    }\n  }, {\n    key: 'getEntity',\n    value: function getEntity(entityId) {\n      return this.entities.get(entityId);\n    }\n  }, {\n    key: 'getNextEntityId',\n    value: function getNextEntityId() {\n      if (typeof windows !== 'undefined') {\n        console.error('You are trying to create something on the client. Do not do that.');\n      }\n\n      var id = this.nextEntityId++;\n      return '' + id;\n    }\n  }, {\n    key: 'setMode',\n    value: function setMode(mode) {\n      this.mode = mode;\n    }\n  }, {\n    key: 'getMode',\n    value: function getMode() {\n      return this.mode;\n    }\n\n    /**\n     * Render both the map and all ships on it.\n     */\n\n  }, {\n    key: 'render',\n    value: function render(context, images, selectionState, fogContext, visibleContext, team) {\n      this.renderMap(context, images, selectionState, fogContext, visibleContext, team);\n    }\n  }, {\n    key: 'renderMiniMap',\n    value: function renderMiniMap(context, images, x, y, width, height, fogContext, visibleContext, team) {\n      this.renderMap(context, images, { gui: null, map: [] }, fogContext, visibleContext, team, 5, this.width / 3);\n\n      context.globalCompositeOperation = 'multiply';\n      context.fillStyle = 'rgba(0,0,0,.5)';\n      context.fillRect(-25, -25, this.width * 50, y);\n\n      context.fillRect(-25, y - 25, x, height);\n\n      context.fillRect(-25 + x + width, y - 25, this.width * 50 - x - width, height);\n\n      context.fillRect(-25, -25 + y + height, this.width * 50, this.height * 50 - y - height);\n\n      context.globalCompositeOperation = 'source-over';\n      context.strokeStyle = 'black';\n\n      context.lineWidth = 20;\n      context.strokeRect(-25, -25, this.width * 50, this.height * 50);\n      context.lineWidth = 1;\n    }\n  }, {\n    key: 'renderStartScreenMiniMap',\n    value: function renderStartScreenMiniMap(context, images) {\n      this.renderMainMap(context, images, { gui: null, map: [] }, 5, this.width / 3);\n    }\n  }, {\n    key: 'countPlayerItems',\n    value: function countPlayerItems() {\n      var result = {\n        '0': 0,\n        '1': 0\n      };\n\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = this.entities.values()[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var entity = _step3.value;\n\n          if (entity.team != null) {\n            result[entity.team] += 1;\n          }\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3.return) {\n            _iterator3.return();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n\n      return result;\n    }\n  }, {\n    key: 'renderMap',\n    value: function renderMap(context, images, selectionState, fogContext, visibleContext, team) {\n      var gridSize = arguments.length <= 6 || arguments[6] === undefined ? 1 : arguments[6];\n      var gridWidth = arguments.length <= 7 || arguments[7] === undefined ? 1 : arguments[7];\n\n      this.renderFoggedArea(context, images, selectionState, fogContext, visibleContext, team, gridSize, gridWidth);\n      this.renderNormalArea(context, images, selectionState, fogContext, visibleContext, team, gridSize, gridWidth);\n      context.globalCompositeOperation = 'source-over';\n    }\n  }, {\n    key: 'renderFoggedArea',\n    value: function renderFoggedArea(context, images, selectionState, fogContext, visibleContext, team, gridSize, gridWidth) {\n      this.updateFogContext(fogContext, team);\n\n      visibleContext.clearRect(0, 0, this.width * 50, this.height * 50);\n      visibleContext.translate(25, 25);\n\n      visibleContext.globalCompositeOperation = 'source-over';\n      visibleContext.drawImage(fogContext.canvas, -25, -25);\n\n      visibleContext.globalCompositeOperation = 'source-atop';\n\n      visibleContext.fillStyle = 'antiquewhite';\n      visibleContext.fillRect(-25, -25, this.width * 50, this.height * 50);\n\n      visibleContext.lineWidth = gridWidth;\n\n      for (var x = 0; x < this.width; x += gridSize) {\n        for (var y = 0; y < this.height; y += gridSize) {\n          visibleContext.strokeStyle = 'lightgray';\n          visibleContext.strokeRect((x - 0.5) * 50, (y - 0.5) * 50, gridSize * 50, gridSize * 50);\n        }\n      }\n\n      visibleContext.lineWidth = 1.0;\n\n      var _iteratorNormalCompletion4 = true;\n      var _didIteratorError4 = false;\n      var _iteratorError4 = undefined;\n\n      try {\n        for (var _iterator4 = this.entities.values()[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n          var entity = _step4.value;\n\n          var type = _types2.default[entity.type];\n          if (type.render != null && entity.type === 'island') {\n            type.render(entity, this, visibleContext, images, false, true);\n          }\n        }\n      } catch (err) {\n        _didIteratorError4 = true;\n        _iteratorError4 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion4 && _iterator4.return) {\n            _iterator4.return();\n          }\n        } finally {\n          if (_didIteratorError4) {\n            throw _iteratorError4;\n          }\n        }\n      }\n\n      visibleContext.globalCompositeOperation = 'multiply';\n      visibleContext.fillStyle = 'grey';\n      visibleContext.fillRect(-25, -25, this.width * 50, this.height * 50);\n\n      visibleContext.translate(-25, -25);\n\n      context.globalCompositeOperation = 'source-over';\n      context.drawImage(visibleContext.canvas, -25, -25);\n    }\n  }, {\n    key: 'renderNormalArea',\n    value: function renderNormalArea(context, images, selectionState, fogContext, visibleContext, team, gridSize, gridWidth) {\n      visibleContext.clearRect(0, 0, this.width * 50, this.height * 50);\n      visibleContext.translate(25, 25);\n\n      visibleContext.globalCompositeOperation = 'source-over';\n\n      this.renderVisibleMask(visibleContext, team);\n\n      visibleContext.globalCompositeOperation = 'source-atop';\n\n      this.renderMainMap(visibleContext, images, selectionState, gridSize, gridWidth);\n\n      visibleContext.translate(-25, -25);\n\n      context.globalCompositeOperation = 'source-over';\n      context.drawImage(visibleContext.canvas, -25, -25);\n    }\n  }, {\n    key: 'renderVisibleMask',\n    value: function renderVisibleMask(context, team) {\n      context.fillStyle = 'red';\n      var _iteratorNormalCompletion5 = true;\n      var _didIteratorError5 = false;\n      var _iteratorError5 = undefined;\n\n      try {\n        for (var _iterator5 = this.entities.values()[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n          var entity = _step5.value;\n\n          if (entity.team === team) {\n            context.beginPath();\n            context.arc(entity.x * 50, entity.y * 50, 25 * 4, 0, Math.PI * 2, true);\n            context.fill();\n          }\n        }\n      } catch (err) {\n        _didIteratorError5 = true;\n        _iteratorError5 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion5 && _iterator5.return) {\n            _iterator5.return();\n          }\n        } finally {\n          if (_didIteratorError5) {\n            throw _iteratorError5;\n          }\n        }\n      }\n    }\n  }, {\n    key: 'renderMainMap',\n    value: function renderMainMap(context, images, selectionState, gridSize, gridWidth) {\n      context.fillStyle = 'antiquewhite';\n      context.fillRect(-25, -25, this.width * 50, this.height * 50);\n\n      for (var x = 0; x < this.width; x += gridSize) {\n        for (var y = 0; y < this.height; y += gridSize) {\n          context.strokeStyle = 'lightgray';\n          context.lineWidth = gridWidth;\n          context.strokeRect((x - 0.5) * 50, (y - 0.5) * 50, gridSize * 50, gridSize * 50);\n        }\n      }\n\n      context.lineWidth = 1.0;\n\n      var _iteratorNormalCompletion6 = true;\n      var _didIteratorError6 = false;\n      var _iteratorError6 = undefined;\n\n      try {\n        for (var _iterator6 = this.entities.values()[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n          var entity = _step6.value;\n\n          var isSelected = selectionState.map.indexOf(entity.id) !== -1;\n\n          var type = _types2.default[entity.type];\n          if (type.render != null) {\n            type.render(entity, this, context, images, isSelected);\n          }\n        }\n      } catch (err) {\n        _didIteratorError6 = true;\n        _iteratorError6 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion6 && _iterator6.return) {\n            _iterator6.return();\n          }\n        } finally {\n          if (_didIteratorError6) {\n            throw _iteratorError6;\n          }\n        }\n      }\n\n      var _iteratorNormalCompletion7 = true;\n      var _didIteratorError7 = false;\n      var _iteratorError7 = undefined;\n\n      try {\n        for (var _iterator7 = this.entities.values()[Symbol.iterator](), _step7; !(_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done); _iteratorNormalCompletion7 = true) {\n          var entity = _step7.value;\n\n          var isSelected = selectionState.map.indexOf(entity.id) !== -1;\n\n          var type = _types2.default[entity.type];\n          if (type.renderOverlay != null) {\n            type.renderOverlay(entity, this, context, images, isSelected);\n          }\n        }\n      } catch (err) {\n        _didIteratorError7 = true;\n        _iteratorError7 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion7 && _iterator7.return) {\n            _iterator7.return();\n          }\n        } finally {\n          if (_didIteratorError7) {\n            throw _iteratorError7;\n          }\n        }\n      }\n    }\n  }, {\n    key: 'updateFogContext',\n    value: function updateFogContext(fogContext, team) {\n      fogContext.translate(25, 25);\n      this.renderVisibleMask(fogContext, team);\n      fogContext.translate(-25, -25);\n    }\n\n    /**\n     * Get an item on the map at a given x y position.\n     */\n\n  }, {\n    key: 'getItem',\n    value: function getItem(x, y) {\n      var _iteratorNormalCompletion8 = true;\n      var _didIteratorError8 = false;\n      var _iteratorError8 = undefined;\n\n      try {\n        for (var _iterator8 = this.entities.values()[Symbol.iterator](), _step8; !(_iteratorNormalCompletion8 = (_step8 = _iterator8.next()).done); _iteratorNormalCompletion8 = true) {\n          var entity = _step8.value;\n\n          if (entity.type === 'ship') {\n            var distanceSquared = (entity.x - x) * (entity.x - x) + (entity.y - y) * (entity.y - y);\n            var distance = Math.sqrt(distanceSquared);\n            if (distance <= 0.5) {\n              return entity;\n            }\n          } else if (entity.type === 'shipyard' || entity.type === 'mine') {\n            if (Math.round(x) === entity.x && Math.round(y) === entity.y) {\n              return entity;\n            }\n          }\n        }\n      } catch (err) {\n        _didIteratorError8 = true;\n        _iteratorError8 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion8 && _iterator8.return) {\n            _iterator8.return();\n          }\n        } finally {\n          if (_didIteratorError8) {\n            throw _iteratorError8;\n          }\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: 'interecting',\n    value: function interecting(x1, y1, x2, y2, entity) {\n      var centerX = (x1 + x2) / 2;\n      var centerY = (y1 + y2) / 2;\n\n      var dx = x2 - x1;\n      var dy = y2 - y1;\n\n      var xDist = Math.abs(entity.x - centerX);\n      var yDist = Math.abs(entity.y - centerY);\n\n      if (xDist < dx / 2) {\n        return yDist < 0.5 + dy / 2;\n      }\n\n      if (yDist < dy / 2) {\n        return xDist < 0.5 + dx / 2;\n      }\n\n      var distanceToCorner = Math.sqrt((xDist - dx / 2) * (xDist - dx / 2) + (yDist - dy / 2) * (yDist - dy / 2));\n\n      return distanceToCorner < 0.5;\n    }\n  }, {\n    key: 'getItemsWithinRectangle',\n    value: function getItemsWithinRectangle(x1, y1, x2, y2) {\n      var result = [];\n\n      var _iteratorNormalCompletion9 = true;\n      var _didIteratorError9 = false;\n      var _iteratorError9 = undefined;\n\n      try {\n        for (var _iterator9 = this.entities.values()[Symbol.iterator](), _step9; !(_iteratorNormalCompletion9 = (_step9 = _iterator9.next()).done); _iteratorNormalCompletion9 = true) {\n          var entity = _step9.value;\n\n          if (entity.type === 'ship') {\n            if (this.interecting(x1, y1, x2, y2, entity)) {\n              result.push(entity.id);\n            }\n          }\n        }\n      } catch (err) {\n        _didIteratorError9 = true;\n        _iteratorError9 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion9 && _iterator9.return) {\n            _iterator9.return();\n          }\n        } finally {\n          if (_didIteratorError9) {\n            throw _iteratorError9;\n          }\n        }\n      }\n\n      return result;\n    }\n  }, {\n    key: 'getHardpointItem',\n    value: function getHardpointItem(x, y) {\n      var _iteratorNormalCompletion10 = true;\n      var _didIteratorError10 = false;\n      var _iteratorError10 = undefined;\n\n      try {\n        for (var _iterator10 = this.entities.values()[Symbol.iterator](), _step10; !(_iteratorNormalCompletion10 = (_step10 = _iterator10.next()).done); _iteratorNormalCompletion10 = true) {\n          var entity = _step10.value;\n\n          if (entity.type === 'hardpoint') {\n            var position = Hardpoints.getPosition(entity, this);\n            var distanceSquared = (position.x - x) * (position.x - x) + (position.y - y) * (position.y - y);\n            var distance = Math.sqrt(distanceSquared);\n            if (distance <= entity.radius) {\n              return entity;\n            }\n          }\n        }\n      } catch (err) {\n        _didIteratorError10 = true;\n        _iteratorError10 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion10 && _iterator10.return) {\n            _iterator10.return();\n          }\n        } finally {\n          if (_didIteratorError10) {\n            throw _iteratorError10;\n          }\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: 'getShipHardpointItem',\n    value: function getShipHardpointItem(enemyShipId) {\n      var _iteratorNormalCompletion11 = true;\n      var _didIteratorError11 = false;\n      var _iteratorError11 = undefined;\n\n      try {\n        for (var _iterator11 = this.entities.values()[Symbol.iterator](), _step11; !(_iteratorNormalCompletion11 = (_step11 = _iterator11.next()).done); _iteratorNormalCompletion11 = true) {\n          var entity = _step11.value;\n\n          if (entity.type === 'hardpoint') {\n            if (entity.shipId === enemyShipId) {\n              return entity;\n            }\n          }\n        }\n      } catch (err) {\n        _didIteratorError11 = true;\n        _iteratorError11 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion11 && _iterator11.return) {\n            _iterator11.return();\n          }\n        } finally {\n          if (_didIteratorError11) {\n            throw _iteratorError11;\n          }\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: 'isNextToIsland',\n    value: function isNextToIsland(islandID, x, y) {\n      var island = this.getEntity(islandID);\n      return Islands.isNextToIsland(island, x, y);\n    }\n  }, {\n    key: 'getIsland',\n    value: function getIsland(x, y) {\n      var _iteratorNormalCompletion12 = true;\n      var _didIteratorError12 = false;\n      var _iteratorError12 = undefined;\n\n      try {\n        for (var _iterator12 = this.entities.values()[Symbol.iterator](), _step12; !(_iteratorNormalCompletion12 = (_step12 = _iterator12.next()).done); _iteratorNormalCompletion12 = true) {\n          var island = _step12.value;\n\n          if (island.type === 'island' && Islands.isIsland(island, x, y)) {\n            return island;\n          }\n        }\n      } catch (err) {\n        _didIteratorError12 = true;\n        _iteratorError12 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion12 && _iterator12.return) {\n            _iterator12.return();\n          }\n        } finally {\n          if (_didIteratorError12) {\n            throw _iteratorError12;\n          }\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: 'getShipBuildCoords',\n    value: function getShipBuildCoords(islandID) {\n      for (var x = 0; x < this.width; x++) {\n        for (var y = 0; y < this.height; y++) {\n          if (this.isNextToIsland(islandID, x, y)) {\n            var flag = true;\n            var _iteratorNormalCompletion13 = true;\n            var _didIteratorError13 = false;\n            var _iteratorError13 = undefined;\n\n            try {\n              for (var _iterator13 = this.entities.values()[Symbol.iterator](), _step13; !(_iteratorNormalCompletion13 = (_step13 = _iterator13.next()).done); _iteratorNormalCompletion13 = true) {\n                var entity = _step13.value;\n\n                if (entity.x === x && entity.y === y) {\n                  flag = false;\n                }\n              }\n            } catch (err) {\n              _didIteratorError13 = true;\n              _iteratorError13 = err;\n            } finally {\n              try {\n                if (!_iteratorNormalCompletion13 && _iterator13.return) {\n                  _iterator13.return();\n                }\n              } finally {\n                if (_didIteratorError13) {\n                  throw _iteratorError13;\n                }\n              }\n            }\n\n            if (flag) {\n              return { x: x, y: y };\n            }\n          }\n        }\n      }\n\n      return { x: null, y: null };\n    }\n  }, {\n    key: 'addBuilding',\n    value: function addBuilding(type, x, y, islandID, team) {\n      switch (type) {\n        case 'mine':\n          Mines.createMine(this, x, y, islandID, team);\n          break;\n        case 'shipyard':\n          Shipyards.createShipyard(this, x, y, islandID, team);\n          break;\n        default:\n          console.error('Unexpected building type: ', type);\n      }\n    }\n  }, {\n    key: 'getShips',\n    value: function getShips() {\n      return [].concat(_toConsumableArray(this.entities.values())).filter(function (a) {\n        return a.type === 'ship';\n      });\n    }\n  }, {\n    key: 'getIslands',\n    value: function getIslands() {\n      return [].concat(_toConsumableArray(this.entities.values())).filter(function (a) {\n        return a.type === 'island';\n      });\n    }\n\n    /**\n     * Update the map and get the corresponding update messages.\n     */\n\n  }, {\n    key: 'processUpdate',\n    value: function processUpdate() {\n      var _iteratorNormalCompletion14 = true;\n      var _didIteratorError14 = false;\n      var _iteratorError14 = undefined;\n\n      try {\n        for (var _iterator14 = this.entities.values()[Symbol.iterator](), _step14; !(_iteratorNormalCompletion14 = (_step14 = _iterator14.next()).done); _iteratorNormalCompletion14 = true) {\n          var entity = _step14.value;\n\n          var type = _types2.default[entity.type];\n          if (type == null) {\n            console.log(entity.type);\n          }\n          if (type.processUpdate != null) {\n            type.processUpdate(entity, this);\n          }\n        }\n      } catch (err) {\n        _didIteratorError14 = true;\n        _iteratorError14 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion14 && _iterator14.return) {\n            _iterator14.return();\n          }\n        } finally {\n          if (_didIteratorError14) {\n            throw _iteratorError14;\n          }\n        }\n      }\n    }\n  }]);\n\n  return GameMap;\n}();\n\nexports.default = GameMap;"
        },
        {
          "id": 40,
          "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/endscreen.js",
          "name": "./app/client/endscreen.js",
          "index": 40,
          "index2": 40,
          "size": 4378,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "assets": [],
          "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/main.js",
          "profile": {
            "factory": 100,
            "building": 3736
          },
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "reasons": [
            {
              "moduleId": 0,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/main.js",
              "module": "./app/client/main.js",
              "moduleName": "./app/client/main.js",
              "type": "cjs require",
              "userRequest": "./endscreen",
              "loc": "19:17-39"
            }
          ],
          "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _restart = require('../shared/guibuttons/restart');\n\nvar _restart2 = _interopRequireDefault(_restart);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar EndScreen = function () {\n  function EndScreen(images, winningTeam, team) {\n    _classCallCheck(this, EndScreen);\n\n    this.canvas = document.getElementById('canvas');\n    this.context = this.canvas.getContext('2d');\n\n    this.width = this.canvas.width;\n    this.height = this.canvas.height;\n\n    this.images = images;\n\n    this.winningTeam = winningTeam;\n    this.team = team;\n\n    this.buttons = [];\n    this.buttons.push(new _restart2.default('restart', 530, 300, 102, 26, 0));\n  }\n\n  _createClass(EndScreen, [{\n    key: 'render',\n    value: function render() {\n      this.context.clearRect(0, 0, this.width, this.height);\n\n      this.context.fillStyle = 'linen';\n      this.context.fillRect(0, 0, this.width, this.height);\n\n      if (this.winningTeam === '1') {\n        this.context.drawImage(this.images.piratesWinTag, 0, 0);\n      } else if (this.winningTeam === '0') {\n        this.context.drawImage(this.images.imperialsWinTag, 0, 0);\n      }\n\n      this.context.font = '50px Perpetua';\n      this.context.fillStyle = 'black';\n      if (this.team === this.winningTeam) {\n        this.context.fillText('You Win!', 500, 200);\n      } else {\n        this.context.fillText('You Lose!', 500, 200);\n      }\n\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.buttons[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var button = _step.value;\n\n          button.render(this.context, this.images);\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    }\n  }, {\n    key: 'getRawMouseCords',\n    value: function getRawMouseCords(event) {\n      var rect = this.canvas.getBoundingClientRect();\n      return {\n        rawX: event.clientX - rect.left,\n        rawY: event.clientY - rect.top\n      };\n    }\n  }, {\n    key: 'mousedown',\n    value: function mousedown(event) {\n      var _getRawMouseCords = this.getRawMouseCords(event);\n\n      var rawX = _getRawMouseCords.rawX;\n      var rawY = _getRawMouseCords.rawY;\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n\n        for (var _iterator2 = this.buttons[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var button = _step2.value;\n\n          if (button.isOver(rawX, rawY)) {\n            if (button.getType() === 'restart') {\n              return 'start';\n            }\n          }\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      return 'end';\n    }\n  }]);\n\n  return EndScreen;\n}();\n\nexports.default = EndScreen;"
        },
        {
          "id": 41,
          "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/restart.js",
          "name": "./app/shared/guibuttons/restart.js",
          "index": 41,
          "index2": 39,
          "size": 2230,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "assets": [],
          "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/endscreen.js",
          "profile": {
            "factory": 2670,
            "building": 2532,
            "dependencies": 3442
          },
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "reasons": [
            {
              "moduleId": 40,
              "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/endscreen.js",
              "module": "./app/client/endscreen.js",
              "moduleName": "./app/client/endscreen.js",
              "type": "cjs require",
              "userRequest": "../shared/guibuttons/restart",
              "loc": "9:15-54"
            }
          ],
          "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _guibutton = require('../guibutton');\n\nvar _guibutton2 = _interopRequireDefault(_guibutton);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Restart = function (_GuiButton) {\n  _inherits(Restart, _GuiButton);\n\n  function Restart() {\n    _classCallCheck(this, Restart);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Restart).apply(this, arguments));\n  }\n\n  _createClass(Restart, [{\n    key: 'render',\n    value: function render(context, images) {\n      context.drawImage(images.restart, this.x, this.y, this.width, this.height);\n    }\n  }]);\n\n  return Restart;\n}(_guibutton2.default);\n\nexports.default = Restart;"
        }
      ],
      "filteredModules": 0,
      "origins": [
        {
          "moduleId": 0,
          "module": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/main.js",
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/main.js",
          "moduleName": "./app/client/main.js",
          "loc": "",
          "name": "main",
          "reasons": []
        }
      ]
    }
  ],
  "modules": [
    {
      "id": 0,
      "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/main.js",
      "name": "./app/client/main.js",
      "index": 0,
      "index2": 41,
      "size": 11896,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "assets": [],
      "issuer": null,
      "profile": {
        "factory": 101,
        "building": 4075
      },
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "reasons": [],
      "source": "'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _assets = require('./assets');\n\nvar _assets2 = _interopRequireDefault(_assets);\n\nvar _audio = require('./audio');\n\nvar _game = require('./game');\n\nvar _game2 = _interopRequireDefault(_game);\n\nvar _startscreen = require('./startscreen');\n\nvar _startscreen2 = _interopRequireDefault(_startscreen);\n\nvar _endscreen = require('./endscreen');\n\nvar _endscreen2 = _interopRequireDefault(_endscreen);\n\nvar _gamemap = require('../shared/gamemap');\n\nvar _gamemap2 = _interopRequireDefault(_gamemap);\n\nvar _maps = require('../shared/maps');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar MILLISECONDS_PER_LOGIC_UPDATE = 5;\nvar MILLISECONDS_PER_RENDER_UPDATE = 15;\n\n/**\n * The central game object for most of the logic.\n */\n\nvar Main = function () {\n  /**\n   * Contruct the game.\n   * Takes as input the images object as produced by images.js\n   */\n\n  function Main(images) {\n    var _this = this;\n\n    _classCallCheck(this, Main);\n\n    this.mode = 'start';\n\n    this.canvas = document.getElementById('canvas');\n    this.context = this.canvas.getContext('webgl');\n\n    this.canvas.width = 1200;\n    this.canvas.height = 500;\n\n    this.width = this.canvas.width;\n    this.height = this.canvas.height;\n\n    this.images = images;\n\n    this.game = new _game2.default(this.images, (0, _maps.createMap)(0), \"0\");\n    this.startscreen = new _startscreen2.default(images, this.game);\n    this.endscreen = null;\n\n    document.addEventListener('keydown', function (event) {\n      if (_this.mode === 'game') {\n        _this.game.keydown(event, _this.pressedKeys);\n      }\n    });\n\n    document.addEventListener('keyup', function (event) {\n      if (_this.mode === 'game') {\n        _this.game.keyup(event, _this.pressedKeys);\n      }\n    });\n\n    // Ignore right click events on the canvas\n    this.canvas.addEventListener('contextmenu', function (event) {\n      event.preventDefault();\n    });\n\n    this.canvas.addEventListener('mousedown', function (event) {\n      if (_this.mode === 'game') {\n        _this.game.mousedown(event, _this.sendMessage.bind(_this));\n      } else if (_this.mode === 'start') {\n        _this.startscreen.mousedown(event, _this.sendMessage.bind(_this));\n      } else if (_this.mode === 'end') {\n        _this.mode = _this.endscreen.mousedown(event, _this.sendMessage.bind(_this));\n      }\n    });\n\n    this.canvas.addEventListener('mouseup', function (event) {\n      if (_this.mode === 'game') {\n        _this.game.mouseup(event, _this.sendMessage.bind(_this));\n      }\n    });\n\n    this.canvas.addEventListener('mousemove', function (event) {\n      if (_this.mode === 'game') {\n        _this.game.mousemove(event);\n      } else if (_this.mode === 'start') {\n        _this.startscreen.mousemove(event);\n      }\n      _this.render();\n    });\n\n    this.messageHandlerMap = {\n      'AddEntity': function AddEntity(m) {\n        return _this.game._addEntity(m);\n      },\n      'UpdateEntity': function UpdateEntity(m) {\n        return _this.game._updateEntity(m);\n      },\n      'RemoveEntity': function RemoveEntity(m) {\n        return _this.game._removeEntity(m);\n      },\n      'StartGame': function StartGame(m) {\n        return _this._startGame(m);\n      },\n      'AssignTeam': function AssignTeam(m) {\n        return _this.startscreen._assignTeam(m);\n      },\n      'UpdateReadyStates': function UpdateReadyStates(m) {\n        return _this.startscreen._updateReadyStates(m);\n      },\n      'UpdateMap': function UpdateMap(m) {\n        return _this._updateMap(m);\n      },\n      'GameOver': function GameOver(m) {\n        return _this._gameOverHandler(m);\n      },\n      'PlaySound': function PlaySound(m) {\n        return _this._playSound(m);\n      },\n      'MultiMessage': function MultiMessage(m) {\n        return _this._handleMulti(m);\n      }\n    };\n\n    this.setupGL();\n\n    this._startRenderLoop();\n  }\n\n  _createClass(Main, [{\n    key: 'setupGL',\n    value: function setupGL() {\n      var program = this.context.createProgram();\n\n      var vertexSource = '\\n      attribute vec3 position;\\n      attribute vec2 a_texcoord;\\n\\n      varying vec2 v_texcoord;\\n\\n      uniform vec2 screen_size;\\n\\n      void main()\\n      {\\n        v_texcoord = a_texcoord;\\n        vec2 temp = vec2(2, -2) * position.xy / screen_size + vec2(-1, 1);\\n        gl_Position = vec4(temp, position.z, 1.0);\\n      }\\n    ';\n\n      var fragmentSource = '\\n      precision mediump float;\\n      uniform sampler2D testImage;\\n\\n      varying vec2 v_texcoord;\\n\\n      void main()\\n      {\\n        gl_FragColor = texture2D(testImage, v_texcoord);\\n      }\\n    ';\n\n      this.context.viewport(0, 0, this.width, this.height);\n\n      var vertex = this.context.createShader(this.context.VERTEX_SHADER);\n      this.context.shaderSource(vertex, vertexSource);\n      this.context.compileShader(vertex);\n      this.context.attachShader(program, vertex);\n\n      var fragment = this.context.createShader(this.context.FRAGMENT_SHADER);\n      this.context.shaderSource(fragment, fragmentSource);\n      this.context.compileShader(fragment);\n      this.context.attachShader(program, fragment);\n\n      this.context.linkProgram(program);\n      this.context.validateProgram(program);\n      this.context.useProgram(program);\n\n      this.program = program;\n\n      this.texture = this.context.createTexture();\n\n      this.context.activeTexture(this.context.TEXTURE0);\n      this.context.bindTexture(this.context.TEXTURE_2D, this.texture);\n      this.context.texImage2D(this.context.TEXTURE_2D, 0, this.context.RGBA, this.context.RGBA, this.context.UNSIGNED_BYTE, this.images.pixelPng);\n\n      this.context.texParameteri(this.context.TEXTURE_2D, this.context.TEXTURE_MAG_FILTER, this.context.NEAREST);\n      this.context.texParameteri(this.context.TEXTURE_2D, this.context.TEXTURE_MIN_FILTER, this.context.NEAREST);\n\n      var validateStatus = this.context.getProgramParameter(program, this.context.VALIDATE_STATUS);\n      if (validateStatus === false) {\n        this.bad = true;\n        console.log('vertex', this.context.getShaderInfoLog(vertex));\n        console.log('fragment', this.context.getShaderInfoLog(fragment));\n        console.log('program', this.context.getProgramInfoLog(program));\n      } else {\n        this.bad = false;\n\n        var buffer = this.context.createBuffer();\n        this.context.bindBuffer(this.context.ARRAY_BUFFER, buffer);\n\n        var positionLocation = this.context.getAttribLocation(this.program, 'position');\n        var texLocation = this.context.getAttribLocation(this.program, 'a_texcoord');\n\n        this.context.enableVertexAttribArray(positionLocation);\n        this.context.vertexAttribPointer(positionLocation, 3, this.context.FLOAT, false, 4 * 5, 0);\n\n        this.context.enableVertexAttribArray(texLocation);\n        this.context.vertexAttribPointer(texLocation, 2, this.context.FLOAT, false, 4 * 5, 3 * 4);\n\n        var screenSizeLocation = this.context.getUniformLocation(this.program, 'screen_size');\n\n        this.context.uniform2f(screenSizeLocation, this.width, this.height);\n      }\n    }\n  }, {\n    key: 'sendMessage',\n    value: function sendMessage(message) {\n      // console.log('Sending', message);\n      this.ws.send(JSON.stringify(message));\n    }\n\n    /**\n     * Start the game by setting up the render intervals.\n     */\n\n  }, {\n    key: 'start',\n    value: function start() {\n      this.ws = new WebSocket('ws://localhost:3000');\n      this.ws.onmessage = this._onMessage.bind(this);\n    }\n  }, {\n    key: '_handleMulti',\n    value: function _handleMulti(_ref) {\n      var messages = _ref.messages;\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = messages[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var message = _step.value;\n\n          this._handleMessage(message);\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    }\n  }, {\n    key: '_startRenderLoop',\n    value: function _startRenderLoop() {\n      setInterval(this.render.bind(this), MILLISECONDS_PER_RENDER_UPDATE);\n      this.lastUpdate = performance.now();\n    }\n  }, {\n    key: '_playSound',\n    value: function _playSound(_ref2) {\n      var soundId = _ref2.soundId;\n\n      if (!(soundId in this.images)) {\n        console.error(soundId, ' not in this.images');\n      }\n      (0, _audio.createSource)(this.images[soundId]).start(0);\n    }\n  }, {\n    key: '_startGame',\n    value: function _startGame(_ref3) {\n      var initialState = _ref3.initialState;\n      var team = _ref3.team;\n\n      this.game = new _game2.default(this.images, new _gamemap2.default(initialState), team);\n      this.team = team;\n      this.mode = 'game';\n    }\n  }, {\n    key: '_gameOverHandler',\n    value: function _gameOverHandler(_ref4) {\n      var winningTeam = _ref4.winningTeam;\n\n      this.mode = 'end';\n      this.game = null;\n      this.endscreen = new _endscreen2.default(this.images, winningTeam, this.team);\n      this.startscreen = new _startscreen2.default(this.images);\n    }\n  }, {\n    key: '_updateMap',\n    value: function _updateMap(_ref5) {\n      var mapNum = _ref5.mapNum;\n\n      this.startscreen.selectMap(mapNum);\n    }\n  }, {\n    key: '_onMessage',\n    value: function _onMessage(event) {\n      var messageData = JSON.parse(event.data);\n      this._handleMessage(messageData);\n    }\n  }, {\n    key: '_handleMessage',\n    value: function _handleMessage(messageData) {\n      if (messageData.type in this.messageHandlerMap) {\n        this.messageHandlerMap[messageData.type](messageData);\n      } else {\n        console.error('Unknown type: ', messageData.type);\n      }\n    }\n\n    /**\n     * Update the game state when necessary.\n     */\n\n  }, {\n    key: 'update',\n    value: function update(currentTime) {\n      while (currentTime > this.lastUpdate) {\n        this.tick();\n        this.lastUpdate += MILLISECONDS_PER_LOGIC_UPDATE;\n      }\n    }\n\n    /**\n     * Perform a discrete update of the logic.\n     */\n\n  }, {\n    key: 'tick',\n    value: function tick() {\n      if (this.mode === 'game') {\n        this.game.tick();\n      }\n    }\n\n    /**\n     * Render the game. Also performs updates if necessary.\n     */\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var time = performance.now();\n\n      this.update(time);\n\n      if (this.mode === 'game') {\n        this.game.render();\n      } else if (this.mode === 'start') {\n        this.startscreen.render();\n      } else if (this.mode === 'end') {\n        this.endscreen.render();\n      }\n    }\n  }]);\n\n  return Main;\n}();\n\ndocument.addEventListener('DOMContentLoaded', function startCanvas() {\n  (0, _assets2.default)().then(function (images) {\n    var main = new Main(images);\n    window.main = main;\n    main.start();\n  });\n});"
    },
    {
      "id": 1,
      "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/assets.js",
      "name": "./app/client/assets.js",
      "index": 1,
      "index2": 1,
      "size": 2992,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "assets": [],
      "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/main.js",
      "profile": {
        "factory": 91,
        "building": 322,
        "dependencies": 1
      },
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "reasons": [
        {
          "moduleId": 0,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/main.js",
          "module": "./app/client/main.js",
          "moduleName": "./app/client/main.js",
          "type": "cjs require",
          "userRequest": "./assets",
          "loc": "5:14-33"
        }
      ],
      "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = loadAssets;\n\nvar _audio = require('./audio');\n\n// A mapping of image name to image source location.\nvar sources = {\n  ship: 'ship.png',\n  mine: 'mine2.png',\n  shipyard: 'shipyard2.png',\n  money: 'coin2.png',\n  shipskeleton: 'shipskeleton.png',\n  roundshot: 'roundshot.png',\n  chainshot: 'chainshot.png',\n  grapeshot: 'grapeshot.png',\n  shell: 'shell.png',\n  cancelshot: 'cancelshot.png',\n  gunboat: 'gunboat2.png',\n  frigate: 'frigate2.png',\n  galleon: 'galleon2.png',\n  template: 'template.png',\n  stats: 'stats.png',\n  info: 'info.png',\n  exit: 'exit.png',\n  smoke: 'smoke.png',\n  cannon: 'cannon.png',\n  designer: 'designer2.png',\n  targettoggleHull: 'targettoggleHull2.png',\n  targettoggleCannon: 'targettoggleCannon2.png',\n  blueFlag: 'blueFlag.png',\n  redFlag: 'redFlag.png',\n  save: 'save2.png',\n  grayBack: 'grayBack.png',\n  splashscreen: 'splashscreen.png',\n  notready: 'notready2.png',\n  ready: 'ready2.png',\n  restart: 'restart.png',\n  piratesTag: 'piratesTag.png',\n  imperialsTag: 'imperialsTag.png',\n  piratesWinTag: 'piratesWinTag.png',\n  imperialsWinTag: 'imperialsWinTag.png',\n  westindies: 'westindies2.png',\n  tropics: 'tropics2.png',\n  greatlakes: 'greatlakes2.png',\n  island: '1x1islandDot.png',\n\n  test: 'test.mp3',\n\n  testImage: 'test.png',\n  'bensound-epic': 'bensound-epic.mp3',\n\n  'cannon-sound': 'cannon.mp3',\n\n  'pirateCommand': 'pirateCommandVoice.mp3',\n  'empireCommand': 'empireCommandVoice.mp3',\n\n  'pirateMoreGold': 'pirateMoreGold.mp3',\n  'empireMoreGold': 'empireMoreGold.mp3',\n\n  'pixelJson': 'pixelPacker.json',\n  'pixelPng': 'pixelPacker.png'\n};\n\n/**\n * Load a single image.\n * Takes as input the url source and returns a Promise<Image>\n */\nfunction loadImage(source) {\n  var img = new Image();\n\n  return new Promise(function (resolve) {\n    img.onload = function () {\n      resolve(img);\n    };\n    img.src = source;\n  });\n}\n\nfunction loadFile(source) {\n  return new Promise(function (resolve) {\n    var req = new XMLHttpRequest();\n    req.addEventListener('load', function () {\n      resolve(JSON.parse(req.responseText));\n    });\n    req.open('GET', source, true);\n    req.send();\n  });\n}\n\nfunction loadAsset(source) {\n  if (source.endsWith('.png')) {\n    return loadImage(source);\n  } else if (source.endsWith('.json')) {\n    return loadFile(source);\n  }\n\n  return (0, _audio.loadBuffer)(source);\n}\n\n/**\n * Load all the assets in the asset map.\n * Returns a promise for a mapping from image name to the Image objects.\n * See the `sources` map at the top of the file\n */\nfunction loadAssets() {\n  var assetNames = Object.keys(sources);\n  var assetPromises = assetNames.map(function (name) {\n    return loadAsset('/static/' + sources[name]);\n  });\n\n  return Promise.all(assetPromises).then(function (assets) {\n    var result = {};\n    for (var i = 0; i < assetNames.length; i++) {\n      result[assetNames[i]] = assets[i];\n    }\n\n    return result;\n  });\n}"
    },
    {
      "id": 2,
      "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/audio.js",
      "name": "./app/client/audio.js",
      "index": 2,
      "index2": 0,
      "size": 766,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "assets": [],
      "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/main.js",
      "profile": {
        "factory": 97,
        "building": 432
      },
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "reasons": [
        {
          "moduleId": 0,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/main.js",
          "module": "./app/client/main.js",
          "moduleName": "./app/client/main.js",
          "type": "cjs require",
          "userRequest": "./audio",
          "loc": "9:13-31"
        },
        {
          "moduleId": 1,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/assets.js",
          "module": "./app/client/assets.js",
          "moduleName": "./app/client/assets.js",
          "type": "cjs require",
          "userRequest": "./audio",
          "loc": "8:13-31"
        },
        {
          "moduleId": 3,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/game.js",
          "module": "./app/client/game.js",
          "moduleName": "./app/client/game.js",
          "type": "cjs require",
          "userRequest": "./audio",
          "loc": "15:13-31"
        },
        {
          "moduleId": 35,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/startscreen.js",
          "module": "./app/client/startscreen.js",
          "moduleName": "./app/client/startscreen.js",
          "type": "cjs require",
          "userRequest": "./audio",
          "loc": "20:13-31"
        }
      ],
      "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSource = createSource;\nexports.loadBuffer = loadBuffer;\nvar audioContext = new AudioContext();\n\nfunction createSource(buffer) {\n  var source = audioContext.createBufferSource();\n  source.buffer = buffer;\n  source.connect(audioContext.destination);\n  return source;\n}\n\nfunction loadBuffer(url) {\n  return new Promise(function (resolve) {\n    var request = new XMLHttpRequest();\n    request.open('GET', url, true);\n    request.responseType = 'arraybuffer';\n    request.onload = function () {\n      var audioData = request.response;\n      audioContext.decodeAudioData(audioData, function (buffer) {\n        return resolve(buffer);\n      });\n    };\n    request.send();\n  });\n}"
    },
    {
      "id": 3,
      "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/game.js",
      "name": "./app/client/game.js",
      "index": 3,
      "index2": 33,
      "size": 16321,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "assets": [],
      "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/main.js",
      "profile": {
        "factory": 98,
        "building": 2192,
        "dependencies": 3
      },
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "reasons": [
        {
          "moduleId": 0,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/main.js",
          "module": "./app/client/main.js",
          "moduleName": "./app/client/main.js",
          "type": "cjs require",
          "userRequest": "./game",
          "loc": "11:12-29"
        }
      ],
      "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _gui = require('../shared/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _audio = require('./audio');\n\nvar _template = require('../shared/template');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar templates = [(0, _template.defaultTemplate)(), (0, _template.defaultTemplate)(), (0, _template.defaultTemplate)()];\n\nvar Game = function () {\n  /**\n   * Contruct the game.\n   * Takes as input the images object as produced by images.js\n   */\n\n  function Game(images, map, team) {\n    var _this = this;\n\n    _classCallCheck(this, Game);\n\n    this.canvas = document.getElementById('canvas');\n    this.context = this.canvas.getContext('2d');\n\n    this.width = this.canvas.width;\n    this.height = this.canvas.height;\n\n    this.selectionState = {\n      gui: null,\n      map: []\n    };\n\n    this.images = images;\n    this.map = map;\n    this.gui = new _gui2.default(this.width, this.height, templates, this.selectionState, this.map, team);\n\n    var startingCoords = map.getStartingCoords(team);\n    this.centerAround(startingCoords.x, startingCoords.y);\n    this.team = team;\n\n    this.startingDownPosition = null;\n\n    this.actionMap = {\n      37: function _() {\n        return _this.moveGame(-1, 0);\n      },\n      38: function _() {\n        return _this.moveGame(0, -1);\n      },\n      39: function _() {\n        return _this.moveGame(1, 0);\n      },\n      40: function _() {\n        return _this.moveGame(0, 1);\n      }\n    };\n\n    this.pressedKeys = new Set();\n\n    var fogCanvas = document.createElement('canvas');\n    fogCanvas.width = map.width * 50;\n    fogCanvas.height = map.height * 50;\n\n    var visibleCanvas = document.createElement('canvas');\n    visibleCanvas.width = map.width * 50;\n    visibleCanvas.height = map.height * 50;\n\n    // Get the drawing context\n    this.fogContext = fogCanvas.getContext('2d');\n    this.visibleContext = visibleCanvas.getContext('2d');\n  }\n\n  _createClass(Game, [{\n    key: 'centerAround',\n    value: function centerAround(x, y) {\n      this.x = Math.min(Math.max(0, x - (this.width - _gui.GUI_WIDTH) / 2), this.map.width * 50 - this.width + _gui.GUI_WIDTH);\n      this.y = Math.min(Math.max(0, y - this.height / 2), this.map.height * 50 - this.height);\n    }\n  }, {\n    key: 'tick',\n    value: function tick() {\n      for (var key in this.actionMap) {\n        if (this.pressedKeys.has(+key)) {\n          this.actionMap[key]();\n        }\n      }\n    }\n  }, {\n    key: 'moveGame',\n    value: function moveGame(dx, dy) {\n      var newX = this.x + dx;\n      var newY = this.y + dy;\n\n      if (newX < 0 || newY < 0) {\n        return;\n      }\n\n      if (newY + this.height > this.map.height * 50) {\n        return;\n      }\n\n      if (newX + this.width - _gui.GUI_WIDTH > this.map.width * 50) {\n        return;\n      }\n\n      this.x = newX;\n      this.y = newY;\n    }\n  }, {\n    key: '_updateEntity',\n    value: function _updateEntity(_ref) {\n      var data = _ref.data;\n\n      this.map.updateEntity(data);\n    }\n  }, {\n    key: '_addEntity',\n    value: function _addEntity(_ref2) {\n      var data = _ref2.data;\n\n      if (data.type === 'projectile') {\n        (0, _audio.createSource)(this.images['cannon-sound']).start(0);\n      } else if (data.type === 'ship' && this.team === data.team) {\n        if (data.team === '1') {\n          (0, _audio.createSource)(this.images.pirateCommand).start(0);\n        } else {\n          (0, _audio.createSource)(this.images.empireCommand).start(0);\n        }\n      }\n      this.map.addEntity(data);\n    }\n  }, {\n    key: '_removeEntity',\n    value: function _removeEntity(_ref3) {\n      var id = _ref3.id;\n\n      this.map.removeEntity(id);\n    }\n  }, {\n    key: 'updateSelectionState',\n    value: function updateSelectionState(newState) {\n      this.selectionState = newState;\n\n      this.gui.setSelectionState(this.selectionState);\n    }\n  }, {\n    key: 'performMouseUp',\n    value: function performMouseUp(event, sendMessage) {\n      if (event.button === 0) {\n        // Select/Deselect on left click or do button thingy\n\n        var _getRawMouseCords = this.getRawMouseCords(event);\n\n        var rawX = _getRawMouseCords.rawX;\n        var rawY = _getRawMouseCords.rawY;\n\n\n        if (rawX > this.width - _gui.GUI_WIDTH) {\n          this.processGuiLeftMouseClick(rawX, rawY, sendMessage);\n          return;\n        }\n\n        this.processMapLeftMouseClick(rawX, rawY, sendMessage);\n      } else if (event.button === 2) {\n        // Go do stuff on right click,  like move or whatnot\n\n        if (this.selectionState.gui != null) {\n          // Stop gui action with right click\n          this.updateSelectionState(_extends({}, this.selectionState, { gui: null }));\n          return;\n        }\n\n        // Otherwise let's move! (or attack)\n\n        var _getRawMouseCords2 = this.getRawMouseCords(event);\n\n        var rawX = _getRawMouseCords2.rawX;\n        var rawY = _getRawMouseCords2.rawY;\n\n\n        if (rawX > this.width - _gui.GUI_WIDTH) {\n          this.procesGuiRightMouseClick(rawX, rawY, sendMessage);\n          return;\n        }\n\n        if (this.getSelectedMapItems().length !== 0) {\n          this.processRightClickOnMap(rawX, rawY, sendMessage);\n        }\n      }\n    }\n  }, {\n    key: 'mouseup',\n    value: function mouseup(event, sendMessage) {\n      this.performMouseUp(event, sendMessage);\n\n      this.mouseDownRawPosition = null;\n      this.mouseDownGamePosition = null;\n    }\n  }, {\n    key: 'mousedown',\n    value: function mousedown(event) {\n      var _getRawMouseCords3 = this.getRawMouseCords(event);\n\n      var rawX = _getRawMouseCords3.rawX;\n      var rawY = _getRawMouseCords3.rawY;\n\n\n      this.mouseDownRawPosition = { rawX: rawX, rawY: rawY };\n\n      if (rawX < this.width - _gui.GUI_WIDTH) {\n        this.mouseDownGamePosition = this.getMouseGamePosition(rawX, rawY);\n      }\n    }\n  }, {\n    key: 'getMouseGamePosition',\n    value: function getMouseGamePosition(rawX, rawY) {\n      var x = rawX + this.x - 25;\n      var y = rawY + this.y - 25;\n\n      // The mouse coordinates in grid coordinatess.\n      var mouseX = x / 50;\n      var mouseY = y / 50;\n\n      return { mouseX: mouseX, mouseY: mouseY };\n    }\n  }, {\n    key: 'processRightClickOnMap',\n    value: function processRightClickOnMap(rawX, rawY, sendMessage) {\n      var _this2 = this;\n\n      var _getMouseGamePosition = this.getMouseGamePosition(rawX, rawY);\n\n      var mouseX = _getMouseGamePosition.mouseX;\n      var mouseY = _getMouseGamePosition.mouseY;\n\n\n      var item = this.map.getItem(mouseX, mouseY);\n\n      if (item == null) {\n        if (this.getSelectedMapItems().every(function (entity) {\n          return entity.type === 'ship';\n        })) {\n          (function () {\n            // Try to move to that location.\n            var targetLocation = { x: mouseX, y: mouseY };\n            // Move to an empty place\n\n            _this2.getSelectedMapItems().forEach(function (ship) {\n              return sendMessage({ type: 'MoveShip', shipId: ship.id, targetLocation: targetLocation });\n            });\n          })();\n        }\n      } else {\n        if ((item.type === 'ship' || item.type === 'shipyard' || item.type === 'mine' || item.type === 'buildingTemplate') && this.getSelectedMapItems().every(function (entity) {\n          return entity.type === 'ship';\n        }) && item.team !== this.team) {\n          // Trying to attack something\n          this.getSelectedMapItems().forEach(function (ship) {\n            return sendMessage({ type: 'AttackShip', id: ship.id, targetId: item.id });\n          });\n        }\n      }\n    }\n  }, {\n    key: 'mousemove',\n    value: function mousemove(event) {\n      var _getRawMouseCords4 = this.getRawMouseCords(event);\n\n      var rawX = _getRawMouseCords4.rawX;\n      var rawY = _getRawMouseCords4.rawY;\n\n      this.hoveredCoords = { x: rawX, y: rawY };\n    }\n  }, {\n    key: 'getRawMouseCords',\n    value: function getRawMouseCords(event) {\n      var rect = this.canvas.getBoundingClientRect();\n      return {\n        rawX: event.clientX - rect.left,\n        rawY: event.clientY - rect.top\n      };\n    }\n  }, {\n    key: 'procesGuiRightMouseClick',\n    value: function procesGuiRightMouseClick(rawX, rawY, sendMessage) {\n      // In the gui\n      var item = this.gui.getItem(rawX, rawY);\n\n      if (this.gui.displayMode === 'designer') {\n        // Right clicks in the designer do nothing.\n        return;\n      }\n\n      if (item == null) {\n        return;\n      }\n\n      switch (item.getType()) {\n        case 'shiptemplate':\n          this.getSelectedMapItems().forEach(function (shipyard) {\n            return sendMessage({ type: 'CancelShip', templateNumber: item.templateNum, shipyardId: shipyard.id });\n          });\n          break;\n\n        default:\n      }\n    }\n  }, {\n    key: 'processGuiLeftMouseClick',\n    value: function processGuiLeftMouseClick(rawX, rawY, sendMessage) {\n      // In the gui\n      var item = this.gui.getItem(rawX, rawY);\n\n      if (rawX >= this.width - 150 && rawX < this.width - 50 && rawY >= 50 && rawY < 150) {\n        // You are in the mini map;\n        var x = (rawX - (this.width - 150)) * this.map.width * 50 / 100;\n        var y = (rawY - 50) * this.map.height * 50 / 100;\n        this.centerAround(x, y);\n        return;\n      }\n\n      if (this.gui.displayMode === 'designer') {\n        this.gui.designerSelection(item);\n      } else {\n        if (item == null) {\n          return;\n        }\n\n        switch (item.getType()) {\n          case 'shipbuilder':\n            this.gui.displayMode = 'designer';\n            break;\n          case 'shiptemplate':\n            var template = templates[item.templateNum];\n            this.getSelectedMapItems().forEach(function (shipyard) {\n              return sendMessage({ type: 'MakeShip', templateNumber: item.templateNum, shipyardId: shipyard.id, template: template });\n            });\n            break;\n          case 'hull':\n            sendMessage({ type: 'UpdateMode', targetMode: 'hardpoints' });\n            break;\n          case 'hardpoints':\n            sendMessage({ type: 'UpdateMode', targetMode: 'hull' });\n            break;\n\n          case 'mine':\n          case 'shipyard':\n            this.updateSelectionState(_extends({}, this.selectionState, { gui: { type: item.getType(), templateNum: item.getTemplateNum() } }));\n            break;\n\n          default:\n\n        }\n      }\n    }\n  }, {\n    key: 'getSelectedMapItems',\n    value: function getSelectedMapItems() {\n      var _this3 = this;\n\n      return this.selectionState.map.map(function (id) {\n        return _this3.map.getEntity(id);\n      }).filter(function (item) {\n        return item != null;\n      });\n    }\n  }, {\n    key: 'isDragAction',\n    value: function isDragAction(mouseX, mouseY) {\n      if (this.hoveredCoords == null) {\n        return false;\n      }\n\n      if (this.hoveredCoords.x >= this.width - _gui.GUI_WIDTH) {\n        return false;\n      }\n\n      var hoverGameCoords = this.getMouseGamePosition(this.hoveredCoords.x, this.hoveredCoords.y);\n\n      if (this.mouseDownGamePosition == null || this.mouseDownGamePosition.mouseX === mouseX || this.mouseDownGamePosition.mouseY === mouseY) {\n        return false;\n      }\n\n      if (hoverGameCoords.mouseX < this.mouseDownGamePosition.mouseX || hoverGameCoords.mouseY < this.mouseDownGamePosition.mouseY) {\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: 'processMapLeftMouseClick',\n    value: function processMapLeftMouseClick(rawX, rawY, sendMessage) {\n      var x = rawX + this.x - 25;\n      var y = rawY + this.y - 25;\n\n      // The mouse coordinates in grid coordinatess.\n      var mouseX = x / 50;\n      var mouseY = y / 50;\n\n      var mouseRoundedX = Math.round(mouseX);\n      var mouseRoundedY = Math.round(mouseY);\n\n      var item = this.map.getItem(mouseX, mouseY);\n\n      if (this.selectionState.gui != null) {\n        // The gui stuff always has priority.\n        // If an empty tile on an island is selected then add a building\n        if (this.selectionState.gui.type === 'mine' || this.selectionState.gui.type === 'shipyard') {\n          var buildingType = this.selectionState.gui.type;\n          sendMessage({ type: 'MakeBuilding', building: buildingType, x: mouseRoundedX, y: mouseRoundedY });\n          this.updateSelectionState(_extends({}, this.selectionState, { gui: null }));\n        }\n      } else if (this.isDragAction(mouseX, mouseY)) {\n        // Perform a drag select.\n        var hoverGameCoords = this.getMouseGamePosition(this.hoveredCoords.x, this.hoveredCoords.y);\n\n        var items = this.map.getItemsWithinRectangle(this.mouseDownGamePosition.mouseX, this.mouseDownGamePosition.mouseY, hoverGameCoords.mouseX, hoverGameCoords.mouseY);\n\n        this.updateSelectionState(_extends({}, this.selectionState, { map: items }));\n      } else if (item != null) {\n        // Select\n        this.updateSelectionState(_extends({}, this.selectionState, { map: [item.id] }));\n      } else {\n        // Deselect\n        this.updateSelectionState(_extends({}, this.selectionState, { map: [] }));\n      }\n    }\n\n    /**\n     * Render the game. Also performs updates if necessary.\n     */\n\n  }, {\n    key: 'render',\n    value: function render() {\n      this.context.clearRect(0, 0, this.width, this.height);\n\n      this.context.save();\n\n      this.context.translate(25, 25);\n\n      this.context.translate(-this.x, -this.y);\n\n      // Render the map and everything on it.\n      this.map.render(this.context, this.images, this.selectionState, this.fogContext, this.visibleContext, this.team);\n\n      if (this.hoveredCoords && this.hoveredCoords.x < this.width - _gui.GUI_WIDTH && this.selectionState.gui == null) {\n        if (this.mouseDownGamePosition != null) {\n          var hoverGameCoords = this.getMouseGamePosition(this.hoveredCoords.x, this.hoveredCoords.y);\n\n          var dx = hoverGameCoords.mouseX - this.mouseDownGamePosition.mouseX;\n          var dy = hoverGameCoords.mouseY - this.mouseDownGamePosition.mouseY;\n\n          if (dx > 0 && dy > 0) {\n            this.context.strokeStyle = 'white';\n            this.context.strokeRect(this.mouseDownGamePosition.mouseX * 50, this.mouseDownGamePosition.mouseY * 50, dx * 50, dy * 50);\n          }\n        }\n      }\n\n      this.context.restore();\n\n      if (this.hoveredCoords && this.hoveredCoords.x >= this.width - _gui.GUI_WIDTH) {\n        this.gui.render(this.context, this.images, this.map, this.hoveredCoords);\n      } else {\n        this.gui.render(this.context, this.images, this.map, null);\n      }\n\n      if (this.gui.displayMode === 'main') {\n        this.context.translate(this.width - 150, 50);\n        var scale = this.map.width / 2;\n        this.context.scale(1 / scale, 1 / scale);\n        this.map.renderMiniMap(this.context, this.images, this.x, this.y, this.width - _gui.GUI_WIDTH, this.height, this.fogContext, this.visibleContext, this.team);\n        this.context.scale(scale, scale);\n        this.context.translate(-this.width + 150, -50);\n      }\n    }\n  }, {\n    key: 'keydown',\n    value: function keydown(event) {\n      this.pressedKeys.add(event.keyCode);\n    }\n  }, {\n    key: 'keyup',\n    value: function keyup(event) {\n      this.pressedKeys.delete(event.keyCode);\n    }\n  }]);\n\n  return Game;\n}();\n\nexports.default = Game;"
    },
    {
      "id": 4,
      "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
      "name": "./app/shared/gui.js",
      "index": 4,
      "index2": 32,
      "size": 22271,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "assets": [],
      "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/game.js",
      "profile": {
        "factory": 4199,
        "building": 1680,
        "dependencies": 9
      },
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "reasons": [
        {
          "moduleId": 3,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/game.js",
          "module": "./app/client/game.js",
          "moduleName": "./app/client/game.js",
          "type": "cjs require",
          "userRequest": "../shared/gui",
          "loc": "11:11-35"
        }
      ],
      "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.GUI_WIDTH = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _buildingconstants = require('./buildingconstants');\n\nvar _buildingconstants2 = _interopRequireDefault(_buildingconstants);\n\nvar _template = require('./template');\n\nvar _shipyard = require('./guibuttons/shipyard');\n\nvar _shipyard2 = _interopRequireDefault(_shipyard);\n\nvar _mine = require('./guibuttons/mine');\n\nvar _mine2 = _interopRequireDefault(_mine);\n\nvar _shiptemplate = require('./guibuttons/shiptemplate');\n\nvar _shiptemplate2 = _interopRequireDefault(_shiptemplate);\n\nvar _shipbuilder = require('./guibuttons/shipbuilder');\n\nvar _shipbuilder2 = _interopRequireDefault(_shipbuilder);\n\nvar _roundshot = require('./guibuttons/roundshot');\n\nvar _roundshot2 = _interopRequireDefault(_roundshot);\n\nvar _grapeshot = require('./guibuttons/grapeshot');\n\nvar _grapeshot2 = _interopRequireDefault(_grapeshot);\n\nvar _shell = require('./guibuttons/shell');\n\nvar _shell2 = _interopRequireDefault(_shell);\n\nvar _cancelshot = require('./guibuttons/cancelshot');\n\nvar _cancelshot2 = _interopRequireDefault(_cancelshot);\n\nvar _targettoggle = require('./guibuttons/targettoggle');\n\nvar _targettoggle2 = _interopRequireDefault(_targettoggle);\n\nvar _exit = require('./guibuttons/exit');\n\nvar _exit2 = _interopRequireDefault(_exit);\n\nvar _template2 = require('./guibuttons/template');\n\nvar _template3 = _interopRequireDefault(_template2);\n\nvar _gunboat = require('./guibuttons/gunboat');\n\nvar _gunboat2 = _interopRequireDefault(_gunboat);\n\nvar _frigate = require('./guibuttons/frigate');\n\nvar _frigate2 = _interopRequireDefault(_frigate);\n\nvar _galleon = require('./guibuttons/galleon');\n\nvar _galleon2 = _interopRequireDefault(_galleon);\n\nvar _shipskeleton = require('./guibuttons/shipskeleton');\n\nvar _shipskeleton2 = _interopRequireDefault(_shipskeleton);\n\nvar _gunslot = require('./guibuttons/gunslot');\n\nvar _gunslot2 = _interopRequireDefault(_gunslot);\n\nvar _hullslot = require('./guibuttons/hullslot');\n\nvar _hullslot2 = _interopRequireDefault(_hullslot);\n\nvar _save = require('./guibuttons/save');\n\nvar _save2 = _interopRequireDefault(_save);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar GUI_WIDTH = exports.GUI_WIDTH = 200;\n\n/**\n * A map of the game containing islands and all current ships.\n */\n\nvar Gui = function () {\n  function Gui(canvasWidth, canvasHeight, templates, selectionState, map, team) {\n    _classCallCheck(this, Gui);\n\n    this.width = GUI_WIDTH;\n    this.height = canvasHeight;\n\n    this.x = canvasWidth - this.width;\n    this.y = 0;\n\n    this.buttons = [];\n    this.designerButtons = [];\n\n    this.templates = templates;\n\n    this.selectionState = selectionState;\n\n    this.map = map;\n\n    this.displayMode = 'main';\n    this.displayContext = 'game';\n\n    this.changing = false;\n    this.selectedSlot = null;\n    this.chosenIndex = 0;\n    this.workingTemplate = JSON.parse(JSON.stringify(this.templates[this.chosenIndex]));\n\n    this.team = team;\n  }\n\n  _createClass(Gui, [{\n    key: 'setSelectionState',\n    value: function setSelectionState(newSelectionState) {\n      this.selectionState = newSelectionState;\n    }\n  }, {\n    key: 'getSelectedMapItems',\n    value: function getSelectedMapItems() {\n      var _this = this;\n\n      return this.selectionState.map.map(function (id) {\n        return _this.map.getEntity(id);\n      }).filter(function (item) {\n        return item != null;\n      });\n    }\n\n    /**\n     * Render the gui\n     */\n\n  }, {\n    key: 'render',\n    value: function render(context, images, map, hoverCoords) {\n      context.strokeStyle = 'black';\n      context.lineWidth = 5;\n      context.beginPath();\n      context.moveTo(this.x, this.y);\n      context.lineTo(this.x, this.y + this.height);\n      context.stroke();\n      context.lineWidth = 1;\n\n      if (this.displayMode === 'main') {\n        this.renderMain(context, images, map, hoverCoords);\n      } else if (this.displayMode === 'designer') {\n        this.renderDesigner(context, images, map, hoverCoords);\n      }\n    }\n  }, {\n    key: 'renderDesigner',\n    value: function renderDesigner(context, images, map, hoverCoords) {\n      context.fillStyle = 'grey';\n      context.fillRect(this.x, this.y, this.width, this.height);\n\n      // titles\n      context.fillStyle = 'black';\n      context.textBaseline = 'top';\n      context.font = '14px Perpetua';\n      context.fillText('SAVE SLOTS', this.x + 20, this.y + 10);\n\n      var skeleton = new _shipskeleton2.default('shipskeleton', this.x + 50, this.y + 110, 100, 340);\n      skeleton.render(context, images);\n\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.getDesignerButtons()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var button = _step.value;\n\n          var isSelected = this.selectionState.gui != null && this.selectionState.gui.type === button.type && this.selectionState.gui.slotNum === button.slotNum;\n          button.selected = isSelected;\n          button.render(context, images);\n        }\n\n        // Display stats at the bottom of the gui\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      context.fillStyle = 'black';\n      context.textBaseline = 'top';\n      context.font = '14px Perpetua';\n      context.fillText(this.workingTemplate.hull.toUpperCase(), this.x + 10, this.height - 50);\n      context.fillText(this.workingTemplate.hardpoints, this.x + 20, this.height - 35);\n      context.fillText('Cost: ' + (0, _template.getStats)(this.workingTemplate).cost + ' coin, ' + (0, _template.getStats)(this.workingTemplate).tcost + ' sec', this.x + 20, this.height - 20);\n\n      // Hovering logic\n      if (hoverCoords != null) {\n        var roundedX = hoverCoords.x;\n        var roundedY = hoverCoords.y;\n\n        var item = this.getItem(roundedX, roundedY);\n\n        if (item != null) {\n          var details = null;\n          var type = item.getType();\n\n          if (type === 'gunslot' && item.rendertype !== 'gunslot') {\n            type = item.rendertype;\n          }\n\n          switch (type) {\n            case 'gunboat':\n            case 'gunboatSelected':\n              details = _template.gunboat;\n              break;\n            case 'frigate':\n            case 'frigateSelected':\n              details = _template.frigate;\n              break;\n            case 'galleon':\n            case 'galleonSelected':\n              details = _template.galleon;\n              break;\n            case 'roundshot':\n              details = _template.roundshot;\n              break;\n            case 'chainshot':\n              details = _template.chainshot;\n              break;\n            case 'grapeshot':\n              details = _template.grapeshot;\n              break;\n            case 'shell':\n              details = _template.shell;\n              break;\n            default:\n              details = null;\n          }\n\n          if (details != null) {\n            // Display a tooltip\n            context.fillStyle = 'white';\n            context.strokeStyle = 'black';\n            var modifier = 0;\n            if (roundedX - 2 > this.x + this.width / 2 - 100) {\n              modifier = this.width / 2 * -1;\n            }\n\n            context.strokeRect(roundedX - 2 + modifier, roundedY + 1, 200, 50);\n            context.fillRect(roundedX - 2 + modifier, roundedY + 1, 200, 50);\n\n            context.fillStyle = 'black';\n            context.textBaseline = 'top';\n            context.font = '14px Perpetua';\n\n            context.fillText(details.name, roundedX - 2 + modifier, roundedY + 1);\n            context.fillText(details.description, roundedX - 2 + modifier, roundedY + 1 + 20);\n            context.fillText('Cost: ' + details.cost + ' coin, ' + details.tcost + ' seconds', roundedX - 2 + modifier, roundedY + 1 + 34);\n          }\n        }\n      }\n    }\n  }, {\n    key: 'renderMain',\n    value: function renderMain(context, images, map, hoverCoords) {\n      context.fillStyle = 'gray';\n      context.fillRect(this.x, this.y, this.width, this.height);\n\n      var moneyText = Math.floor(map.getEntity(this.team).coins).toString();\n\n      context.fillStyle = 'black';\n      context.textBaseline = 'top';\n      context.font = '24px Perpetua';\n      context.fillText(moneyText, this.x + 32, this.y + 5);\n\n      var width = context.measureText(moneyText).width;\n\n      context.strokeStyle = 'black';\n      context.strokeRect(this.x + 2, this.y, width + 40, 35);\n      context.drawImage(images.money, this.x + 2, this.y + 5, 25, 25);\n\n      if (this.team === '1') {\n        context.fillStyle = 'firebrick';\n        context.fillText('Pirates', this.x + 110, this.y + 5);\n      } else {\n        context.fillStyle = 'darkblue';\n        context.fillText('Imperials', this.x + 100, this.y + 5);\n      }\n\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = this.getButtons()[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var button = _step2.value;\n\n          var isSelected = this.selectionState.gui != null && this.selectionState.gui.type === button.type && this.selectionState.gui.slotNum === button.slotNum;\n          button.selected = isSelected;\n          button.render(context, images);\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      if (hoverCoords != null) {\n        var roundedX = hoverCoords.x;\n        var roundedY = hoverCoords.y;\n\n        var modifier = 0;\n        if (roundedX - 2 > this.x + this.width / 2 - 100) {\n          modifier = this.width / 2 * -1;\n        }\n\n        var item = this.getItem(roundedX, roundedY);\n\n        if (item != null && item.isBuilding()) {\n          var buildingType = item.getBuilding();\n\n          var details = _buildingconstants2.default[buildingType];\n\n          // Display a tooltip\n          context.fillStyle = 'white';\n          context.strokeStyle = 'black';\n          context.strokeRect(roundedX - 2 + modifier, roundedY + 1, 200, 50);\n          context.fillRect(roundedX - 2 + modifier, roundedY + 1, 200, 50);\n\n          context.fillStyle = 'black';\n          context.textBaseline = 'top';\n          context.font = '14px Perpetua';\n          context.fillText(details.name, roundedX - 2 + modifier, roundedY + 1);\n          context.fillText(details.description, roundedX - 2 + modifier, roundedY + 1 + 20);\n          context.fillText('Cost: ' + details.coinCost + ' coin, ' + details.buildTime + ' seconds', roundedX - 2 + modifier, roundedY + 1 + 34);\n        } else if (item != null && (item.getType() === 'shiptemplate' || item.getType() === 'shiptemplateGrayed')) {\n          var template = this.templates[item.slotNum];\n          context.strokeStyle = 'cyan';\n          context.strokeRect(item.x, item.y, item.width, item.height);\n\n          context.fillStyle = 'white';\n          context.strokeStyle = 'black';\n          context.strokeRect(roundedX - 2 + modifier, roundedY + 1, 200, 50);\n          context.fillRect(roundedX - 2 + modifier, roundedY + 1, 200, 50);\n\n          context.fillStyle = 'black';\n          context.textBaseline = 'top';\n          context.font = '14px Perpetua';\n          context.fillText(template.hull.toUpperCase(), roundedX - 2 + modifier, roundedY + 1);\n          context.fillText(template.hardpoints, roundedX - 2 + modifier, roundedY + 1 + 20);\n          context.fillText('Cost: ' + (0, _template.getStats)(template).cost + ' coin, ' + (0, _template.getStats)(template).tcost + ' sec', roundedX - 2 + modifier, roundedY + 1 + 34);\n        }\n      }\n    }\n  }, {\n    key: 'getUnitButtons',\n    value: function getUnitButtons() {\n      var result = [];\n      if (this.getSelectedMapItems().length !== 0 && this.getSelectedMapItems().every(function (entity) {\n        return entity.type === 'shipyard';\n      })) {\n        result.push(new _shiptemplate2.default('shiptemplate', this.x + 20, 250, 50, 50, 0, this.getSelectedMapItems()[0], this.templates[0]));\n        result.push(new _shiptemplate2.default('shiptemplate', this.x + 75, 250, 50, 50, 1, this.getSelectedMapItems()[0], this.templates[1]));\n        result.push(new _shiptemplate2.default('shiptemplate', this.x + 130, 250, 50, 50, 2, this.getSelectedMapItems()[0], this.templates[2]));\n      } else {\n        result.push(new _shiptemplate2.default('shiptemplateGrayed', this.x + 20, 250, 50, 50, 0, null, this.templates[0]));\n        result.push(new _shiptemplate2.default('shiptemplateGrayed', this.x + 75, 250, 50, 50, 1, null, this.templates[1]));\n        result.push(new _shiptemplate2.default('shiptemplateGrayed', this.x + 130, 250, 50, 50, 2, null, this.templates[2]));\n      }\n\n      result.push(new _shipyard2.default('shipyard', this.x + 25, this.y + 175, 50, 50));\n      result.push(new _mine2.default('mine', this.x + 75, this.y + 175, 50, 50));\n\n      result.push(new _targettoggle2.default(this.map.getEntity(this.team).targetMode, this.x + 35, this.height - 75, 128, 26));\n      result.push(new _shipbuilder2.default('shipbuilder', this.x + 50, 350, 102, 26));\n      return result;\n    }\n  }, {\n    key: 'getDesignerButtons',\n    value: function getDesignerButtons() {\n      var result = [];\n\n      if (this.displayContext === 'game') {\n        result.push(new _exit2.default('exit', this.x + this.width - 20, this.y, 20, 20));\n      }\n\n      result.push(new _template3.default('template', this.x + 20, this.y + 25, 50, 50, 0, null, this.templates[0]));\n      result.push(new _template3.default('template', this.x + 75, this.y + 25, 50, 50, 1, null, this.templates[1]));\n      result.push(new _template3.default('template', this.x + 130, this.y + 25, 50, 50, 2, null, this.templates[2]));\n\n      result.push(new _gunslot2.default('gunslot', this.x + 75, this.y + 210, 40, 40, 0));\n      result.push(new _gunslot2.default('gunslot', this.x + 75, this.y + 350, 40, 40, 1));\n      result.push(new _hullslot2.default('hullslot', this.x + 75, this.y + 280, 40, 40, 1));\n\n      if (this.selectedSlot != null) {\n        if (this.selectedSlot.getType() === 'gunslot') {\n          result.push(new _roundshot2.default('roundshot', this.selectedSlot.x - 60, this.selectedSlot.y + 5, 40, 40));\n          result.push(new _grapeshot2.default('grapeshot', this.selectedSlot.x + 6, this.selectedSlot.y - 50, 40, 40));\n          result.push(new _shell2.default('shell', this.selectedSlot.x + 60, this.selectedSlot.y + 5, 40, 40));\n          result.push(new _cancelshot2.default('cancelshot', this.selectedSlot.x + 6, this.selectedSlot.y + 60, 40, 40));\n        } else if (this.selectedSlot.getType() === 'hullslot') {\n          result.push(new _gunboat2.default('gunboat', this.selectedSlot.x - 60, this.selectedSlot.y + 5, 40, 40));\n          result.push(new _frigate2.default('frigate', this.selectedSlot.x + 5, this.selectedSlot.y - 45, 40, 40));\n          result.push(new _galleon2.default('galleon', this.selectedSlot.x + 60, this.selectedSlot.y + 5, 40, 40));\n        }\n      }\n\n      result.push(new _save2.default('save', this.x + 50, this.y + 77, 102, 26));\n\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = result[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var button = _step3.value;\n\n          button.setVisible(this.chosenIndex != null);\n\n          if (button.getType() === 'template') {\n            if (button.getSlotNum() === this.chosenIndex) {\n              button.placeItem('templateSelected');\n            } else {\n              button.placeItem('template');\n            }\n          } else if (button.getType() === 'hullslot') {\n            var ship = this.templates[this.chosenIndex];\n            if (this.changing) {\n              button.placeItem(this.workingTemplate.hull || 'hullslot');\n            } else {\n              button.placeItem(this.workingTemplate.hull || ship.hull || 'hullslot');\n            }\n          } else if (button.getType() === 'gunslot') {\n            var ship = this.templates[this.chosenIndex];\n            if (this.changing) {\n              button.placeItem(this.workingTemplate.hardpoints[button.getSlotNum()] || 'gunslot');\n            } else {\n              button.placeItem(this.workingTemplate.hardpoints[button.getSlotNum()] || ship.hardpoints[button.getSlotNum()] || 'gunslot');\n            }\n          }\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3.return) {\n            _iterator3.return();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n\n      return result;\n    }\n  }, {\n    key: 'designerSelection',\n    value: function designerSelection(item) {\n      if (item == null) {\n        this.selectedSlot = null;\n        return;\n      }\n\n      var withItem = JSON.parse(JSON.stringify(this.workingTemplate));\n\n      switch (item.getType()) {\n        case 'exit':\n          this.displayMode = 'main';\n          this.workingTemplate = JSON.parse(JSON.stringify(this.templates[this.chosenIndex]));\n          this.changing = false;\n          break;\n        case 'template':\n          this.chosenIndex = item.getSlotNum();\n          this.workingTemplate = JSON.parse(JSON.stringify(this.templates[this.chosenIndex]));\n          this.changing = false;\n          break;\n        case 'gunboat':\n        case 'frigate':\n        case 'galleon':\n          this.workingTemplate.hull = item.getType();\n          this.selectedSlot = null;\n          break;\n        case 'gunslot':\n        case 'hullslot':\n          this.selectedSlot = item;\n          break;\n        case 'roundshot':\n        case 'chainshot':\n        case 'grapeshot':\n        case 'shell':\n          withItem.hardpoints[this.selectedSlot.getSlotNum()] = item.getType();\n          this.workingTemplate = withItem;\n          this.selectedSlot = null;\n          break;\n        case 'cancelshot':\n          withItem.hardpoints[this.selectedSlot.getSlotNum()] = null;\n          this.workingTemplate = withItem;\n          this.selectedSlot = null;\n          this.changing = true;\n          break;\n        case 'save':\n          this.templates[this.chosenIndex] = this.workingTemplate;\n          this.displayMode = 'main';\n          this.workingTemplate = JSON.parse(JSON.stringify(this.templates[this.chosenIndex]));\n          this.changing = false;\n        default:\n          this.selectedSlot = null;\n      }\n    }\n  }, {\n    key: 'getButtons',\n    value: function getButtons() {\n      return this.buttons.concat(this.getUnitButtons() || []);\n    }\n  }, {\n    key: 'getItem',\n    value: function getItem(x, y) {\n      if (this.displayMode === 'main') {\n        var _iteratorNormalCompletion4 = true;\n        var _didIteratorError4 = false;\n        var _iteratorError4 = undefined;\n\n        try {\n          for (var _iterator4 = this.getButtons()[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n            var button = _step4.value;\n\n            if (button.isOver(x, y)) {\n              return button;\n            }\n          }\n        } catch (err) {\n          _didIteratorError4 = true;\n          _iteratorError4 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion4 && _iterator4.return) {\n              _iterator4.return();\n            }\n          } finally {\n            if (_didIteratorError4) {\n              throw _iteratorError4;\n            }\n          }\n        }\n      } else if (this.displayMode === 'designer') {\n        var _iteratorNormalCompletion5 = true;\n        var _didIteratorError5 = false;\n        var _iteratorError5 = undefined;\n\n        try {\n          for (var _iterator5 = this.getDesignerButtons()[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n            var button = _step5.value;\n\n            if (button.isOver(x, y)) {\n              return button;\n            }\n          }\n        } catch (err) {\n          _didIteratorError5 = true;\n          _iteratorError5 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion5 && _iterator5.return) {\n              _iterator5.return();\n            }\n          } finally {\n            if (_didIteratorError5) {\n              throw _iteratorError5;\n            }\n          }\n        }\n      }\n\n      return null;\n    }\n  }]);\n\n  return Gui;\n}();\n\nexports.default = Gui;"
    },
    {
      "id": 5,
      "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/buildingconstants.js",
      "name": "./app/shared/buildingconstants.js",
      "index": 5,
      "index2": 2,
      "size": 413,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "assets": [],
      "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
      "profile": {
        "factory": 4249,
        "building": 252
      },
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "reasons": [
        {
          "moduleId": 4,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
          "module": "./app/shared/gui.js",
          "moduleName": "./app/shared/gui.js",
          "type": "cjs require",
          "userRequest": "./buildingconstants",
          "loc": "10:25-55"
        },
        {
          "moduleId": 17,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/buildingtemplate.js",
          "module": "./app/shared/buildingtemplate.js",
          "moduleName": "./app/shared/buildingtemplate.js",
          "type": "cjs require",
          "userRequest": "./buildingconstants",
          "loc": "11:25-55"
        }
      ],
      "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar buildingConstants = {\n  mine: {\n    name: 'Mine',\n    description: 'A building for mining coin.',\n    coinCost: 50,\n    buildTime: 50 },\n\n  // In ticks\n  shipyard: {\n    name: 'Shipyard',\n    description: 'A building to produce ships.',\n    coinCost: 100,\n    buildTime: 100 }\n};\n\n// In ticks\nexports.default = buildingConstants;"
    },
    {
      "id": 6,
      "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/template.js",
      "name": "./app/shared/template.js",
      "index": 6,
      "index2": 3,
      "size": 3620,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "assets": [],
      "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/game.js",
      "profile": {
        "factory": 4201,
        "building": 2011
      },
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "reasons": [
        {
          "moduleId": 3,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/game.js",
          "module": "./app/client/game.js",
          "moduleName": "./app/client/game.js",
          "type": "cjs require",
          "userRequest": "../shared/template",
          "loc": "17:16-45"
        },
        {
          "moduleId": 4,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
          "module": "./app/shared/gui.js",
          "moduleName": "./app/shared/gui.js",
          "type": "cjs require",
          "userRequest": "./template",
          "loc": "14:16-37"
        },
        {
          "moduleId": 10,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/shiptemplate.js",
          "module": "./app/shared/guibuttons/shiptemplate.js",
          "moduleName": "./app/shared/guibuttons/shiptemplate.js",
          "type": "cjs require",
          "userRequest": "../template",
          "loc": "13:16-38"
        },
        {
          "moduleId": 11,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/hardpoint.js",
          "module": "./app/shared/hardpoint.js",
          "moduleName": "./app/shared/hardpoint.js",
          "type": "cjs require",
          "userRequest": "./template",
          "loc": "14:16-37"
        },
        {
          "moduleId": 12,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/ship.js",
          "module": "./app/shared/ship.js",
          "moduleName": "./app/shared/ship.js",
          "type": "cjs require",
          "userRequest": "./template",
          "loc": "21:16-37"
        },
        {
          "moduleId": 14,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/shipyard.js",
          "module": "./app/shared/shipyard.js",
          "moduleName": "./app/shared/shipyard.js",
          "type": "cjs require",
          "userRequest": "../shared/template",
          "loc": "21:16-45"
        },
        {
          "moduleId": 18,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/projectile.js",
          "module": "./app/shared/projectile.js",
          "moduleName": "./app/shared/projectile.js",
          "type": "cjs require",
          "userRequest": "./template",
          "loc": "14:16-37"
        }
      ],
      "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getStats = getStats;\nexports.defaultTemplate = defaultTemplate;\n/**\n * A shipyard entity.\n */\nvar nextId = 0;\n\nvar roundshot = exports.roundshot = {\n  name: 'Roundshot',\n  description: 'Standard range. Deals 25 dmg.',\n  health: 100,\n  damage: 25,\n  speed: 0,\n  weight: -10,\n  cost: 30,\n  tcost: 10,\n  range: 2.2\n};\n\nvar chainshot = exports.chainshot = {\n  name: 'Chainshot',\n  description: 'Slows ships. Deals 5 dmg.',\n  health: 100,\n  damage: 5,\n  speed: 0,\n  weight: -20,\n  cost: 25,\n  tcost: 10\n};\n\nvar grapeshot = exports.grapeshot = {\n  name: 'Grapeshot',\n  description: 'Short range. Deals 50 dmg.',\n  health: 100,\n  damage: 50,\n  speed: 0,\n  weight: -5,\n  cost: 50,\n  tcost: 20,\n  range: 1.15\n};\n\nvar shell = exports.shell = {\n  name: 'Shell',\n  description: 'Long range. Deals 10 dmg.',\n  health: 100,\n  damage: 17,\n  speed: 0,\n  weight: -20,\n  cost: 50,\n  tcost: 20,\n  range: 3.2\n};\n\nvar gunboat = exports.gunboat = {\n  name: 'Gunboat',\n  description: 'Small fast ship.',\n  health: 100,\n  damage: 0,\n  speed: 20,\n  weight: 25,\n  cost: 50,\n  tcost: 60\n};\n\nvar frigate = exports.frigate = {\n  name: 'Frigate',\n  description: 'Well balanced ship.',\n  health: 200,\n  damage: 0,\n  speed: 15,\n  weight: 50,\n  cost: 100,\n  tcost: 120\n};\n\nvar galleon = exports.galleon = {\n  name: 'Galleon',\n  description: 'The pearl of the navy.',\n  health: 300,\n  damage: 0,\n  speed: 10,\n  weight: 100,\n  cost: 125,\n  tcost: 180\n};\n\nvar hardpoints = exports.hardpoints = {\n  roundshot: roundshot,\n  chainshot: chainshot,\n  grapeshot: grapeshot,\n  shell: shell\n};\n\nvar hulls = exports.hulls = {\n  gunboat: gunboat,\n  frigate: frigate,\n  galleon: galleon\n};\n\nvar empty = {\n  health: 0,\n  damage: 0,\n  speed: 0,\n  weight: 0,\n  cost: 0,\n  tcost: 0\n};\n\n// Every stats template is in the form:\n/*\n\n{\n  hull: hull type, as a string,\n  hardpoints: [each hardpoint, as a string]\n}\n*/\n\nfunction getStats(template) {\n  var start = JSON.parse(JSON.stringify(hulls[template.hull] || empty));\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = (template.hardpoints || [])[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var hardpoint = _step.value;\n\n      if (hardpoint == null) {\n        continue;\n      }\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = Object.keys(start)[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var key = _step2.value;\n\n          start[key] += hardpoints[hardpoint][key];\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return start;\n}\n\nfunction defaultTemplate() {\n  return {\n    hull: 'gunboat',\n    hardpoints: ['roundshot']\n  };\n}"
    },
    {
      "id": 7,
      "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/shipyard.js",
      "name": "./app/shared/guibuttons/shipyard.js",
      "index": 7,
      "index2": 5,
      "size": 2382,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "assets": [],
      "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
      "profile": {
        "factory": 4251,
        "building": 210,
        "dependencies": 1
      },
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "reasons": [
        {
          "moduleId": 4,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
          "module": "./app/shared/gui.js",
          "moduleName": "./app/shared/gui.js",
          "type": "cjs require",
          "userRequest": "./guibuttons/shipyard",
          "loc": "16:16-48"
        }
      ],
      "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _guibutton = require('../guibutton');\n\nvar _guibutton2 = _interopRequireDefault(_guibutton);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Shipyard = function (_GuiButton) {\n  _inherits(Shipyard, _GuiButton);\n\n  function Shipyard() {\n    _classCallCheck(this, Shipyard);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Shipyard).apply(this, arguments));\n  }\n\n  _createClass(Shipyard, [{\n    key: 'render',\n    value: function render(context, images) {\n      if (this.selected) {\n        context.strokeStyle = 'cyan';\n        context.strokeRect(this.x, this.y, this.width, this.height);\n      }\n\n      context.drawImage(images.shipyard, this.x, this.y, this.width, this.height);\n    }\n  }]);\n\n  return Shipyard;\n}(_guibutton2.default);\n\nexports.default = Shipyard;"
    },
    {
      "id": 8,
      "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibutton.js",
      "name": "./app/shared/guibutton.js",
      "index": 8,
      "index2": 4,
      "size": 3896,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "assets": [],
      "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/mapselect.js",
      "profile": {
        "factory": 3747,
        "building": 4244
      },
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "reasons": [
        {
          "moduleId": 7,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/shipyard.js",
          "module": "./app/shared/guibuttons/shipyard.js",
          "moduleName": "./app/shared/guibuttons/shipyard.js",
          "type": "cjs require",
          "userRequest": "../guibutton",
          "loc": "9:17-40"
        },
        {
          "moduleId": 9,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/mine.js",
          "module": "./app/shared/guibuttons/mine.js",
          "moduleName": "./app/shared/guibuttons/mine.js",
          "type": "cjs require",
          "userRequest": "../guibutton",
          "loc": "9:17-40"
        },
        {
          "moduleId": 10,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/shiptemplate.js",
          "module": "./app/shared/guibuttons/shiptemplate.js",
          "moduleName": "./app/shared/guibuttons/shiptemplate.js",
          "type": "cjs require",
          "userRequest": "../guibutton",
          "loc": "9:17-40"
        },
        {
          "moduleId": 20,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/shipbuilder.js",
          "module": "./app/shared/guibuttons/shipbuilder.js",
          "moduleName": "./app/shared/guibuttons/shipbuilder.js",
          "type": "cjs require",
          "userRequest": "../guibutton",
          "loc": "9:17-40"
        },
        {
          "moduleId": 21,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/roundshot.js",
          "module": "./app/shared/guibuttons/roundshot.js",
          "moduleName": "./app/shared/guibuttons/roundshot.js",
          "type": "cjs require",
          "userRequest": "../guibutton",
          "loc": "9:17-40"
        },
        {
          "moduleId": 22,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/grapeshot.js",
          "module": "./app/shared/guibuttons/grapeshot.js",
          "moduleName": "./app/shared/guibuttons/grapeshot.js",
          "type": "cjs require",
          "userRequest": "../guibutton",
          "loc": "9:17-40"
        },
        {
          "moduleId": 23,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/shell.js",
          "module": "./app/shared/guibuttons/shell.js",
          "moduleName": "./app/shared/guibuttons/shell.js",
          "type": "cjs require",
          "userRequest": "../guibutton",
          "loc": "9:17-40"
        },
        {
          "moduleId": 24,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/cancelshot.js",
          "module": "./app/shared/guibuttons/cancelshot.js",
          "moduleName": "./app/shared/guibuttons/cancelshot.js",
          "type": "cjs require",
          "userRequest": "../guibutton",
          "loc": "9:17-40"
        },
        {
          "moduleId": 25,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/targettoggle.js",
          "module": "./app/shared/guibuttons/targettoggle.js",
          "moduleName": "./app/shared/guibuttons/targettoggle.js",
          "type": "cjs require",
          "userRequest": "../guibutton",
          "loc": "9:17-40"
        },
        {
          "moduleId": 26,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/exit.js",
          "module": "./app/shared/guibuttons/exit.js",
          "moduleName": "./app/shared/guibuttons/exit.js",
          "type": "cjs require",
          "userRequest": "../guibutton",
          "loc": "9:17-40"
        },
        {
          "moduleId": 27,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/template.js",
          "module": "./app/shared/guibuttons/template.js",
          "moduleName": "./app/shared/guibuttons/template.js",
          "type": "cjs require",
          "userRequest": "../guibutton",
          "loc": "9:17-40"
        },
        {
          "moduleId": 28,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/gunboat.js",
          "module": "./app/shared/guibuttons/gunboat.js",
          "moduleName": "./app/shared/guibuttons/gunboat.js",
          "type": "cjs require",
          "userRequest": "../guibutton",
          "loc": "9:17-40"
        },
        {
          "moduleId": 29,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/frigate.js",
          "module": "./app/shared/guibuttons/frigate.js",
          "moduleName": "./app/shared/guibuttons/frigate.js",
          "type": "cjs require",
          "userRequest": "../guibutton",
          "loc": "9:17-40"
        },
        {
          "moduleId": 30,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/galleon.js",
          "module": "./app/shared/guibuttons/galleon.js",
          "moduleName": "./app/shared/guibuttons/galleon.js",
          "type": "cjs require",
          "userRequest": "../guibutton",
          "loc": "9:17-40"
        },
        {
          "moduleId": 31,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/shipskeleton.js",
          "module": "./app/shared/guibuttons/shipskeleton.js",
          "moduleName": "./app/shared/guibuttons/shipskeleton.js",
          "type": "cjs require",
          "userRequest": "../guibutton",
          "loc": "9:17-40"
        },
        {
          "moduleId": 32,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/gunslot.js",
          "module": "./app/shared/guibuttons/gunslot.js",
          "moduleName": "./app/shared/guibuttons/gunslot.js",
          "type": "cjs require",
          "userRequest": "../guibutton",
          "loc": "9:17-40"
        },
        {
          "moduleId": 33,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/hullslot.js",
          "module": "./app/shared/guibuttons/hullslot.js",
          "moduleName": "./app/shared/guibuttons/hullslot.js",
          "type": "cjs require",
          "userRequest": "../guibutton",
          "loc": "9:17-40"
        },
        {
          "moduleId": 34,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/save.js",
          "module": "./app/shared/guibuttons/save.js",
          "moduleName": "./app/shared/guibuttons/save.js",
          "type": "cjs require",
          "userRequest": "../guibutton",
          "loc": "9:17-40"
        },
        {
          "moduleId": 36,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/mapselect.js",
          "module": "./app/shared/guibuttons/mapselect.js",
          "moduleName": "./app/shared/guibuttons/mapselect.js",
          "type": "cjs require",
          "userRequest": "../guibutton",
          "loc": "9:17-40"
        },
        {
          "moduleId": 37,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/ready.js",
          "module": "./app/shared/guibuttons/ready.js",
          "moduleName": "./app/shared/guibuttons/ready.js",
          "type": "cjs require",
          "userRequest": "../guibutton",
          "loc": "9:17-40"
        },
        {
          "moduleId": 41,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/restart.js",
          "module": "./app/shared/guibuttons/restart.js",
          "moduleName": "./app/shared/guibuttons/restart.js",
          "type": "cjs require",
          "userRequest": "../guibutton",
          "loc": "9:17-40"
        }
      ],
      "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar nextId = 0;\n\n/**\n * A button entity.\n */\n\nvar GuiButton = function () {\n  function GuiButton(type, x, y, width, height, slotNum, selection, template) {\n    _classCallCheck(this, GuiButton);\n\n    this.type = type;\n    this.rendertype = type;\n    this.originalX = x;\n    this.originalY = y;\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n    this.selected = false;\n    this.id = nextId++;\n    this.visible = true;\n\n    this.slotNum = slotNum;\n    this.templateNum = slotNum;\n\n    this.selection = selection;\n\n    this.template = template;\n  }\n\n  _createClass(GuiButton, [{\n    key: 'getX',\n    value: function getX() {\n      return this.x;\n    }\n  }, {\n    key: 'getY',\n    value: function getY() {\n      return this.y;\n    }\n  }, {\n    key: 'getId',\n    value: function getId() {\n      return this.id;\n    }\n  }, {\n    key: 'getType',\n    value: function getType() {\n      return this.type;\n    }\n  }, {\n    key: 'getSlotNum',\n    value: function getSlotNum() {\n      return this.slotNum;\n    }\n  }, {\n    key: 'getTemplateNum',\n    value: function getTemplateNum() {\n      return this.templateNum;\n    }\n  }, {\n    key: 'getRenderType',\n    value: function getRenderType() {\n      return this.rendertype;\n    }\n  }, {\n    key: 'setVisible',\n    value: function setVisible(visible) {\n      this.visible = visible;\n    }\n  }, {\n    key: 'restorePos',\n    value: function restorePos() {\n      this.x = this.originalX;\n      this.y = this.originalY;\n    }\n  }, {\n    key: 'placeItem',\n    value: function placeItem(type) {\n      if (this.type != 'gunslot' && this.type != 'hullslot' && this.type != 'template') {\n        console.error('Not a slot. Improper placement.');\n      }\n      this.rendertype = type;\n    }\n  }, {\n    key: 'isOver',\n    value: function isOver(mouseX, mouseY) {\n      if (mouseX > this.x && mouseX < this.x + this.width) {\n        if (mouseY > this.y && mouseY < this.y + this.height) {\n          return true;\n        }\n      }\n      return false;\n    }\n  }, {\n    key: 'select',\n    value: function select(mouseX, mouseY) {\n      if (this.isOver(mouseX, mouseY)) {\n        this.selected = true;\n        return this.id;\n      }\n\n      this.selected = false;\n      return -1;\n    }\n  }, {\n    key: 'deselect',\n    value: function deselect() {\n      this.selected = false;\n    }\n  }, {\n    key: 'isBuilding',\n    value: function isBuilding() {\n      switch (this.type) {\n        case 'mine':\n        case 'shipyard':\n          return true;\n        default:\n          return false;\n      }\n    }\n  }, {\n    key: 'getBuilding',\n    value: function getBuilding() {\n      switch (this.type) {\n        case 'mine':\n          return 'mine';\n        case 'shipyard':\n          return 'shipyard';\n        default:\n          console.error('unknown building type');\n          return null;\n      }\n    }\n  }, {\n    key: 'getType',\n    value: function getType() {\n      return this.type;\n    }\n  }, {\n    key: 'setType',\n    value: function setType(type) {\n      this.type = type;\n    }\n  }]);\n\n  return GuiButton;\n}();\n\nexports.default = GuiButton;"
    },
    {
      "id": 9,
      "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/mine.js",
      "name": "./app/shared/guibuttons/mine.js",
      "index": 9,
      "index2": 6,
      "size": 2346,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "assets": [],
      "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
      "profile": {
        "factory": 4252,
        "building": 415,
        "dependencies": 1
      },
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "reasons": [
        {
          "moduleId": 4,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
          "module": "./app/shared/gui.js",
          "moduleName": "./app/shared/gui.js",
          "type": "cjs require",
          "userRequest": "./guibuttons/mine",
          "loc": "20:12-40"
        }
      ],
      "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _guibutton = require('../guibutton');\n\nvar _guibutton2 = _interopRequireDefault(_guibutton);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Mine = function (_GuiButton) {\n  _inherits(Mine, _GuiButton);\n\n  function Mine() {\n    _classCallCheck(this, Mine);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Mine).apply(this, arguments));\n  }\n\n  _createClass(Mine, [{\n    key: 'render',\n    value: function render(context, images) {\n      if (this.selected) {\n        context.strokeStyle = 'cyan';\n        context.strokeRect(this.x, this.y, this.width, this.height);\n      }\n\n      context.drawImage(images.mine, this.x, this.y, this.width, this.height);\n    }\n  }]);\n\n  return Mine;\n}(_guibutton2.default);\n\nexports.default = Mine;"
    },
    {
      "id": 10,
      "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/shiptemplate.js",
      "name": "./app/shared/guibuttons/shiptemplate.js",
      "index": 10,
      "index2": 16,
      "size": 7569,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "assets": [],
      "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
      "profile": {
        "factory": 4254,
        "building": 934,
        "dependencies": 28
      },
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "reasons": [
        {
          "moduleId": 4,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
          "module": "./app/shared/gui.js",
          "moduleName": "./app/shared/gui.js",
          "type": "cjs require",
          "userRequest": "./guibuttons/shiptemplate",
          "loc": "24:20-56"
        }
      ],
      "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _guibutton = require('../guibutton');\n\nvar _guibutton2 = _interopRequireDefault(_guibutton);\n\nvar _template = require('../template');\n\nvar _hardpoint = require('../hardpoint');\n\nvar Hardpoints = _interopRequireWildcard(_hardpoint);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Shiptemplate = function (_GuiButton) {\n  _inherits(Shiptemplate, _GuiButton);\n\n  function Shiptemplate() {\n    _classCallCheck(this, Shiptemplate);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Shiptemplate).apply(this, arguments));\n  }\n\n  _createClass(Shiptemplate, [{\n    key: 'render',\n    value: function render(context, images) {\n      if (this.selected) {\n        context.strokeStyle = 'cyan';\n        context.strokeRect(this.x, this.y, this.width, this.height);\n      }\n\n      switch (this.type) {\n        case 'shiptemplate':\n          context.drawImage(images.grayBack, this.x, this.y, this.width, this.height);\n\n          var count = this.selection.counters[this.slotNum];\n          context.fillStyle = 'black';\n          context.fillText(count.toString(), this.x, this.y);\n\n          switch (this.template.hull) {\n            case 'gunboat':\n              context.drawImage(images.gunboat, this.x, this.y, this.width, this.height);\n              break;\n            case 'frigate':\n              context.drawImage(images.frigate, this.x, this.y, this.width, this.height);\n              break;\n            case 'galleon':\n              context.drawImage(images.galleon, this.x, this.y, this.width, this.height);\n              break;\n          }\n\n          var i = 0;\n          var _iteratorNormalCompletion = true;\n          var _didIteratorError = false;\n          var _iteratorError = undefined;\n\n          try {\n            for (var _iterator = this.template.hardpoints[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n              var hardpoint = _step.value;\n\n              if (hardpoint != null) {\n                Hardpoints.renderTemplate(hardpoint, i, this.x + 10, this.y + 38, context, images);\n              }\n              i += 1;\n            }\n          } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion && _iterator.return) {\n                _iterator.return();\n              }\n            } finally {\n              if (_didIteratorError) {\n                throw _iteratorError;\n              }\n            }\n          }\n\n          if (this.selection.buildingQueue.length > 0 && this.selection.buildingQueue[0].templateNumber === this.slotNum) {\n            var nextTemplate = this.selection.buildingQueue[0].template;\n            var stats = (0, _template.getStats)(nextTemplate);\n\n            context.save();\n            context.beginPath();\n            context.rect(this.x, this.y, 50, 50);\n            context.clip();\n\n            var angle = this.selection.progressTowardsNextBuild / stats.tcost * Math.PI * 2;\n\n            context.globalCompositeOperation = 'multiply';\n            context.fillStyle = 'rgba(0,0,0,.5)';\n            context.beginPath();\n            context.arc(this.x + 25, this.y + 25, 50, 0, angle, true);\n            context.lineTo(this.x + 25, this.y + 25);\n            context.fill();\n            context.globalCompositeOperation = 'source-over';\n\n            context.strokeStyle = 'white';\n            context.beginPath();\n            context.moveTo(this.x + 25, this.y + 25);\n            context.lineTo(this.x + 50, this.y + 25);\n            context.arc(this.x + 25, this.y + 25, 50, 0, angle, true);\n            context.lineTo(this.x + 25, this.y + 25);\n            context.stroke();\n\n            context.restore();\n          }\n          break;\n        case 'shiptemplateGrayed':\n          switch (this.template.hull) {\n            case 'gunboat':\n              context.drawImage(images.gunboat, this.x, this.y, this.width, this.height);\n              break;\n            case 'frigate':\n              context.drawImage(images.frigate, this.x, this.y, this.width, this.height);\n              break;\n            case 'galleon':\n              context.drawImage(images.galleon, this.x, this.y, this.width, this.height);\n              break;\n          }\n\n          var i = 0;\n          var _iteratorNormalCompletion2 = true;\n          var _didIteratorError2 = false;\n          var _iteratorError2 = undefined;\n\n          try {\n            for (var _iterator2 = this.template.hardpoints[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n              var hardpoint = _step2.value;\n\n              if (hardpoint != null) {\n                Hardpoints.renderTemplate(hardpoint, i, this.x + 10, this.y + 38, context, images);\n              }\n              i += 1;\n            }\n          } catch (err) {\n            _didIteratorError2 = true;\n            _iteratorError2 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                _iterator2.return();\n              }\n            } finally {\n              if (_didIteratorError2) {\n                throw _iteratorError2;\n              }\n            }\n          }\n\n          context.globalAlpha = 0.25;\n          context.fillStyle = 'gray';\n          context.fillRect(this.x, this.y, this.width, this.height);\n          context.drawImage(images.grayBack, this.x, this.y, this.width, this.height);\n          context.globalAlpha = 1.0;\n          break;\n      }\n    }\n  }]);\n\n  return Shiptemplate;\n}(_guibutton2.default);\n\nexports.default = Shiptemplate;"
    },
    {
      "id": 11,
      "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/hardpoint.js",
      "name": "./app/shared/hardpoint.js",
      "index": 11,
      "index2": 7,
      "size": 3366,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "assets": [],
      "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gamemap.js",
      "profile": {
        "factory": 436,
        "building": 3442,
        "dependencies": 2
      },
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "reasons": [
        {
          "moduleId": 10,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/shiptemplate.js",
          "module": "./app/shared/guibuttons/shiptemplate.js",
          "moduleName": "./app/shared/guibuttons/shiptemplate.js",
          "type": "cjs require",
          "userRequest": "../hardpoint",
          "loc": "15:17-40"
        },
        {
          "moduleId": 12,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/ship.js",
          "module": "./app/shared/ship.js",
          "moduleName": "./app/shared/ship.js",
          "type": "cjs require",
          "userRequest": "./hardpoint",
          "loc": "23:17-39"
        },
        {
          "moduleId": 13,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/types.js",
          "module": "./app/shared/types.js",
          "moduleName": "./app/shared/types.js",
          "type": "cjs require",
          "userRequest": "./hardpoint",
          "loc": "11:17-39"
        },
        {
          "moduleId": 27,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/template.js",
          "module": "./app/shared/guibuttons/template.js",
          "moduleName": "./app/shared/guibuttons/template.js",
          "type": "cjs require",
          "userRequest": "../hardpoint",
          "loc": "13:17-40"
        },
        {
          "moduleId": 39,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gamemap.js",
          "module": "./app/shared/gamemap.js",
          "moduleName": "./app/shared/gamemap.js",
          "type": "cjs require",
          "userRequest": "./hardpoint",
          "loc": "18:17-39"
        }
      ],
      "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createHardpoint = createHardpoint;\nexports.render = render;\nexports.renderTemplate = renderTemplate;\nexports.getPosition = getPosition;\nexports.fire = fire;\nexports.processUpdate = processUpdate;\nexports.remove = remove;\n\nvar _template = require('./template');\n\nvar _ship = require('./ship');\n\nvar Ships = _interopRequireWildcard(_ship);\n\nvar _projectile = require('./projectile');\n\nvar Projectiles = _interopRequireWildcard(_projectile);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar gun1Position = {\n  x: 0,\n  y: -15.75 / 50\n};\n\nvar gun2Position = {\n  x: 0,\n  y: 13.25 / 50\n};\n\nvar gunPositions = [gun1Position, gun2Position];\n\nfunction createHardpoint(map, shipId, index, gunType, team) {\n  var point = {\n    id: map.getNextEntityId(),\n    type: 'hardpoint',\n    gunType: gunType,\n    health: _template.hardpoints[gunType].health,\n    timeTillNextFire: 0,\n    shipId: shipId,\n    offset: gunPositions[index],\n    index: index,\n    team: team,\n\n    radius: 5.625 / 50\n  };\n\n  map.addEntity(point);\n\n  return point.id;\n}\n\nfunction render(hardpoint, map, context, images) {\n  var _getPosition = getPosition(hardpoint, map);\n\n  var x = _getPosition.x;\n  var y = _getPosition.y;\n\n\n  context.drawImage(images.cannon, x * 50 - 20 / 4, y * 50 - 25 / 4, 10, 10);\n\n  context.fillStyle = 'red';\n  context.fillRect(x * 50 - 10, y * 50 + 5, 20, 5);\n\n  var healthpercent = hardpoint.health / _template.hardpoints[hardpoint.gunType].health;\n\n  context.fillStyle = 'green';\n  context.fillRect(x * 50 - 10, y * 50 + 5, 20 * healthpercent, 5);\n\n  context.strokeStyle = 'black';\n  context.strokeRect(x * 50 - 10, y * 50 + 5, 20, 5);\n}\n\nfunction renderTemplate(hardpoint, slotnum, x, y, context, images) {\n  var modifier = 0;\n  if (slotnum == 1) {\n    modifier = 20;\n  }\n\n  context.fillStyle = 'coral';\n  context.fillRect(x + modifier, y, 10, 10);\n\n  switch (hardpoint) {\n    case 'roundshot':\n      context.drawImage(images.roundshot, x + modifier, y, 10, 10);\n      break;\n    case 'grapeshot':\n      context.drawImage(images.grapeshot, x + modifier, y, 10, 10);\n      break;\n    case 'chainshot':\n      context.drawImage(images.chainshot, x + modifier, y, 10, 10);\n      break;\n    case 'shell':\n      context.drawImage(images.shell, x + modifier, y, 10, 10);\n      break;\n  }\n}\n\nfunction getPosition(hardpoint, map) {\n  var ship = map.getEntity(hardpoint.shipId);\n\n  var x = ship.x + Math.cos(Ships.getOrientation(ship)) * hardpoint.offset.x - Math.sin(Ships.getOrientation(ship)) * hardpoint.offset.y;\n  var y = ship.y + Math.sin(Ships.getOrientation(ship)) * hardpoint.offset.x + Math.cos(Ships.getOrientation(ship)) * hardpoint.offset.y;\n  return { x: x, y: y };\n}\n\nfunction fire(hardpoint, map, target) {\n  var position = getPosition(hardpoint, map);\n\n  Projectiles.createProjectile(map, position, target, hardpoint.gunType);\n\n  hardpoint.timeTillNextFire = 100;\n}\n\nfunction processUpdate(hardpoint) {\n  if (hardpoint.timeTillNextFire !== 0) {\n    hardpoint.timeTillNextFire -= 1;\n  }\n}\n\nfunction remove(hardpoint, map) {\n  map.removeEntity(hardpoint.id);\n}"
    },
    {
      "id": 12,
      "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/ship.js",
      "name": "./app/shared/ship.js",
      "index": 12,
      "index2": 8,
      "size": 16150,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "assets": [],
      "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gamemap.js",
      "profile": {
        "factory": 438,
        "building": 5756,
        "dependencies": 3
      },
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "reasons": [
        {
          "moduleId": 11,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/hardpoint.js",
          "module": "./app/shared/hardpoint.js",
          "moduleName": "./app/shared/hardpoint.js",
          "type": "cjs require",
          "userRequest": "./ship",
          "loc": "16:12-29"
        },
        {
          "moduleId": 13,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/types.js",
          "module": "./app/shared/types.js",
          "moduleName": "./app/shared/types.js",
          "type": "cjs require",
          "userRequest": "./ship",
          "loc": "7:12-29"
        },
        {
          "moduleId": 14,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/shipyard.js",
          "module": "./app/shared/shipyard.js",
          "moduleName": "./app/shared/shipyard.js",
          "type": "cjs require",
          "userRequest": "./ship",
          "loc": "17:12-29"
        },
        {
          "moduleId": 38,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/maps.js",
          "module": "./app/shared/maps.js",
          "moduleName": "./app/shared/maps.js",
          "type": "cjs require",
          "userRequest": "./ship",
          "loc": "12:12-29"
        },
        {
          "moduleId": 39,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gamemap.js",
          "module": "./app/shared/gamemap.js",
          "moduleName": "./app/shared/gamemap.js",
          "type": "cjs require",
          "userRequest": "./ship",
          "loc": "26:12-29"
        }
      ],
      "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nexports.createShipAndHardpoints = createShipAndHardpoints;\nexports.getPosition = getPosition;\nexports.getOrientation = getOrientation;\nexports.render = render;\nexports.renderOverlay = renderOverlay;\nexports.moveTo = moveTo;\nexports.attackTarget = attackTarget;\nexports.processUpdate = processUpdate;\nexports.getHealth = getHealth;\nexports.remove = remove;\nexports.updateMode = updateMode;\n\nvar _template = require('./template');\n\nvar _hardpoint = require('./hardpoint');\n\nvar Hardpoints = _interopRequireWildcard(_hardpoint);\n\nvar _types = require('./types');\n\nvar _types2 = _interopRequireDefault(_types);\n\nvar _vector = require('./vector');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar shipMoveSpeedFactor = 0.05 / 20;\n\n/**\n * A ship entity.\n */\n\nfunction createShipAndHardpoints(map, x, y, template, team) {\n  var shipId = map.getNextEntityId();\n\n  var myHardpoints = template.hardpoints.map(function (hardpoint, index) {\n    if (hardpoint == null) {\n      return null;\n    }\n\n    return Hardpoints.createHardpoint(map, shipId, index, hardpoint, team);\n  });\n\n  var ship = {\n    x: x,\n    y: y,\n    id: shipId,\n    team: team,\n    type: 'ship',\n    template: template,\n    health: JSON.parse(JSON.stringify(_template.hulls[template.hull])).health,\n    hardpoints: myHardpoints,\n    targetMode: 'hardpoints',\n\n    lastPositions: [],\n\n    mode: {\n      type: 'IDLE'\n    }\n  };\n\n  map.addEntity(ship);\n\n  return shipId;\n}\n\nfunction getPosition(ship) {\n  return { x: ship.x, y: ship.y };\n}\n\nfunction getOrientation(ship) {\n  var lastPosition = ship.lastPositions[0] || null;\n\n  if (lastPosition == null) {\n    return 0;\n  }\n\n  return Math.atan2(ship.y - lastPosition.y, ship.x - lastPosition.x) + Math.PI / 2;\n}\n\nfunction render(ship, map, context, images, isSelected) {\n  if (ship.team === '1') {\n    context.fillStyle = 'firebrick';\n  } else {\n    context.fillStyle = 'royalblue';\n  }\n  context.beginPath();\n  context.arc(ship.x * 50, ship.y * 50, 25, 0, Math.PI * 2, true);\n  context.fill();\n\n  context.save();\n  context.translate(ship.x * 50, ship.y * 50);\n\n  var angle = getOrientation(ship);\n\n  context.rotate(angle);\n  context.drawImage(images.ship, -0.5 * 50, -0.5 * 50, 50, 50);\n  context.restore();\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = ship.hardpoints[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var hardpointId = _step.value;\n\n      var hardpoint = map.getEntity(hardpointId);\n      if (hardpoint != null) {\n        Hardpoints.render(hardpoint, map, context, images);\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  if (isSelected) {\n    context.strokeStyle = 'cyan';\n    context.beginPath();\n    context.arc(ship.x * 50, ship.y * 50, 25, 0, Math.PI * 2, true);\n    context.stroke();\n  }\n}\n\nfunction renderOverlay(ship, map, context) {\n  context.fillStyle = 'red';\n  context.fillRect(ship.x * 50 - 20, ship.y * 50 + 30, 40, 5);\n\n  var healthpercent = ship.health / _template.hulls[ship.template.hull].health;\n\n  context.fillStyle = 'green';\n  context.fillRect(ship.x * 50 - 20, ship.y * 50 + 30, 40 * healthpercent, 5);\n\n  context.strokeStyle = 'black';\n  context.strokeRect(ship.x * 50 - 20, ship.y * 50 + 30, 40, 5);\n}\n\nfunction setPosition(ship, x, y) {\n  ship.lastPositions.push({ x: x, y: y });\n\n  if (ship.lastPositions.length > 5) {\n    ship.lastPositions.shift();\n  }\n\n  ship.x = x;\n  ship.y = y;\n}\n\nfunction moveTo(ship, map, targetLocation) {\n  ship.mode = {\n    type: 'MOVING',\n    targetLocation: targetLocation\n  };\n}\n\nfunction attackTarget(ship, target) {\n  ship.mode = {\n    type: 'ATTACKING',\n    targetId: target.id\n  };\n}\n\nfunction getAvoidencVector(sourceVector, targetVector, factor) {\n  var xDistance = sourceVector.x - targetVector.x;\n  var yDistance = sourceVector.y - targetVector.y;\n  var distanceSquared = xDistance * xDistance + yDistance * yDistance;\n  var distance = Math.sqrt(distanceSquared);\n\n  var magnitude = factor / (distance * distance * distance * distance);\n\n  return {\n    x: xDistance * magnitude / distance,\n    y: yDistance * magnitude / distance\n  };\n}\n\nfunction getAvoidencVectors(ship, map) {\n  var result = {\n    x: 0,\n    y: 0\n  };\n\n  var pos = { x: ship.x, y: ship.y };\n\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = map.getIslands()[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var island = _step2.value;\n      var _iteratorNormalCompletion4 = true;\n      var _didIteratorError4 = false;\n      var _iteratorError4 = undefined;\n\n      try {\n        for (var _iterator4 = island.coordinates[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n          var _step4$value = _slicedToArray(_step4.value, 2);\n\n          var x = _step4$value[0];\n          var y = _step4$value[1];\n\n          var avoid = getAvoidencVector(pos, { x: x, y: y }, 0.05);\n          result.x += avoid.x;\n          result.y += avoid.y;\n        }\n      } catch (err) {\n        _didIteratorError4 = true;\n        _iteratorError4 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion4 && _iterator4.return) {\n            _iterator4.return();\n          }\n        } finally {\n          if (_didIteratorError4) {\n            throw _iteratorError4;\n          }\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2.return) {\n        _iterator2.return();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  var _iteratorNormalCompletion3 = true;\n  var _didIteratorError3 = false;\n  var _iteratorError3 = undefined;\n\n  try {\n    for (var _iterator3 = map.getShips()[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n      var otherShip = _step3.value;\n\n      if (otherShip.id === ship.id) {\n        continue;\n      }\n\n      var avoid = getAvoidencVector(pos, { x: otherShip.x, y: otherShip.y }, 0.05);\n      result.x += avoid.x;\n      result.y += avoid.y;\n    }\n  } catch (err) {\n    _didIteratorError3 = true;\n    _iteratorError3 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion3 && _iterator3.return) {\n        _iterator3.return();\n      }\n    } finally {\n      if (_didIteratorError3) {\n        throw _iteratorError3;\n      }\n    }\n  }\n\n  return result;\n}\n\nfunction moveDelta(ship, delta) {\n  var move = {\n    x: delta.x + ship.x,\n    y: delta.y + ship.y\n  };\n  setPosition(ship, move.x, move.y);\n}\n\n/**\n * Are you close enough to the current waypoint?\n */\nfunction closeEnoughToTarget(ship) {\n  return getDistanceToTarget(ship, ship.mode.targetLocation) <= 0.1;\n}\n\nfunction getDistanceToTarget(ship, target) {\n  return (0, _vector.getDistance)(getPosition(ship), target);\n}\n\n/**\n * Perform a move using ship.mode.targetLocation\n * Returns the move update\n */\nfunction performMove(ship, map) {\n  var currentMove = ship.mode.targetLocation;\n\n  var shipMoveSpeed = shipMoveSpeedFactor * _template.hulls[ship.template.hull].speed;\n  var scale = Math.min(shipMoveSpeed, getDistanceToTarget(ship, currentMove));\n\n  var delta = {\n    x: (currentMove.x - ship.x) / getDistanceToTarget(ship, currentMove) * scale,\n    y: (currentMove.y - ship.y) / getDistanceToTarget(ship, currentMove) * scale\n  };\n\n  var avoid = getAvoidencVectors(ship, map);\n\n  var finalVector = {\n    x: avoid.x + delta.x,\n    y: avoid.y + delta.y\n  };\n\n  var finalDistance = Math.sqrt(finalVector.x * finalVector.x + finalVector.y * finalVector.y);\n  var deltaDistance = Math.sqrt(delta.x * delta.x + delta.y * delta.y);\n\n  var dotProduct = (delta.x * finalVector.x + delta.y * finalVector.y) / (deltaDistance * finalDistance);\n\n  var angle = Math.acos(dotProduct) * 180 / Math.PI;\n\n  finalVector.x *= scale / finalDistance;\n  finalVector.y *= scale / finalDistance;\n\n  if (angle < 120) {\n    moveDelta(ship, finalVector);\n  }\n}\n\n/**\n * Move the ship and perform the corresponding updates.\n */\nfunction processMove(ship, map) {\n  if (closeEnoughToTarget(ship)) {\n    ship.mode = {\n      type: 'IDLE'\n    };\n    return;\n  }\n\n  performMove(ship, map);\n}\n\nfunction getActualTarget(ship, map, target) {\n  if (target == null) {\n    return null;\n  }\n\n  if (target.type === 'ship' && map.getEntity(ship.team).targetMode === 'hardpoints') {\n    var minHardpoint = null;\n    var _iteratorNormalCompletion5 = true;\n    var _didIteratorError5 = false;\n    var _iteratorError5 = undefined;\n\n    try {\n      for (var _iterator5 = target.hardpoints[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n        var hardpointId = _step5.value;\n\n        var hardpoint = map.getEntity(hardpointId);\n        if (hardpoint != null) {\n          if (minHardpoint == null || hardpoint.health < minHardpoint.health) {\n            minHardpoint = hardpoint;\n          }\n        }\n      }\n    } catch (err) {\n      _didIteratorError5 = true;\n      _iteratorError5 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion5 && _iterator5.return) {\n          _iterator5.return();\n        }\n      } finally {\n        if (_didIteratorError5) {\n          throw _iteratorError5;\n        }\n      }\n    }\n\n    return minHardpoint;\n  }\n\n  return target;\n}\n\n/**\n * Tries to shoot at the target (entity is the parent entity).\n * If there are cannons which can fire, but need to be closer, returns true.\n * Returns false if there is no point moving closer.\n */\nfunction shootAt(ship, map, entity, target, rangePenalty) {\n  var shouldMoveCloser = false;\n\n  var targetLocation = getPosition(entity, map);\n  var distance = getDistanceToTarget(ship, targetLocation);\n  var _iteratorNormalCompletion6 = true;\n  var _didIteratorError6 = false;\n  var _iteratorError6 = undefined;\n\n  try {\n    for (var _iterator6 = ship.hardpoints[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n      var hardpointId = _step6.value;\n\n      var hardpoint = map.getEntity(hardpointId);\n      if (hardpoint != null && hardpoint.timeTillNextFire === 0) {\n        if (distance < _template.hardpoints[hardpoint.gunType].range - rangePenalty) {\n          Hardpoints.fire(hardpoint, map, target);\n        } else {\n          shouldMoveCloser = true;\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError6 = true;\n    _iteratorError6 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion6 && _iterator6.return) {\n        _iterator6.return();\n      }\n    } finally {\n      if (_didIteratorError6) {\n        throw _iteratorError6;\n      }\n    }\n  }\n\n  return shouldMoveCloser;\n}\n\n/**\n * Shoot at any enemy ships in range with the current attack pattern\n */\nfunction processIdleAttack(ship, map) {\n  var _iteratorNormalCompletion7 = true;\n  var _didIteratorError7 = false;\n  var _iteratorError7 = undefined;\n\n  try {\n    for (var _iterator7 = map.entities.values()[Symbol.iterator](), _step7; !(_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done); _iteratorNormalCompletion7 = true) {\n      var entity = _step7.value;\n\n      if (entity.type === 'ship' && entity.team !== ship.team) {\n        var actualTarget = getActualTarget(ship, map, entity);\n        if (actualTarget != null) {\n          shootAt(ship, map, entity, actualTarget, 0.5);\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError7 = true;\n    _iteratorError7 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion7 && _iterator7.return) {\n        _iterator7.return();\n      }\n    } finally {\n      if (_didIteratorError7) {\n        throw _iteratorError7;\n      }\n    }\n  }\n}\n\n/**\n * Try to attack if in range, or move into range otherwise\n */\nfunction processAttack(ship, map) {\n  var pseudoTarget = map.getEntity(ship.mode.targetId);\n  var target = getActualTarget(ship, map, pseudoTarget);\n\n  if (target == null) {\n    // Target is gone or dead\n    ship.mode = {\n      type: 'IDLE'\n    };\n    return;\n  }\n\n  var targetLocation = _types2.default[pseudoTarget.type].getPosition(pseudoTarget, map);\n\n  var shouldMoveCloser = shootAt(ship, map, pseudoTarget, target, 0);\n\n  if (shouldMoveCloser) {\n    ship.mode.targetLocation = targetLocation;\n\n    if (closeEnoughToTarget(ship)) {\n      return;\n    }\n\n    performMove(ship, map);\n  }\n}\n\n/**\n * Update the ship and get the corresponding update messages.\n */\nfunction processUpdate(ship, map) {\n  var _iteratorNormalCompletion8 = true;\n  var _didIteratorError8 = false;\n  var _iteratorError8 = undefined;\n\n  try {\n    for (var _iterator8 = ship.hardpoints[Symbol.iterator](), _step8; !(_iteratorNormalCompletion8 = (_step8 = _iterator8.next()).done); _iteratorNormalCompletion8 = true) {\n      var hardpointId = _step8.value;\n\n      var hardpoint = map.getEntity(hardpointId);\n      if (hardpoint != null) {\n        Hardpoints.processUpdate(map.getEntity(hardpointId), map);\n      }\n    }\n  } catch (err) {\n    _didIteratorError8 = true;\n    _iteratorError8 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion8 && _iterator8.return) {\n        _iterator8.return();\n      }\n    } finally {\n      if (_didIteratorError8) {\n        throw _iteratorError8;\n      }\n    }\n  }\n\n  switch (ship.mode.type) {\n    case 'MOVING':\n      processMove(ship, map);\n      processIdleAttack(ship, map);\n      break;\n\n    case 'ATTACKING':\n      processAttack(ship, map);\n      break;\n\n    case 'IDLE':\n      processIdleAttack(ship, map);\n      break;\n\n    default:\n      console.error('Unexcepted type ' + ship.mode.type);\n  }\n}\n\nfunction getHealth(ship) {\n  return ship.health;\n}\n\nfunction remove(ship, map) {\n  map.removeEntity(ship.id);\n  var _iteratorNormalCompletion9 = true;\n  var _didIteratorError9 = false;\n  var _iteratorError9 = undefined;\n\n  try {\n    for (var _iterator9 = ship.hardpoints[Symbol.iterator](), _step9; !(_iteratorNormalCompletion9 = (_step9 = _iterator9.next()).done); _iteratorNormalCompletion9 = true) {\n      var hardpointId = _step9.value;\n\n      map.removeEntity(hardpointId);\n    }\n  } catch (err) {\n    _didIteratorError9 = true;\n    _iteratorError9 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion9 && _iterator9.return) {\n        _iterator9.return();\n      }\n    } finally {\n      if (_didIteratorError9) {\n        throw _iteratorError9;\n      }\n    }\n  }\n}\n\nfunction updateMode(ship, targetMode) {\n  ship.targetMode = targetMode;\n}"
    },
    {
      "id": 13,
      "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/types.js",
      "name": "./app/shared/types.js",
      "index": 13,
      "index2": 13,
      "size": 1236,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "assets": [],
      "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gamemap.js",
      "profile": {
        "factory": 439,
        "building": 5865,
        "dependencies": 96
      },
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "reasons": [
        {
          "moduleId": 12,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/ship.js",
          "module": "./app/shared/ship.js",
          "moduleName": "./app/shared/ship.js",
          "type": "cjs require",
          "userRequest": "./types",
          "loc": "27:13-31"
        },
        {
          "moduleId": 18,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/projectile.js",
          "module": "./app/shared/projectile.js",
          "moduleName": "./app/shared/projectile.js",
          "type": "cjs require",
          "userRequest": "./types",
          "loc": "10:13-31"
        },
        {
          "moduleId": 39,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gamemap.js",
          "module": "./app/shared/gamemap.js",
          "moduleName": "./app/shared/gamemap.js",
          "type": "cjs require",
          "userRequest": "./types",
          "loc": "30:13-31"
        }
      ],
      "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _ship = require('./ship');\n\nvar Ships = _interopRequireWildcard(_ship);\n\nvar _hardpoint = require('./hardpoint');\n\nvar Hardpoints = _interopRequireWildcard(_hardpoint);\n\nvar _shipyard = require('./shipyard');\n\nvar Shipyard = _interopRequireWildcard(_shipyard);\n\nvar _mine = require('./mine');\n\nvar Mine = _interopRequireWildcard(_mine);\n\nvar _island = require('./island');\n\nvar Island = _interopRequireWildcard(_island);\n\nvar _buildingtemplate = require('./buildingtemplate');\n\nvar BuildingTemplate = _interopRequireWildcard(_buildingtemplate);\n\nvar _projectile = require('./projectile');\n\nvar Projectile = _interopRequireWildcard(_projectile);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar Types = {\n  'ship': Ships,\n  'hardpoint': Hardpoints,\n  'shipyard': Shipyard,\n  'mine': Mine,\n  'playerstate': {},\n  'island': Island,\n  'buildingTemplate': BuildingTemplate,\n  'projectile': Projectile\n};\n\nexports.default = Types;"
    },
    {
      "id": 14,
      "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/shipyard.js",
      "name": "./app/shared/shipyard.js",
      "index": 14,
      "index2": 9,
      "size": 5592,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "assets": [],
      "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gamemap.js",
      "profile": {
        "factory": 434,
        "building": 3179,
        "dependencies": 4
      },
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "reasons": [
        {
          "moduleId": 13,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/types.js",
          "module": "./app/shared/types.js",
          "moduleName": "./app/shared/types.js",
          "type": "cjs require",
          "userRequest": "./shipyard",
          "loc": "15:16-37"
        },
        {
          "moduleId": 39,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gamemap.js",
          "module": "./app/shared/gamemap.js",
          "moduleName": "./app/shared/gamemap.js",
          "type": "cjs require",
          "userRequest": "./shipyard",
          "loc": "14:16-37"
        }
      ],
      "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nexports.createShipyard = createShipyard;\nexports.render = render;\nexports.getPosition = getPosition;\nexports.processUpdate = processUpdate;\nexports.remove = remove;\nexports.addTemplateToQueue = addTemplateToQueue;\nexports.removeTemplateFromQueue = removeTemplateFromQueue;\n\nvar _ship = require('./ship');\n\nvar Ships = _interopRequireWildcard(_ship);\n\nvar _template = require('../shared/template');\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/**\n * A shipyard entity.\n */\n\nfunction createShipyard(map, x, y, islandID, team) {\n  var shipyard = {\n    map: map,\n    x: x,\n    y: y,\n    islandID: islandID,\n    health: 100,\n    team: team,\n    id: map.getNextEntityId(),\n    set: true,\n    type: 'shipyard',\n    buildingQueue: [],\n    progressTowardsNextBuild: 0,\n    counters: { 0: 0, 1: 0, 2: 0 }\n  };\n\n  map.addEntity(shipyard);\n\n  return shipyard.id;\n}\n\nfunction render(shipyard, map, context, images, isSelected) {\n  if (shipyard.team === '1') {\n    context.fillStyle = 'firebrick';\n  } else {\n    context.fillStyle = 'royalblue';\n  }\n\n  context.beginPath();\n  context.arc(shipyard.x * 50, shipyard.y * 50, 25, 0, Math.PI * 2, true);\n  context.fill();\n\n  context.drawImage(images.shipyard, (shipyard.x - 0.5) * 50, (shipyard.y - 0.5) * 50, 50, 50);\n\n  context.fillStyle = 'red';\n  context.fillRect(shipyard.x * 50 - 20, shipyard.y * 50 + 30, 40, 5);\n\n  var healthpercent = shipyard.health / 100;\n\n  context.fillStyle = 'green';\n  context.fillRect(shipyard.x * 50 - 20, shipyard.y * 50 + 30, 40 * healthpercent, 5);\n\n  context.strokeStyle = 'black';\n  context.strokeRect(shipyard.x * 50 - 20, shipyard.y * 50 + 30, 40, 5);\n\n  if (isSelected) {\n    context.strokeStyle = 'cyan';\n    context.strokeRect((shipyard.x - 0.5) * 50, (shipyard.y - 0.5) * 50, 50, 50);\n  }\n}\n\nfunction getPosition(shipyard) {\n  return { x: shipyard.x, y: shipyard.y };\n}\n\nfunction processUpdate(shipyard, map) {\n  if (shipyard.buildingQueue.length > 0) {\n    shipyard.progressTowardsNextBuild += 1;\n\n    var _shipyard$buildingQue = shipyard.buildingQueue[0];\n    var template = _shipyard$buildingQue.template;\n    var templateNumber = _shipyard$buildingQue.templateNumber;\n\n    var stats = (0, _template.getStats)(template);\n\n    if (shipyard.progressTowardsNextBuild === stats.tcost) {\n      shipyard.buildingQueue.shift();\n      shipyard.counters[templateNumber]--;\n\n      var _map$getShipBuildCoor = map.getShipBuildCoords(shipyard.islandID);\n\n      var x = _map$getShipBuildCoor.x;\n      var y = _map$getShipBuildCoor.y;\n\n\n      if (x == null) {\n        console.error('No space available to build ship.');\n        map.getEntity(shipyard.team).coins += stats.cost;\n      } else {\n        Ships.createShipAndHardpoints(map, x, y, template, shipyard.team);\n      }\n\n      shipyard.progressTowardsNextBuild = 0;\n    }\n  }\n}\n\nfunction remove(shipyard, map) {\n  map.removeEntity(shipyard.id);\n\n  // Refund in progress ships\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = shipyard.buildingQueue[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var template = _step.value.template;\n\n      var stats = (0, _template.getStats)(template);\n      map.getEntity(shipyard.team).coins += stats.cost;\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n}\n\nfunction addTemplateToQueue(shipyard, templateNumber, template) {\n  shipyard.counters[templateNumber]++;\n  shipyard.buildingQueue.push({ template: template, templateNumber: templateNumber });\n}\n\nfunction removeTemplateFromQueue(shipyard, map, templateNumber) {\n  if (shipyard.counters[templateNumber] === 0) {\n    return;\n  }\n\n  shipyard.counters[templateNumber]--;\n  var optionIndex = null;\n  for (var i = 0; i < shipyard.buildingQueue.length; i++) {\n    if (shipyard.buildingQueue[i].templateNumber === templateNumber) {\n      optionIndex = i;\n    }\n  }\n\n  if (optionIndex == null) {\n    console.error('Trying to remove non-existant item from the queue? What?');\n  }\n\n  var _shipyard$buildingQue2 = shipyard.buildingQueue.splice(optionIndex, 1);\n\n  var _shipyard$buildingQue3 = _slicedToArray(_shipyard$buildingQue2, 1);\n\n  var removed = _shipyard$buildingQue3[0];\n\n\n  var stats = (0, _template.getStats)(removed.template);\n  map.getEntity(shipyard.team).coins += stats.cost;\n}"
    },
    {
      "id": 15,
      "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/mine.js",
      "name": "./app/shared/mine.js",
      "index": 15,
      "index2": 10,
      "size": 1559,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "assets": [],
      "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gamemap.js",
      "profile": {
        "factory": 433,
        "building": 2719
      },
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "reasons": [
        {
          "moduleId": 13,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/types.js",
          "module": "./app/shared/types.js",
          "moduleName": "./app/shared/types.js",
          "type": "cjs require",
          "userRequest": "./mine",
          "loc": "19:12-29"
        },
        {
          "moduleId": 39,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gamemap.js",
          "module": "./app/shared/gamemap.js",
          "moduleName": "./app/shared/gamemap.js",
          "type": "cjs require",
          "userRequest": "./mine",
          "loc": "10:12-29"
        }
      ],
      "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createMine = createMine;\nexports.processUpdate = processUpdate;\nexports.render = render;\nexports.getPosition = getPosition;\nexports.remove = remove;\n/**\n * A mine entity.\n */\n\nfunction createMine(map, x, y, islandID, team) {\n  var mine = {\n    type: 'mine',\n    x: x,\n    y: y,\n    id: map.getNextEntityId(),\n    islandID: islandID,\n    team: team,\n    health: 100\n  };\n\n  map.addEntity(mine);\n\n  return mine.id;\n}\n\nfunction processUpdate(mine, map) {\n  map.getEntity(mine.team).coins += 0.2;\n}\n\nfunction render(mine, map, context, images, isSelected) {\n  if (mine.team === '1') {\n    context.fillStyle = 'firebrick';\n  } else {\n    context.fillStyle = 'royalblue';\n  }\n\n  context.beginPath();\n  context.arc(mine.x * 50, mine.y * 50, 25, 0, Math.PI * 2, true);\n  context.fill();\n\n  context.fillStyle = 'red';\n  context.fillRect(mine.x * 50 - 20, mine.y * 50 + 30, 40, 5);\n\n  var healthpercent = mine.health / 100;\n\n  context.fillStyle = 'green';\n  context.fillRect(mine.x * 50 - 20, mine.y * 50 + 30, 40 * healthpercent, 5);\n\n  context.strokeStyle = 'black';\n  context.strokeRect(mine.x * 50 - 20, mine.y * 50 + 30, 40, 5);\n\n  context.drawImage(images.mine, (mine.x - 0.5) * 50, (mine.y - 0.5) * 50, 50, 50);\n\n  if (isSelected) {\n    context.strokeStyle = 'cyan';\n    context.strokeRect((this.x - 0.5) * 50, (this.y - 0.5) * 50, 50, 50);\n  }\n}\n\nfunction getPosition(mine) {\n  return { x: mine.x, y: mine.y };\n}\n\nfunction remove(mine, map) {\n  map.removeEntity(mine.id);\n}"
    },
    {
      "id": 16,
      "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/island.js",
      "name": "./app/shared/island.js",
      "index": 16,
      "index2": 11,
      "size": 10076,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "assets": [],
      "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gamemap.js",
      "profile": {
        "factory": 437,
        "building": 4174
      },
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "reasons": [
        {
          "moduleId": 13,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/types.js",
          "module": "./app/shared/types.js",
          "moduleName": "./app/shared/types.js",
          "type": "cjs require",
          "userRequest": "./island",
          "loc": "23:14-33"
        },
        {
          "moduleId": 38,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/maps.js",
          "module": "./app/shared/maps.js",
          "moduleName": "./app/shared/maps.js",
          "type": "cjs require",
          "userRequest": "./island",
          "loc": "16:14-33"
        },
        {
          "moduleId": 39,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gamemap.js",
          "module": "./app/shared/gamemap.js",
          "moduleName": "./app/shared/gamemap.js",
          "type": "cjs require",
          "userRequest": "./island",
          "loc": "22:14-33"
        }
      ],
      "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nexports.createIsland = createIsland;\nexports.render = render;\nexports.isIsland = isIsland;\nexports.isNextToIsland = isNextToIsland;\nexports.processUpdate = processUpdate;\n/**\n * An island entity.\n */\n\nfunction addToPerimeter(island, x, y, map) {\n  if (x >= 0 && x < map.width && y >= 0 && y < map.height && !isIsland(island, x, y)) {\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = island.perimeter[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var _step$value = _slicedToArray(_step.value, 2);\n\n        var oldX = _step$value[0];\n        var oldY = _step$value[1];\n\n        if (oldX === x && oldY === y) {\n          return;\n        }\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    island.perimeter.push([x, y]);\n  }\n}\n\nfunction createIsland(map, topLeft, size) {\n  var coordinates = [];\n\n  for (var x = 0; x < size[0]; x++) {\n    for (var y = 0; y < size[1]; y++) {\n      coordinates.push([topLeft[0] + x, topLeft[1] + y]);\n    }\n  }\n\n  var island = {\n    coordinates: coordinates,\n    topLeft: topLeft,\n    size: size,\n    id: map.getNextEntityId(),\n    team: null,\n    perimeter: [],\n    type: 'island'\n  };\n\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = island.coordinates[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var _step2$value = _slicedToArray(_step2.value, 2);\n\n      var iX = _step2$value[0];\n      var iY = _step2$value[1];\n      var _arr = [-1, 0, 1];\n\n      for (var _i = 0; _i < _arr.length; _i++) {\n        var dx = _arr[_i];var _arr2 = [-1, 0, 1];\n\n        for (var _i2 = 0; _i2 < _arr2.length; _i2++) {\n          var dy = _arr2[_i2];\n          addToPerimeter(island, iX + dx, iY + dy, map);\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2.return) {\n        _iterator2.return();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  map.addEntity(island);\n\n  return island.id;\n}\n\nfunction render(island, map, context, images, isSelected) {\n  var noFlag = arguments.length <= 5 || arguments[5] === undefined ? false : arguments[5];\n\n  var _island$topLeft = _slicedToArray(island.topLeft, 2);\n\n  var x = _island$topLeft[0];\n  var y = _island$topLeft[1];\n\n  var _island$size = _slicedToArray(island.size, 2);\n\n  var width = _island$size[0];\n  var height = _island$size[1];\n\n\n  context.drawImage(images.island, (x - 0.5) * 50, (y - 0.5) * 50, width * 50, height * 50);\n\n  if (island.team != null && !noFlag) {\n    var flag = island.team === '0' ? images.blueFlag : images.redFlag;\n\n    var scale = 20;\n    context.drawImage(flag, (x + 0.3) * 50, (y - 0.9) * 50, 480 / scale, 670 / scale);\n  }\n}\n\nfunction isIsland(island, x, y) {\n  var _iteratorNormalCompletion3 = true;\n  var _didIteratorError3 = false;\n  var _iteratorError3 = undefined;\n\n  try {\n    for (var _iterator3 = island.coordinates[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n      var _step3$value = _slicedToArray(_step3.value, 2);\n\n      var iX = _step3$value[0];\n      var iY = _step3$value[1];\n\n      if (x === iX && y === iY) {\n        return true;\n      }\n    }\n  } catch (err) {\n    _didIteratorError3 = true;\n    _iteratorError3 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion3 && _iterator3.return) {\n        _iterator3.return();\n      }\n    } finally {\n      if (_didIteratorError3) {\n        throw _iteratorError3;\n      }\n    }\n  }\n\n  return false;\n}\n\nfunction isNextToIsland(island, x, y) {\n  var _iteratorNormalCompletion4 = true;\n  var _didIteratorError4 = false;\n  var _iteratorError4 = undefined;\n\n  try {\n    for (var _iterator4 = island.perimeter[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n      var _step4$value = _slicedToArray(_step4.value, 2);\n\n      var iX = _step4$value[0];\n      var iY = _step4$value[1];\n\n      if (x === iX && y === iY) {\n        return true;\n      }\n    }\n  } catch (err) {\n    _didIteratorError4 = true;\n    _iteratorError4 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion4 && _iterator4.return) {\n        _iterator4.return();\n      }\n    } finally {\n      if (_didIteratorError4) {\n        throw _iteratorError4;\n      }\n    }\n  }\n\n  return false;\n}\n\nfunction getOwningTeam(island, map) {\n  // First scan for buildings on this island\n  var _iteratorNormalCompletion5 = true;\n  var _didIteratorError5 = false;\n  var _iteratorError5 = undefined;\n\n  try {\n    for (var _iterator5 = map.entities.values()[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n      var entity = _step5.value;\n\n      if (entity.type === 'shipyard' || entity.type === 'mine') {\n        var _iteratorNormalCompletion7 = true;\n        var _didIteratorError7 = false;\n        var _iteratorError7 = undefined;\n\n        try {\n          for (var _iterator7 = island.coordinates[Symbol.iterator](), _step7; !(_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done); _iteratorNormalCompletion7 = true) {\n            var _step7$value = _slicedToArray(_step7.value, 2);\n\n            var iX = _step7$value[0];\n            var iY = _step7$value[1];\n\n            if (entity.x === iX && entity.y === iY) {\n              return entity.team;\n            }\n          }\n        } catch (err) {\n          _didIteratorError7 = true;\n          _iteratorError7 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion7 && _iterator7.return) {\n              _iterator7.return();\n            }\n          } finally {\n            if (_didIteratorError7) {\n              throw _iteratorError7;\n            }\n          }\n        }\n      }\n    }\n\n    // Then scan for ships. Note that we get all teams as we need to make sure\n    // that all surrounding ships are the right team.\n  } catch (err) {\n    _didIteratorError5 = true;\n    _iteratorError5 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion5 && _iterator5.return) {\n        _iterator5.return();\n      }\n    } finally {\n      if (_didIteratorError5) {\n        throw _iteratorError5;\n      }\n    }\n  }\n\n  var shipTeams = [];\n  var _iteratorNormalCompletion6 = true;\n  var _didIteratorError6 = false;\n  var _iteratorError6 = undefined;\n\n  try {\n    for (var _iterator6 = map.entities.values()[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n      var entity = _step6.value;\n\n      if (entity.type === 'ship') {\n        var _iteratorNormalCompletion8 = true;\n        var _didIteratorError8 = false;\n        var _iteratorError8 = undefined;\n\n        try {\n          for (var _iterator8 = island.perimeter[Symbol.iterator](), _step8; !(_iteratorNormalCompletion8 = (_step8 = _iterator8.next()).done); _iteratorNormalCompletion8 = true) {\n            var _step8$value = _slicedToArray(_step8.value, 2);\n\n            var iX = _step8$value[0];\n            var iY = _step8$value[1];\n\n            if (Math.round(entity.x) === iX && Math.round(entity.y) === iY) {\n              shipTeams.push(entity.team);\n            }\n          }\n        } catch (err) {\n          _didIteratorError8 = true;\n          _iteratorError8 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion8 && _iterator8.return) {\n              _iterator8.return();\n            }\n          } finally {\n            if (_didIteratorError8) {\n              throw _iteratorError8;\n            }\n          }\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError6 = true;\n    _iteratorError6 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion6 && _iterator6.return) {\n        _iterator6.return();\n      }\n    } finally {\n      if (_didIteratorError6) {\n        throw _iteratorError6;\n      }\n    }\n  }\n\n  if (shipTeams.length > 0) {\n    var _ret = function () {\n      var firstTeam = shipTeams[0];\n\n      if (shipTeams.every(function (team) {\n        return team === firstTeam;\n      })) {\n        return {\n          v: firstTeam\n        };\n      }\n    }();\n\n    if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\") return _ret.v;\n  }\n\n  return null;\n}\n\nfunction processUpdate(island, map) {\n  island.team = getOwningTeam(island, map);\n}"
    },
    {
      "id": 17,
      "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/buildingtemplate.js",
      "name": "./app/shared/buildingtemplate.js",
      "index": 17,
      "index2": 12,
      "size": 3140,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "assets": [],
      "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/types.js",
      "profile": {
        "factory": 99,
        "building": 3946,
        "dependencies": 1
      },
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "reasons": [
        {
          "moduleId": 13,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/types.js",
          "module": "./app/shared/types.js",
          "moduleName": "./app/shared/types.js",
          "type": "cjs require",
          "userRequest": "./buildingtemplate",
          "loc": "27:24-53"
        }
      ],
      "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createBuildingTemplate = createBuildingTemplate;\nexports.render = render;\nexports.processUpdate = processUpdate;\nexports.remove = remove;\n\nvar _buildingconstants = require('./buildingconstants');\n\nvar _buildingconstants2 = _interopRequireDefault(_buildingconstants);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction createBuildingTemplate(map, x, y, team, islandID, buildingType) {\n  var template = {\n    x: x,\n    y: y,\n    id: map.getNextEntityId(),\n    buildingType: buildingType,\n    progressTowardsBuild: 0,\n    type: 'buildingTemplate',\n    team: team,\n    islandID: islandID,\n    health: 100\n  };\n\n  map.addEntity(template);\n\n  return template.id;\n}\n\nfunction render(template, map, context, images) {\n  if (template.team === '1') {\n    context.fillStyle = 'firebrick';\n  } else {\n    context.fillStyle = 'royalblue';\n  }\n\n  context.beginPath();\n  context.arc(template.x * 50, template.y * 50, 25, 0, Math.PI * 2, true);\n  context.fill();\n\n  switch (template.buildingType) {\n    case 'shipyard':\n      context.drawImage(images.shipyard, (template.x - 0.5) * 50, (template.y - 0.5) * 50, 50, 50);\n      break;\n    case 'mine':\n      context.drawImage(images.mine, (template.x - 0.5) * 50, (template.y - 0.5) * 50, 50, 50);\n      break;\n\n    default:\n      console.error('No support for building type', template.buildingType);\n  }\n\n  context.save();\n  context.beginPath();\n  context.rect((template.x - 0.5) * 50, (template.y - 0.5) * 50, 50, 50);\n  context.clip();\n\n  var angle = template.progressTowardsBuild / _buildingconstants2.default[template.buildingType].buildTime * Math.PI * 2;\n\n  context.globalCompositeOperation = 'multiply';\n  context.fillStyle = 'rgba(0,0,0,.5)';\n  context.beginPath();\n  context.arc(template.x * 50, template.y * 50, 50, 0, angle, true);\n  context.lineTo(template.x * 50, template.y * 50);\n  context.fill();\n  context.globalCompositeOperation = 'source-over';\n\n  context.strokeStyle = 'white';\n  context.beginPath();\n  context.moveTo(template.x * 50, template.y * 50);\n  context.lineTo(template.x * 50 + 50, template.y * 50);\n  context.arc(template.x * 50, template.y * 50, 50, 0, angle, true);\n  context.lineTo(template.x * 50, template.y * 50);\n  context.stroke();\n\n  context.restore();\n\n  context.fillStyle = 'red';\n  context.fillRect(template.x * 50 - 20, template.y * 50 + 30, 40, 5);\n\n  var healthpercent = template.health / 100;\n\n  context.fillStyle = 'green';\n  context.fillRect(template.x * 50 - 20, template.y * 50 + 30, 40 * healthpercent, 5);\n\n  context.strokeStyle = 'black';\n  context.strokeRect(template.x * 50 - 20, template.y * 50 + 30, 40, 5);\n}\n\nfunction processUpdate(template, map) {\n  template.progressTowardsBuild += 1;\n  if (template.progressTowardsBuild === _buildingconstants2.default[template.buildingType].buildTime) {\n    map.addBuilding(template.buildingType, template.x, template.y, template.islandID, template.team);\n    map.removeEntity(template.id);\n  }\n}\n\nfunction remove(template, map) {\n  map.removeEntity(template.id);\n}"
    },
    {
      "id": 18,
      "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/projectile.js",
      "name": "./app/shared/projectile.js",
      "index": 18,
      "index2": 14,
      "size": 1714,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "assets": [],
      "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/hardpoint.js",
      "profile": {
        "factory": 2520,
        "building": 3755,
        "dependencies": 1
      },
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "reasons": [
        {
          "moduleId": 11,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/hardpoint.js",
          "module": "./app/shared/hardpoint.js",
          "moduleName": "./app/shared/hardpoint.js",
          "type": "cjs require",
          "userRequest": "./projectile",
          "loc": "20:18-41"
        },
        {
          "moduleId": 13,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/types.js",
          "module": "./app/shared/types.js",
          "moduleName": "./app/shared/types.js",
          "type": "cjs require",
          "userRequest": "./projectile",
          "loc": "31:18-41"
        }
      ],
      "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createProjectile = createProjectile;\nexports.processUpdate = processUpdate;\nexports.render = render;\n\nvar _types = require('./types');\n\nvar _types2 = _interopRequireDefault(_types);\n\nvar _template = require('./template');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction createProjectile(map, position, target, projectileType) {\n  var projectile = {\n    id: map.getNextEntityId(),\n    position: position,\n    targetId: target.id,\n    type: 'projectile',\n    projectileType: projectileType\n  };\n\n  map.addEntity(projectile);\n\n  return projectile.id;\n}\n\nfunction processUpdate(projectile, map) {\n  var target = map.getEntity(projectile.targetId);\n  if (target == null) {\n    map.removeEntity(projectile.id);\n    return;\n  }\n\n  var targetPosition = _types2.default[target.type].getPosition(target, map);\n\n  var dx = targetPosition.x - projectile.position.x;\n  var dy = targetPosition.y - projectile.position.y;\n\n  var dist = Math.sqrt(dx * dx + dy * dy);\n\n  if (dist < 0.1) {\n    map.removeEntity(projectile.id);\n\n    target.health -= _template.hardpoints[projectile.projectileType].damage;\n\n    if (target.health <= 0) {\n      _types2.default[target.type].remove(target, map);\n    }\n  } else {\n    var movement = Math.min(dist, 0.2);\n\n    projectile.position.x += dx / dist * movement;\n    projectile.position.y += dy / dist * movement;\n  }\n}\n\nfunction render(projectile, map, context, images) {\n  var radius = 10;\n  context.drawImage(images[projectile.projectileType], projectile.position.x * 50 - radius / 2, projectile.position.y * 50 - radius / 2, radius, radius);\n}"
    },
    {
      "id": 19,
      "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/vector.js",
      "name": "./app/shared/vector.js",
      "index": 19,
      "index2": 15,
      "size": 228,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "assets": [],
      "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/ship.js",
      "profile": {
        "factory": 206,
        "building": 3780
      },
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "reasons": [
        {
          "moduleId": 12,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/ship.js",
          "module": "./app/shared/ship.js",
          "moduleName": "./app/shared/ship.js",
          "type": "cjs require",
          "userRequest": "./vector",
          "loc": "31:14-33"
        }
      ],
      "source": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getDistance = getDistance;\nfunction getDistance(a, b) {\n  var dx = a.x - b.x;\n  var dy = a.y - b.y;\n  return Math.sqrt(dx * dx + dy * dy);\n}"
    },
    {
      "id": 20,
      "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/shipbuilder.js",
      "name": "./app/shared/guibuttons/shipbuilder.js",
      "index": 20,
      "index2": 17,
      "size": 2406,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "assets": [],
      "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
      "profile": {
        "factory": 4256,
        "building": 1138,
        "dependencies": 1
      },
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "reasons": [
        {
          "moduleId": 4,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
          "module": "./app/shared/gui.js",
          "moduleName": "./app/shared/gui.js",
          "type": "cjs require",
          "userRequest": "./guibuttons/shipbuilder",
          "loc": "28:19-54"
        }
      ],
      "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _guibutton = require('../guibutton');\n\nvar _guibutton2 = _interopRequireDefault(_guibutton);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Shipbuilder = function (_GuiButton) {\n  _inherits(Shipbuilder, _GuiButton);\n\n  function Shipbuilder() {\n    _classCallCheck(this, Shipbuilder);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Shipbuilder).apply(this, arguments));\n  }\n\n  _createClass(Shipbuilder, [{\n    key: 'render',\n    value: function render(context, images) {\n      if (this.selected) {\n        context.strokeStyle = 'cyan';\n        context.strokeRect(this.x, this.y, this.width, this.height);\n      }\n\n      context.drawImage(images.designer, this.x, this.y, this.width, this.height);\n    }\n  }]);\n\n  return Shipbuilder;\n}(_guibutton2.default);\n\nexports.default = Shipbuilder;"
    },
    {
      "id": 21,
      "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/roundshot.js",
      "name": "./app/shared/guibuttons/roundshot.js",
      "index": 21,
      "index2": 18,
      "size": 2593,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "assets": [],
      "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
      "profile": {
        "factory": 4257,
        "building": 1334,
        "dependencies": 1
      },
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "reasons": [
        {
          "moduleId": 4,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
          "module": "./app/shared/gui.js",
          "moduleName": "./app/shared/gui.js",
          "type": "cjs require",
          "userRequest": "./guibuttons/roundshot",
          "loc": "32:17-50"
        }
      ],
      "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _guibutton = require('../guibutton');\n\nvar _guibutton2 = _interopRequireDefault(_guibutton);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Roundshot = function (_GuiButton) {\n  _inherits(Roundshot, _GuiButton);\n\n  function Roundshot() {\n    _classCallCheck(this, Roundshot);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Roundshot).apply(this, arguments));\n  }\n\n  _createClass(Roundshot, [{\n    key: 'render',\n    value: function render(context, images) {\n      if (this.selected) {\n        context.strokeStyle = 'cyan';\n        context.strokeRect(this.x, this.y, this.width, this.height);\n      }\n\n      context.fillStyle = 'lightgreen';\n      context.beginPath();\n      context.arc(this.x + this.width / 2, this.y + this.width / 2, this.height / 2 + 5, 0, Math.PI * 2, true);\n      context.fill();\n\n      context.drawImage(images.roundshot, this.x, this.y, this.width, this.height);\n    }\n  }]);\n\n  return Roundshot;\n}(_guibutton2.default);\n\nexports.default = Roundshot;"
    },
    {
      "id": 22,
      "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/grapeshot.js",
      "name": "./app/shared/guibuttons/grapeshot.js",
      "index": 22,
      "index2": 19,
      "size": 2593,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "assets": [],
      "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
      "profile": {
        "factory": 4258,
        "building": 1521,
        "dependencies": 1
      },
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "reasons": [
        {
          "moduleId": 4,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
          "module": "./app/shared/gui.js",
          "moduleName": "./app/shared/gui.js",
          "type": "cjs require",
          "userRequest": "./guibuttons/grapeshot",
          "loc": "36:17-50"
        }
      ],
      "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _guibutton = require('../guibutton');\n\nvar _guibutton2 = _interopRequireDefault(_guibutton);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Grapeshot = function (_GuiButton) {\n  _inherits(Grapeshot, _GuiButton);\n\n  function Grapeshot() {\n    _classCallCheck(this, Grapeshot);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Grapeshot).apply(this, arguments));\n  }\n\n  _createClass(Grapeshot, [{\n    key: 'render',\n    value: function render(context, images) {\n      if (this.selected) {\n        context.strokeStyle = 'cyan';\n        context.strokeRect(this.x, this.y, this.width, this.height);\n      }\n\n      context.fillStyle = 'lightgreen';\n      context.beginPath();\n      context.arc(this.x + this.width / 2, this.y + this.width / 2, this.height / 2 + 5, 0, Math.PI * 2, true);\n      context.fill();\n\n      context.drawImage(images.grapeshot, this.x, this.y, this.width, this.height);\n    }\n  }]);\n\n  return Grapeshot;\n}(_guibutton2.default);\n\nexports.default = Grapeshot;"
    },
    {
      "id": 23,
      "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/shell.js",
      "name": "./app/shared/guibuttons/shell.js",
      "index": 23,
      "index2": 20,
      "size": 2556,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "assets": [],
      "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
      "profile": {
        "factory": 4259,
        "building": 1696,
        "dependencies": 0
      },
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "reasons": [
        {
          "moduleId": 4,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
          "module": "./app/shared/gui.js",
          "moduleName": "./app/shared/gui.js",
          "type": "cjs require",
          "userRequest": "./guibuttons/shell",
          "loc": "40:13-42"
        }
      ],
      "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _guibutton = require('../guibutton');\n\nvar _guibutton2 = _interopRequireDefault(_guibutton);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Shell = function (_GuiButton) {\n  _inherits(Shell, _GuiButton);\n\n  function Shell() {\n    _classCallCheck(this, Shell);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Shell).apply(this, arguments));\n  }\n\n  _createClass(Shell, [{\n    key: 'render',\n    value: function render(context, images) {\n      if (this.selected) {\n        context.strokeStyle = 'cyan';\n        context.strokeRect(this.x, this.y, this.width, this.height);\n      }\n\n      context.fillStyle = 'lightgreen';\n      context.beginPath();\n      context.arc(this.x + this.width / 2, this.y + this.width / 2, this.width / 2 + 5, 0, Math.PI * 2, true);\n      context.fill();\n\n      context.drawImage(images.shell, this.x, this.y, this.width, this.height);\n    }\n  }]);\n\n  return Shell;\n}(_guibutton2.default);\n\nexports.default = Shell;"
    },
    {
      "id": 24,
      "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/cancelshot.js",
      "name": "./app/shared/guibuttons/cancelshot.js",
      "index": 24,
      "index2": 21,
      "size": 2601,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "assets": [],
      "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
      "profile": {
        "factory": 4262,
        "building": 1877,
        "dependencies": 1
      },
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "reasons": [
        {
          "moduleId": 4,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
          "module": "./app/shared/gui.js",
          "moduleName": "./app/shared/gui.js",
          "type": "cjs require",
          "userRequest": "./guibuttons/cancelshot",
          "loc": "44:18-52"
        }
      ],
      "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _guibutton = require('../guibutton');\n\nvar _guibutton2 = _interopRequireDefault(_guibutton);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Cancelshot = function (_GuiButton) {\n  _inherits(Cancelshot, _GuiButton);\n\n  function Cancelshot() {\n    _classCallCheck(this, Cancelshot);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Cancelshot).apply(this, arguments));\n  }\n\n  _createClass(Cancelshot, [{\n    key: 'render',\n    value: function render(context, images) {\n      if (this.selected) {\n        context.strokeStyle = 'cyan';\n        context.strokeRect(this.x, this.y, this.width, this.height);\n      }\n\n      context.fillStyle = 'lightgreen';\n      context.beginPath();\n      context.arc(this.x + this.width / 2, this.y + this.width / 2, this.width / 2 + 5, 0, Math.PI * 2, true);\n      context.fill();\n\n      context.drawImage(images.cancelshot, this.x, this.y, this.width, this.height);\n    }\n  }]);\n\n  return Cancelshot;\n}(_guibutton2.default);\n\nexports.default = Cancelshot;"
    },
    {
      "id": 25,
      "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/targettoggle.js",
      "name": "./app/shared/guibuttons/targettoggle.js",
      "index": 25,
      "index2": 22,
      "size": 2640,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "assets": [],
      "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
      "profile": {
        "factory": 4265,
        "building": 2020,
        "dependencies": 0
      },
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "reasons": [
        {
          "moduleId": 4,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
          "module": "./app/shared/gui.js",
          "moduleName": "./app/shared/gui.js",
          "type": "cjs require",
          "userRequest": "./guibuttons/targettoggle",
          "loc": "48:20-56"
        }
      ],
      "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _guibutton = require('../guibutton');\n\nvar _guibutton2 = _interopRequireDefault(_guibutton);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar TargetToggle = function (_GuiButton) {\n  _inherits(TargetToggle, _GuiButton);\n\n  function TargetToggle() {\n    _classCallCheck(this, TargetToggle);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(TargetToggle).apply(this, arguments));\n  }\n\n  _createClass(TargetToggle, [{\n    key: 'render',\n    value: function render(context, images) {\n      if (this.selected) {\n        context.strokeStyle = 'cyan';\n        context.strokeRect(this.x, this.y, this.width, this.height);\n      }\n\n      switch (this.type) {\n        case 'hull':\n          context.drawImage(images.targettoggleCannon, this.x, this.y, this.width, this.height);\n          break;\n        case 'hardpoints':\n          context.drawImage(images.targettoggleHull, this.x, this.y, this.width, this.height);\n          break;\n      }\n    }\n  }]);\n\n  return TargetToggle;\n}(_guibutton2.default);\n\nexports.default = TargetToggle;"
    },
    {
      "id": 26,
      "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/exit.js",
      "name": "./app/shared/guibuttons/exit.js",
      "index": 26,
      "index2": 23,
      "size": 2346,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "assets": [],
      "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
      "profile": {
        "factory": 4267,
        "building": 2158,
        "dependencies": 1
      },
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "reasons": [
        {
          "moduleId": 4,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
          "module": "./app/shared/gui.js",
          "moduleName": "./app/shared/gui.js",
          "type": "cjs require",
          "userRequest": "./guibuttons/exit",
          "loc": "52:12-40"
        }
      ],
      "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _guibutton = require('../guibutton');\n\nvar _guibutton2 = _interopRequireDefault(_guibutton);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Exit = function (_GuiButton) {\n  _inherits(Exit, _GuiButton);\n\n  function Exit() {\n    _classCallCheck(this, Exit);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Exit).apply(this, arguments));\n  }\n\n  _createClass(Exit, [{\n    key: 'render',\n    value: function render(context, images) {\n      if (this.selected) {\n        context.strokeStyle = 'cyan';\n        context.strokeRect(this.x, this.y, this.width, this.height);\n      }\n\n      context.drawImage(images.exit, this.x, this.y, this.width, this.height);\n    }\n  }]);\n\n  return Exit;\n}(_guibutton2.default);\n\nexports.default = Exit;"
    },
    {
      "id": 27,
      "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/template.js",
      "name": "./app/shared/guibuttons/template.js",
      "index": 27,
      "index2": 24,
      "size": 4229,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "assets": [],
      "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
      "profile": {
        "factory": 4270,
        "building": 2414,
        "dependencies": 2
      },
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "reasons": [
        {
          "moduleId": 4,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
          "module": "./app/shared/gui.js",
          "moduleName": "./app/shared/gui.js",
          "type": "cjs require",
          "userRequest": "./guibuttons/template",
          "loc": "56:17-49"
        }
      ],
      "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _guibutton = require('../guibutton');\n\nvar _guibutton2 = _interopRequireDefault(_guibutton);\n\nvar _hardpoint = require('../hardpoint');\n\nvar Hardpoints = _interopRequireWildcard(_hardpoint);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Template = function (_GuiButton) {\n  _inherits(Template, _GuiButton);\n\n  function Template() {\n    _classCallCheck(this, Template);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Template).apply(this, arguments));\n  }\n\n  _createClass(Template, [{\n    key: 'render',\n    value: function render(context, images) {\n      context.fillStyle = 'cornsilk';\n      context.fillRect(this.x, this.y, 50, 50);\n\n      switch (this.template.hull) {\n        case 'gunboat':\n          context.drawImage(images.gunboat, this.x, this.y, this.width, this.height);\n          break;\n        case 'frigate':\n          context.drawImage(images.frigate, this.x, this.y, this.width, this.height);\n          break;\n        case 'galleon':\n          context.drawImage(images.galleon, this.x, this.y, this.width, this.height);\n          break;\n      }\n\n      var i = 0;\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.template.hardpoints[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var hardpoint = _step.value;\n\n          if (hardpoint != null) {\n            Hardpoints.renderTemplate(hardpoint, i, this.x + 10, this.y + 38, context, images);\n          }\n          i += 1;\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      switch (this.rendertype) {\n        case 'template':\n          break;\n        case 'templateSelected':\n          context.strokeStyle = 'cyan';\n          context.strokeRect(this.x, this.y, 50, 50);\n          break;\n        default:\n          console.error('Trying to render unknown button');\n      }\n    }\n  }]);\n\n  return Template;\n}(_guibutton2.default);\n\nexports.default = Template;"
    },
    {
      "id": 28,
      "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/gunboat.js",
      "name": "./app/shared/guibuttons/gunboat.js",
      "index": 28,
      "index2": 25,
      "size": 2598,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "assets": [],
      "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
      "profile": {
        "factory": 4271,
        "building": 2569,
        "dependencies": 0
      },
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "reasons": [
        {
          "moduleId": 4,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
          "module": "./app/shared/gui.js",
          "moduleName": "./app/shared/gui.js",
          "type": "cjs require",
          "userRequest": "./guibuttons/gunboat",
          "loc": "60:15-46"
        }
      ],
      "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _guibutton = require('../guibutton');\n\nvar _guibutton2 = _interopRequireDefault(_guibutton);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Gunboat = function (_GuiButton) {\n  _inherits(Gunboat, _GuiButton);\n\n  function Gunboat() {\n    _classCallCheck(this, Gunboat);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Gunboat).apply(this, arguments));\n  }\n\n  _createClass(Gunboat, [{\n    key: 'render',\n    value: function render(context, images) {\n      if (this.type == 'gunboatSelected') {\n        context.strokeStyle = 'lightgreen';\n        context.strokeRect(this.x, this.y, this.width, this.height);\n      }\n\n      context.fillStyle = 'lightgreen';\n      context.beginPath();\n      context.arc(this.x + this.width / 2, this.y + this.width / 2, this.height / 2 + 5, 0, Math.PI * 2, true);\n      context.fill();\n\n      context.drawImage(images.gunboat, this.x, this.y, this.width, this.height);\n    }\n  }]);\n\n  return Gunboat;\n}(_guibutton2.default);\n\nexports.default = Gunboat;"
    },
    {
      "id": 29,
      "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/frigate.js",
      "name": "./app/shared/guibuttons/frigate.js",
      "index": 29,
      "index2": 26,
      "size": 2598,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "assets": [],
      "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
      "profile": {
        "factory": 4272,
        "building": 2749,
        "dependencies": 1
      },
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "reasons": [
        {
          "moduleId": 4,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
          "module": "./app/shared/gui.js",
          "moduleName": "./app/shared/gui.js",
          "type": "cjs require",
          "userRequest": "./guibuttons/frigate",
          "loc": "64:15-46"
        }
      ],
      "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _guibutton = require('../guibutton');\n\nvar _guibutton2 = _interopRequireDefault(_guibutton);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Frigate = function (_GuiButton) {\n  _inherits(Frigate, _GuiButton);\n\n  function Frigate() {\n    _classCallCheck(this, Frigate);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Frigate).apply(this, arguments));\n  }\n\n  _createClass(Frigate, [{\n    key: 'render',\n    value: function render(context, images) {\n      if (this.type == 'frigateSelected') {\n        context.strokeStyle = 'lightgreen';\n        context.strokeRect(this.x, this.y, this.width, this.height);\n      }\n\n      context.fillStyle = 'lightgreen';\n      context.beginPath();\n      context.arc(this.x + this.width / 2, this.y + this.width / 2, this.height / 2 + 5, 0, Math.PI * 2, true);\n      context.fill();\n\n      context.drawImage(images.frigate, this.x, this.y, this.width, this.height);\n    }\n  }]);\n\n  return Frigate;\n}(_guibutton2.default);\n\nexports.default = Frigate;"
    },
    {
      "id": 30,
      "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/galleon.js",
      "name": "./app/shared/guibuttons/galleon.js",
      "index": 30,
      "index2": 27,
      "size": 2598,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "assets": [],
      "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
      "profile": {
        "factory": 4273,
        "building": 2924,
        "dependencies": 2
      },
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "reasons": [
        {
          "moduleId": 4,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
          "module": "./app/shared/gui.js",
          "moduleName": "./app/shared/gui.js",
          "type": "cjs require",
          "userRequest": "./guibuttons/galleon",
          "loc": "68:15-46"
        }
      ],
      "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _guibutton = require('../guibutton');\n\nvar _guibutton2 = _interopRequireDefault(_guibutton);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Galleon = function (_GuiButton) {\n  _inherits(Galleon, _GuiButton);\n\n  function Galleon() {\n    _classCallCheck(this, Galleon);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Galleon).apply(this, arguments));\n  }\n\n  _createClass(Galleon, [{\n    key: 'render',\n    value: function render(context, images) {\n      if (this.type == 'galleonSelected') {\n        context.strokeStyle = 'lightgreen';\n        context.strokeRect(this.x, this.y, this.width, this.height);\n      }\n\n      context.fillStyle = 'lightgreen';\n      context.beginPath();\n      context.arc(this.x + this.width / 2, this.y + this.width / 2, this.height / 2 + 5, 0, Math.PI * 2, true);\n      context.fill();\n\n      context.drawImage(images.galleon, this.x, this.y, this.width, this.height);\n    }\n  }]);\n\n  return Galleon;\n}(_guibutton2.default);\n\nexports.default = Galleon;"
    },
    {
      "id": 31,
      "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/shipskeleton.js",
      "name": "./app/shared/guibuttons/shipskeleton.js",
      "index": 31,
      "index2": 28,
      "size": 2275,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "assets": [],
      "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
      "profile": {
        "factory": 4274,
        "building": 3075,
        "dependencies": 2
      },
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "reasons": [
        {
          "moduleId": 4,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
          "module": "./app/shared/gui.js",
          "moduleName": "./app/shared/gui.js",
          "type": "cjs require",
          "userRequest": "./guibuttons/shipskeleton",
          "loc": "72:20-56"
        }
      ],
      "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _guibutton = require('../guibutton');\n\nvar _guibutton2 = _interopRequireDefault(_guibutton);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ShipSkeleton = function (_GuiButton) {\n  _inherits(ShipSkeleton, _GuiButton);\n\n  function ShipSkeleton() {\n    _classCallCheck(this, ShipSkeleton);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(ShipSkeleton).apply(this, arguments));\n  }\n\n  _createClass(ShipSkeleton, [{\n    key: 'render',\n    value: function render(context, images) {\n      context.drawImage(images.shipskeleton, this.x, this.y, this.width, this.height);\n    }\n  }]);\n\n  return ShipSkeleton;\n}(_guibutton2.default);\n\nexports.default = ShipSkeleton;"
    },
    {
      "id": 32,
      "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/gunslot.js",
      "name": "./app/shared/guibuttons/gunslot.js",
      "index": 32,
      "index2": 29,
      "size": 3558,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "assets": [],
      "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
      "profile": {
        "factory": 4275,
        "building": 3324,
        "dependencies": 0
      },
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "reasons": [
        {
          "moduleId": 4,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
          "module": "./app/shared/gui.js",
          "moduleName": "./app/shared/gui.js",
          "type": "cjs require",
          "userRequest": "./guibuttons/gunslot",
          "loc": "76:15-46"
        }
      ],
      "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _guibutton = require('../guibutton');\n\nvar _guibutton2 = _interopRequireDefault(_guibutton);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Gunslot = function (_GuiButton) {\n  _inherits(Gunslot, _GuiButton);\n\n  function Gunslot() {\n    _classCallCheck(this, Gunslot);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Gunslot).apply(this, arguments));\n  }\n\n  _createClass(Gunslot, [{\n    key: 'render',\n    value: function render(context, images) {\n      if (this.visible == false) {\n        return;\n      }\n\n      if (this.selected) {\n        context.strokeStyle = 'cyan';\n        context.strokeRect(this.x, this.y, 50, 50);\n      }\n\n      switch (this.rendertype) {\n        case 'roundshot':\n          context.fillStyle = 'coral';\n          context.fillRect(this.x, this.y, 50, 50);\n          context.drawImage(images.roundshot, this.x, this.y, 50, 50);\n          break;\n        case 'chainshot':\n          context.fillStyle = 'coral';\n          context.fillRect(this.x, this.y, 50, 50);\n          context.drawImage(images.chainshot, this.x, this.y, 50, 50);\n          break;\n        case 'grapeshot':\n          context.fillStyle = 'coral';\n          context.fillRect(this.x, this.y, 50, 50);\n          context.drawImage(images.grapeshot, this.x, this.y, 50, 50);\n          break;\n        case 'shell':\n          context.fillStyle = 'coral';\n          context.fillRect(this.x, this.y, 50, 50);\n          context.drawImage(images.shell, this.x, this.y, 50, 50);\n          break;\n        case 'gunslot':\n          context.fillStyle = 'coral';\n          context.fillRect(this.x, this.y, 50, 50);\n          context.globalAlpha = 0.25;\n          context.drawImage(images.cannon, this.x, this.y, 50, 50);\n          context.globalAlpha = 1.0;\n          break;\n        default:\n          console.error('Trying to render unknown button: ', this.rendertype);\n      }\n    }\n  }]);\n\n  return Gunslot;\n}(_guibutton2.default);\n\nexports.default = Gunslot;"
    },
    {
      "id": 33,
      "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/hullslot.js",
      "name": "./app/shared/guibuttons/hullslot.js",
      "index": 33,
      "index2": 30,
      "size": 3076,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "assets": [],
      "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
      "profile": {
        "factory": 4276,
        "building": 3470,
        "dependencies": 1
      },
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "reasons": [
        {
          "moduleId": 4,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
          "module": "./app/shared/gui.js",
          "moduleName": "./app/shared/gui.js",
          "type": "cjs require",
          "userRequest": "./guibuttons/hullslot",
          "loc": "80:16-48"
        }
      ],
      "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _guibutton = require('../guibutton');\n\nvar _guibutton2 = _interopRequireDefault(_guibutton);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Hullslot = function (_GuiButton) {\n  _inherits(Hullslot, _GuiButton);\n\n  function Hullslot() {\n    _classCallCheck(this, Hullslot);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Hullslot).apply(this, arguments));\n  }\n\n  _createClass(Hullslot, [{\n    key: 'render',\n    value: function render(context, images) {\n      if (this.visible == false) {\n        return;\n      }\n\n      if (this.selected) {\n        context.strokeStyle = 'cyan';\n        context.strokeRect(this.x, this.y, 50, 50);\n      }\n\n      context.fillStyle = 'green';\n      context.fillRect(this.x, this.y, 50, 50);\n\n      switch (this.rendertype) {\n        case 'gunboat':\n          context.drawImage(images.gunboat, this.x, this.y, 50, 50);\n          break;\n        case 'frigate':\n          context.drawImage(images.frigate, this.x, this.y, 50, 50);\n          break;\n        case 'galleon':\n          context.drawImage(images.galleon, this.x, this.y, 50, 50);\n          break;\n        case 'hullslot':\n          context.globalAlpha = 0.25;\n          context.drawImage(images.ship, this.x, this.y, 50, 50);\n          context.globalAlpha = 1.0;\n          break;\n        default:\n          console.error('Trying to render unknown button: ', this.rendertype);\n      }\n    }\n  }]);\n\n  return Hullslot;\n}(_guibutton2.default);\n\nexports.default = Hullslot;"
    },
    {
      "id": 34,
      "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/save.js",
      "name": "./app/shared/guibuttons/save.js",
      "index": 34,
      "index2": 31,
      "size": 2346,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "assets": [],
      "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
      "profile": {
        "factory": 4277,
        "building": 3639,
        "dependencies": 1
      },
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "reasons": [
        {
          "moduleId": 4,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gui.js",
          "module": "./app/shared/gui.js",
          "moduleName": "./app/shared/gui.js",
          "type": "cjs require",
          "userRequest": "./guibuttons/save",
          "loc": "84:12-40"
        }
      ],
      "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _guibutton = require('../guibutton');\n\nvar _guibutton2 = _interopRequireDefault(_guibutton);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Save = function (_GuiButton) {\n  _inherits(Save, _GuiButton);\n\n  function Save() {\n    _classCallCheck(this, Save);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Save).apply(this, arguments));\n  }\n\n  _createClass(Save, [{\n    key: 'render',\n    value: function render(context, images) {\n      if (this.selected) {\n        context.strokeStyle = 'cyan';\n        context.strokeRect(this.x, this.y, this.width, this.height);\n      }\n\n      context.drawImage(images.save, this.x, this.y, this.width, this.height);\n    }\n  }]);\n\n  return Save;\n}(_guibutton2.default);\n\nexports.default = Save;"
    },
    {
      "id": 35,
      "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/startscreen.js",
      "name": "./app/client/startscreen.js",
      "index": 35,
      "index2": 38,
      "size": 12478,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "assets": [],
      "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/main.js",
      "profile": {
        "factory": 99,
        "building": 3346,
        "dependencies": 3
      },
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "reasons": [
        {
          "moduleId": 0,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/main.js",
          "module": "./app/client/main.js",
          "moduleName": "./app/client/main.js",
          "type": "cjs require",
          "userRequest": "./startscreen",
          "loc": "15:19-43"
        }
      ],
      "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.GUI_WIDTH = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _mapselect = require('../shared/guibuttons/mapselect');\n\nvar _mapselect2 = _interopRequireDefault(_mapselect);\n\nvar _ready = require('../shared/guibuttons/ready');\n\nvar _ready2 = _interopRequireDefault(_ready);\n\nvar _maps = require('../shared/maps');\n\nvar _audio = require('./audio');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar GUI_WIDTH = exports.GUI_WIDTH = 200;\n\nfunction drawRequests(context, images, requests) {\n  var view = new Float32Array(5 * 6 * requests.length);\n  var index = 0;\n\n  for (var i = 0; i < requests.length; i++) {\n    var _requests$i = requests[i];\n    var image = _requests$i.image;\n    var x = _requests$i.x;\n    var y = _requests$i.y;\n\n    var info = images.pixelJson[image];\n\n    view[index++] = x;\n    view[index++] = y + info.sizey;\n    view[index++] = 0;\n\n    view[index++] = info.x / images.pixelJson.sizex;\n    view[index++] = (info.y + info.sizey) / images.pixelJson.sizey;\n\n    view[index++] = x + info.sizex;\n    view[index++] = y;\n    view[index++] = 0.0;\n\n    view[index++] = (info.x + info.sizex) / images.pixelJson.sizex;\n    view[index++] = info.y / images.pixelJson.sizey;\n\n    view[index++] = x + info.sizex;\n    view[index++] = y + info.sizey;\n    view[index++] = 0.0;\n\n    view[index++] = (info.x + info.sizex) / images.pixelJson.sizex;\n    view[index++] = (info.y + info.sizey) / images.pixelJson.sizey;\n\n    view[index++] = x;\n    view[index++] = y + info.sizey;\n    view[index++] = 0;\n\n    view[index++] = info.x / images.pixelJson.sizex;\n    view[index++] = (info.y + info.sizey) / images.pixelJson.sizey;\n\n    view[index++] = x + info.sizex;\n    view[index++] = y;\n    view[index++] = 0.0;\n\n    view[index++] = (info.x + info.sizex) / images.pixelJson.sizex;\n    view[index++] = info.y / images.pixelJson.sizey;\n\n    view[index++] = x;\n    view[index++] = y;\n    view[index++] = 0.0;\n\n    view[index++] = info.x / images.pixelJson.sizex;\n    view[index++] = info.y / images.pixelJson.sizey;\n  }\n\n  context.bufferData(context.ARRAY_BUFFER, view, context.DYNAMIC_DRAW);\n\n  context.drawArrays(context.TRIANGLES, 0, requests.length * 6);\n}\n\nvar StartScreen = function () {\n  function StartScreen(images, game) {\n    _classCallCheck(this, StartScreen);\n\n    this.canvas = document.getElementById('canvas');\n    this.context = this.canvas.getContext('webgl');\n\n    this.game = game;\n    this.game.gui.displayMode = 'designer';\n    this.game.gui.displayContext = 'startscreen';\n\n    this.width = this.canvas.width;\n    this.height = this.canvas.height;\n\n    this.images = images;\n    this.team = null;\n\n    this.buttons = [];\n    this.buttons.push(new _mapselect2.default('mapselect', 675, 325, 102, 26, 0));\n    this.buttons.push(new _mapselect2.default('mapselect', 825, 325, 102, 26, 1));\n    this.buttons.push(new _mapselect2.default('mapselect', 750, 375, 102, 26, 2));\n    this.buttons[0].rendertype = 'westindies';\n    this.buttons[1].rendertype = 'tropics';\n    this.buttons[2].rendertype = 'greatlakes';\n\n    this.buttons[0].selected = true;\n\n    this.mode = 'splash';\n\n    this.epicSound = (0, _audio.createSource)(images['bensound-epic']);\n    this.epicSound.loop = true;\n    this.epicSound.start(0);\n  }\n\n  _createClass(StartScreen, [{\n    key: 'render',\n    value: function render() {\n      var result = [];\n      if (this.mode === 'splash') {\n        this.renderSplash(result);\n      } else if (this.mode === 'setup') {\n        this.renderSetup(result);\n      }\n\n      this.context.clearColor(1.0, 0.0, 0.0, 1.0);\n      this.context.clear(this.context.COLOR_BUFFER_BIT);\n\n      drawRequests(this.context, this.images, result);\n    }\n  }, {\n    key: 'renderSplash',\n    value: function renderSplash(result) {\n      result.push({ image: 'splashscreen', x: 0, y: 0 });\n    }\n  }, {\n    key: 'renderSetup',\n    value: function renderSetup(result) {\n      this.context.clearRect(0, 0, this.width, this.height);\n\n      this.context.fillStyle = 'linen';\n      this.context.fillRect(0, 0, this.width, this.height);\n\n      this.context.translate(this.width - 520, 50);\n      var map = (0, _maps.createMap)(this.mapNum);\n      var scale = map.width / 5;\n      this.context.scale(1 / scale, 1 / scale);\n      this.context.translate(25, 25);\n      map.renderStartScreenMiniMap(this.context, this.images);\n      this.context.translate(-25, -25);\n      this.context.scale(scale, scale);\n      this.context.translate(-this.width + 520, -50);\n\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.buttons[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var button = _step.value;\n\n          button.render(this.context, this.images);\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      if (this.team == null) {\n        this.renderLoading();\n      } else {\n        this.context.fillStyle = 'black';\n        if (this.team === '1') {\n          this.context.drawImage(this.images.piratesTag, 0, 0);\n        } else if (this.team === '0') {\n          this.context.drawImage(this.images.imperialsTag, 0, 0);\n        }\n\n        this.context.textBaseline = 'top';\n        this.context.font = '50px Perpetua';\n        this.context.fillText('Status:', 40, 250);\n\n        this.context.font = '30px Perpetua';\n        var startingY = 300;\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n          for (var _iterator2 = Object.keys(this.readyStates)[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var team = _step2.value;\n\n            if (team != this.team) {\n              this.context.fillText((team === '1' ? 'Pirates      ' : 'Imperials  ') + (this.readyStates[team] ? 'Ready' : 'Not Ready'), 50, startingY);\n            } else {\n              this.context.fillText(team === '1' ? 'Pirates      ' : 'Imperials  ', 50, startingY);\n            }\n\n            startingY += 50;\n          }\n        } catch (err) {\n          _didIteratorError2 = true;\n          _iteratorError2 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n              _iterator2.return();\n            }\n          } finally {\n            if (_didIteratorError2) {\n              throw _iteratorError2;\n            }\n          }\n        }\n      }\n\n      if (this.hoveredCoords && this.hoveredCoords.x >= this.width - GUI_WIDTH) {\n        this.game.gui.render(this.context, this.images, this.map, this.hoveredCoords);\n      } else {\n        this.game.gui.render(this.context, this.images, this.map, null);\n      }\n    }\n  }, {\n    key: 'renderLoading',\n    value: function renderLoading() {\n      this.context.font = '30px Brush Script MT';\n      this.context.fillStyle = 'black';\n      this.context.fillText('Loading ...', 50, 50);\n    }\n  }, {\n    key: '_assignTeam',\n    value: function _assignTeam(_ref) {\n      var team = _ref.team;\n      var readyStates = _ref.readyStates;\n      var mapNum = _ref.mapNum;\n\n      this.team = team;\n      this.game.team = team;\n      this.mapNum = mapNum;\n      this.readyStates = readyStates;\n\n      if (this.team === '1') {\n        this.buttons.push(new _ready2.default('notready', 160, 355, 128, 26));\n      } else {\n        this.buttons.push(new _ready2.default('notready', 160, 305, 128, 26));\n      }\n    }\n  }, {\n    key: '_updateReadyStates',\n    value: function _updateReadyStates(_ref2) {\n      var readyStates = _ref2.readyStates;\n\n      this.readyStates = readyStates;\n    }\n  }, {\n    key: 'selectMap',\n    value: function selectMap(mapNum) {\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = this.buttons[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var button = _step3.value;\n\n          if (button.getSlotNum() === mapNum) {\n            button.selected = true;\n          } else {\n            button.selected = false;\n          }\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3.return) {\n            _iterator3.return();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n\n      this.mapNum = mapNum;\n    }\n  }, {\n    key: 'getTeam',\n    value: function getTeam() {\n      return this.team;\n    }\n  }, {\n    key: 'mousemove',\n    value: function mousemove(event) {\n      var _getRawMouseCords = this.getRawMouseCords(event);\n\n      var rawX = _getRawMouseCords.rawX;\n      var rawY = _getRawMouseCords.rawY;\n\n      this.hoveredCoords = { x: rawX, y: rawY };\n    }\n  }, {\n    key: 'getRawMouseCords',\n    value: function getRawMouseCords(event) {\n      var rect = this.canvas.getBoundingClientRect();\n      return {\n        rawX: event.clientX - rect.left,\n        rawY: event.clientY - rect.top\n      };\n    }\n  }, {\n    key: 'mousedown',\n    value: function mousedown(event, sendMessage) {\n      if (this.mode === 'splash') {\n        this.mousedownSplash(event, sendMessage);\n      } else if (this.mode === 'setup') {\n        this.mousedownSetup(event, sendMessage);\n      }\n    }\n  }, {\n    key: 'mousedownSplash',\n    value: function mousedownSplash() {\n      this.epicSound.stop(0);\n      this.mode = 'setup';\n    }\n  }, {\n    key: 'mousedownSetup',\n    value: function mousedownSetup(event, sendMessage) {\n      if (this.team == null) {\n        return;\n      }\n\n      var _getRawMouseCords2 = this.getRawMouseCords(event);\n\n      var rawX = _getRawMouseCords2.rawX;\n      var rawY = _getRawMouseCords2.rawY;\n\n\n      var item = this.game.gui.getItem(rawX, rawY);\n      this.game.gui.designerSelection(item);\n      this.game.gui.displayMode = 'designer';\n\n      var _iteratorNormalCompletion4 = true;\n      var _didIteratorError4 = false;\n      var _iteratorError4 = undefined;\n\n      try {\n        for (var _iterator4 = this.buttons[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n          var button = _step4.value;\n\n          if (button.isOver(rawX, rawY)) {\n            if (button.getType() === 'mapselect') {\n              sendMessage({ type: 'UpdateMap', mapNum: button.getSlotNum() });\n            } else {\n              button.setType(!this.readyStates[this.team] ? 'ready' : 'notready');\n              sendMessage({ type: 'SetReadyState', readyState: !this.readyStates[this.team] });\n            }\n          }\n        }\n      } catch (err) {\n        _didIteratorError4 = true;\n        _iteratorError4 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion4 && _iterator4.return) {\n            _iterator4.return();\n          }\n        } finally {\n          if (_didIteratorError4) {\n            throw _iteratorError4;\n          }\n        }\n      }\n    }\n  }]);\n\n  return StartScreen;\n}();\n\nexports.default = StartScreen;"
    },
    {
      "id": 36,
      "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/mapselect.js",
      "name": "./app/shared/guibuttons/mapselect.js",
      "index": 36,
      "index2": 34,
      "size": 2740,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "assets": [],
      "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/startscreen.js",
      "profile": {
        "factory": 3057,
        "building": 2230
      },
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "reasons": [
        {
          "moduleId": 35,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/startscreen.js",
          "module": "./app/client/startscreen.js",
          "moduleName": "./app/client/startscreen.js",
          "type": "cjs require",
          "userRequest": "../shared/guibuttons/mapselect",
          "loc": "10:17-58"
        }
      ],
      "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _guibutton = require('../guibutton');\n\nvar _guibutton2 = _interopRequireDefault(_guibutton);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar MapSelect = function (_GuiButton) {\n  _inherits(MapSelect, _GuiButton);\n\n  function MapSelect() {\n    _classCallCheck(this, MapSelect);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(MapSelect).apply(this, arguments));\n  }\n\n  _createClass(MapSelect, [{\n    key: 'render',\n    value: function render(context, images) {\n      if (this.selected) {\n        context.strokeStyle = 'red';\n        context.strokeRect(this.x, this.y, this.width, this.height);\n      }\n\n      switch (this.rendertype) {\n        case 'westindies':\n          context.drawImage(images.westindies, this.x, this.y, this.width, this.height);\n          break;\n        case 'tropics':\n          context.drawImage(images.tropics, this.x, this.y, this.width, this.height);\n          break;\n        case 'greatlakes':\n          context.drawImage(images.greatlakes, this.x, this.y, this.width, this.height);\n          break;\n      }\n    }\n  }]);\n\n  return MapSelect;\n}(_guibutton2.default);\n\nexports.default = MapSelect;"
    },
    {
      "id": 37,
      "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/ready.js",
      "name": "./app/shared/guibuttons/ready.js",
      "index": 37,
      "index2": 35,
      "size": 2419,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "assets": [],
      "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/startscreen.js",
      "profile": {
        "factory": 3059,
        "building": 2358,
        "dependencies": 3617
      },
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "reasons": [
        {
          "moduleId": 35,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/startscreen.js",
          "module": "./app/client/startscreen.js",
          "moduleName": "./app/client/startscreen.js",
          "type": "cjs require",
          "userRequest": "../shared/guibuttons/ready",
          "loc": "14:13-50"
        }
      ],
      "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _guibutton = require('../guibutton');\n\nvar _guibutton2 = _interopRequireDefault(_guibutton);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Ready = function (_GuiButton) {\n  _inherits(Ready, _GuiButton);\n\n  function Ready() {\n    _classCallCheck(this, Ready);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Ready).apply(this, arguments));\n  }\n\n  _createClass(Ready, [{\n    key: 'render',\n    value: function render(context, images) {\n      switch (this.type) {\n        case 'ready':\n          context.drawImage(images.ready, this.x, this.y, this.width, this.height);\n          break;\n        case 'notready':\n          context.drawImage(images.notready, this.x, this.y, this.width, this.height);\n          break;\n      }\n    }\n  }]);\n\n  return Ready;\n}(_guibutton2.default);\n\nexports.default = Ready;"
    },
    {
      "id": 38,
      "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/maps.js",
      "name": "./app/shared/maps.js",
      "index": 38,
      "index2": 37,
      "size": 4204,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "assets": [],
      "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/main.js",
      "profile": {
        "factory": 101,
        "building": 6346,
        "dependencies": 65
      },
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "reasons": [
        {
          "moduleId": 0,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/main.js",
          "module": "./app/client/main.js",
          "moduleName": "./app/client/main.js",
          "type": "cjs require",
          "userRequest": "../shared/maps",
          "loc": "27:12-37"
        },
        {
          "moduleId": 35,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/startscreen.js",
          "module": "./app/client/startscreen.js",
          "moduleName": "./app/client/startscreen.js",
          "type": "cjs require",
          "userRequest": "../shared/maps",
          "loc": "18:12-37"
        }
      ],
      "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createMap = createMap;\n\nvar _gamemap = require('./gamemap');\n\nvar _gamemap2 = _interopRequireDefault(_gamemap);\n\nvar _ship = require('./ship');\n\nvar Ships = _interopRequireWildcard(_ship);\n\nvar _island = require('./island');\n\nvar Islands = _interopRequireWildcard(_island);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar maps = [{\n  width: 20,\n  height: 20,\n  ships: [{\n    team: '0',\n    x: 0,\n    y: 3\n  }, {\n    team: '1',\n    x: 17,\n    y: 17\n  }],\n  islands: [{\n    topLeft: [1, 1],\n    size: [1, 2]\n  }, {\n    topLeft: [18, 17],\n    size: [1, 2]\n  }, {\n    topLeft: [17, 3],\n    size: [1, 1]\n  }, {\n    topLeft: [3, 17],\n    size: [1, 1]\n  }]\n}, {\n  width: 30,\n  height: 30,\n  ships: [{\n    team: '0',\n    x: 1,\n    y: 3\n  }, {\n    team: '0',\n    x: 27,\n    y: 26\n  }, {\n    team: '1',\n    x: 16,\n    y: 16\n  }],\n  islands: [{\n    topLeft: [1, 1],\n    size: [2, 2]\n  }, {\n    topLeft: [13, 14],\n    size: [4, 2]\n  }, {\n    topLeft: [27, 27],\n    size: [2, 2]\n  }, {\n    topLeft: [9, 9],\n    size: [1, 1]\n  }, {\n    topLeft: [20, 20],\n    size: [1, 1]\n  }, {\n    topLeft: [27, 1],\n    size: [2, 1]\n  }, {\n    topLeft: [1, 27],\n    size: [1, 2]\n  }]\n}, {\n  width: 40,\n  height: 40,\n  ships: [{\n    team: '0',\n    x: 2,\n    y: 3\n  }, {\n    team: '1',\n    x: 37,\n    y: 36\n  }],\n  islands: [{\n    topLeft: [1, 1],\n    size: [1, 2]\n  }, {\n    topLeft: [19, 19],\n    size: [2, 2]\n  }, {\n    topLeft: [10, 10],\n    size: [1, 1]\n  }, {\n    topLeft: [29, 29],\n    size: [1, 1]\n  }, {\n    topLeft: [10, 29],\n    size: [1, 1]\n  }, {\n    topLeft: [29, 10],\n    size: [1, 1]\n  }, {\n    topLeft: [1, 38],\n    size: [2, 1]\n  }, {\n    topLeft: [38, 1],\n    size: [1, 2]\n  }, {\n    topLeft: [38, 37],\n    size: [1, 2]\n  }]\n}];\n\nvar template = {\n  hull: 'gunboat',\n  hardpoints: ['roundshot']\n};\n\nfunction createMap(mapNum) {\n  var _maps$mapNum = maps[mapNum];\n  var ships = _maps$mapNum.ships;\n  var width = _maps$mapNum.width;\n  var height = _maps$mapNum.height;\n  var islands = _maps$mapNum.islands;\n\n\n  var map = new _gamemap2.default({\n    entries: [],\n    width: width,\n    height: height\n  });\n\n  map.addEntity({\n    id: '0',\n    type: 'playerstate',\n    coins: 50,\n    targetMode: 'hull',\n    numItems: 0\n  });\n\n  map.addEntity({\n    id: '1',\n    type: 'playerstate',\n    coins: 50,\n    targetMode: 'hull',\n    numItems: 0\n  });\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = ships[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var _step$value = _step.value;\n      var team = _step$value.team;\n      var x = _step$value.x;\n      var y = _step$value.y;\n\n      Ships.createShipAndHardpoints(map, x, y, template, team);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = islands[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var island = _step2.value;\n\n      Islands.createIsland(map, island.topLeft, island.size);\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2.return) {\n        _iterator2.return();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  return map;\n}"
    },
    {
      "id": 39,
      "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/gamemap.js",
      "name": "./app/shared/gamemap.js",
      "index": 39,
      "index2": 36,
      "size": 25067,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "assets": [],
      "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/main.js",
      "profile": {
        "factory": 101,
        "building": 5972
      },
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "reasons": [
        {
          "moduleId": 0,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/main.js",
          "module": "./app/client/main.js",
          "moduleName": "./app/client/main.js",
          "type": "cjs require",
          "userRequest": "../shared/gamemap",
          "loc": "23:15-43"
        },
        {
          "moduleId": 38,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/maps.js",
          "module": "./app/shared/maps.js",
          "moduleName": "./app/shared/maps.js",
          "type": "cjs require",
          "userRequest": "./gamemap",
          "loc": "8:15-35"
        }
      ],
      "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.GUI_WIDTH = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _mine = require('./mine');\n\nvar Mines = _interopRequireWildcard(_mine);\n\nvar _shipyard = require('./shipyard');\n\nvar Shipyards = _interopRequireWildcard(_shipyard);\n\nvar _hardpoint = require('./hardpoint');\n\nvar Hardpoints = _interopRequireWildcard(_hardpoint);\n\nvar _island = require('./island');\n\nvar Islands = _interopRequireWildcard(_island);\n\nvar _ship = require('./ship');\n\nvar Ships = _interopRequireWildcard(_ship);\n\nvar _types = require('./types');\n\nvar _types2 = _interopRequireDefault(_types);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar GUI_WIDTH = exports.GUI_WIDTH = 200;\n\n/**\n * A map of the game containing islands and all current ships.\n */\n\nvar GameMap = function () {\n  function GameMap(initialState) {\n    _classCallCheck(this, GameMap);\n\n    var entries = initialState.entries;\n    var width = initialState.width;\n    var height = initialState.height;\n\n\n    this.entities = new Map();\n    this.nextEntityId = 2;\n\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = entries[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var value = _step.value;\n\n        this.addEntity(value);\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    this.width = width;\n    this.height = height;\n  }\n\n  _createClass(GameMap, [{\n    key: 'getInitialState',\n    value: function getInitialState() {\n      return {\n        entries: [].concat(_toConsumableArray(this.entities.values())),\n        width: this.width,\n        height: this.height\n      };\n    }\n  }, {\n    key: 'getStartingCoords',\n    value: function getStartingCoords(team) {\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = this.entities.values()[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var entity = _step2.value;\n\n          if (entity.type === 'ship' && entity.team === team) {\n            var pos = Ships.getPosition(entity);\n            pos.x *= 50;\n            pos.y *= 50;\n            return pos;\n          }\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n    }\n  }, {\n    key: 'updateEntity',\n    value: function updateEntity(entity) {\n      if (!this.entities.has(entity.id)) {\n        console.error('Updating an entity which does not exist: ', entity);\n      }\n\n      this.entities.set(entity.id, entity);\n    }\n  }, {\n    key: 'addEntity',\n    value: function addEntity(entity) {\n      if (this.entities.has(entity.id)) {\n        console.error('Adding an entity which already exists: ', entity);\n      }\n\n      this.entities.set(entity.id, entity);\n    }\n  }, {\n    key: 'removeEntity',\n    value: function removeEntity(entityId) {\n      if (typeof entityId !== 'string') {\n        console.error('Bad entitity id', entityId);\n      }\n      this.entities.delete(entityId);\n    }\n  }, {\n    key: 'getEntity',\n    value: function getEntity(entityId) {\n      return this.entities.get(entityId);\n    }\n  }, {\n    key: 'getNextEntityId',\n    value: function getNextEntityId() {\n      if (typeof windows !== 'undefined') {\n        console.error('You are trying to create something on the client. Do not do that.');\n      }\n\n      var id = this.nextEntityId++;\n      return '' + id;\n    }\n  }, {\n    key: 'setMode',\n    value: function setMode(mode) {\n      this.mode = mode;\n    }\n  }, {\n    key: 'getMode',\n    value: function getMode() {\n      return this.mode;\n    }\n\n    /**\n     * Render both the map and all ships on it.\n     */\n\n  }, {\n    key: 'render',\n    value: function render(context, images, selectionState, fogContext, visibleContext, team) {\n      this.renderMap(context, images, selectionState, fogContext, visibleContext, team);\n    }\n  }, {\n    key: 'renderMiniMap',\n    value: function renderMiniMap(context, images, x, y, width, height, fogContext, visibleContext, team) {\n      this.renderMap(context, images, { gui: null, map: [] }, fogContext, visibleContext, team, 5, this.width / 3);\n\n      context.globalCompositeOperation = 'multiply';\n      context.fillStyle = 'rgba(0,0,0,.5)';\n      context.fillRect(-25, -25, this.width * 50, y);\n\n      context.fillRect(-25, y - 25, x, height);\n\n      context.fillRect(-25 + x + width, y - 25, this.width * 50 - x - width, height);\n\n      context.fillRect(-25, -25 + y + height, this.width * 50, this.height * 50 - y - height);\n\n      context.globalCompositeOperation = 'source-over';\n      context.strokeStyle = 'black';\n\n      context.lineWidth = 20;\n      context.strokeRect(-25, -25, this.width * 50, this.height * 50);\n      context.lineWidth = 1;\n    }\n  }, {\n    key: 'renderStartScreenMiniMap',\n    value: function renderStartScreenMiniMap(context, images) {\n      this.renderMainMap(context, images, { gui: null, map: [] }, 5, this.width / 3);\n    }\n  }, {\n    key: 'countPlayerItems',\n    value: function countPlayerItems() {\n      var result = {\n        '0': 0,\n        '1': 0\n      };\n\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = this.entities.values()[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var entity = _step3.value;\n\n          if (entity.team != null) {\n            result[entity.team] += 1;\n          }\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3.return) {\n            _iterator3.return();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n\n      return result;\n    }\n  }, {\n    key: 'renderMap',\n    value: function renderMap(context, images, selectionState, fogContext, visibleContext, team) {\n      var gridSize = arguments.length <= 6 || arguments[6] === undefined ? 1 : arguments[6];\n      var gridWidth = arguments.length <= 7 || arguments[7] === undefined ? 1 : arguments[7];\n\n      this.renderFoggedArea(context, images, selectionState, fogContext, visibleContext, team, gridSize, gridWidth);\n      this.renderNormalArea(context, images, selectionState, fogContext, visibleContext, team, gridSize, gridWidth);\n      context.globalCompositeOperation = 'source-over';\n    }\n  }, {\n    key: 'renderFoggedArea',\n    value: function renderFoggedArea(context, images, selectionState, fogContext, visibleContext, team, gridSize, gridWidth) {\n      this.updateFogContext(fogContext, team);\n\n      visibleContext.clearRect(0, 0, this.width * 50, this.height * 50);\n      visibleContext.translate(25, 25);\n\n      visibleContext.globalCompositeOperation = 'source-over';\n      visibleContext.drawImage(fogContext.canvas, -25, -25);\n\n      visibleContext.globalCompositeOperation = 'source-atop';\n\n      visibleContext.fillStyle = 'antiquewhite';\n      visibleContext.fillRect(-25, -25, this.width * 50, this.height * 50);\n\n      visibleContext.lineWidth = gridWidth;\n\n      for (var x = 0; x < this.width; x += gridSize) {\n        for (var y = 0; y < this.height; y += gridSize) {\n          visibleContext.strokeStyle = 'lightgray';\n          visibleContext.strokeRect((x - 0.5) * 50, (y - 0.5) * 50, gridSize * 50, gridSize * 50);\n        }\n      }\n\n      visibleContext.lineWidth = 1.0;\n\n      var _iteratorNormalCompletion4 = true;\n      var _didIteratorError4 = false;\n      var _iteratorError4 = undefined;\n\n      try {\n        for (var _iterator4 = this.entities.values()[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n          var entity = _step4.value;\n\n          var type = _types2.default[entity.type];\n          if (type.render != null && entity.type === 'island') {\n            type.render(entity, this, visibleContext, images, false, true);\n          }\n        }\n      } catch (err) {\n        _didIteratorError4 = true;\n        _iteratorError4 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion4 && _iterator4.return) {\n            _iterator4.return();\n          }\n        } finally {\n          if (_didIteratorError4) {\n            throw _iteratorError4;\n          }\n        }\n      }\n\n      visibleContext.globalCompositeOperation = 'multiply';\n      visibleContext.fillStyle = 'grey';\n      visibleContext.fillRect(-25, -25, this.width * 50, this.height * 50);\n\n      visibleContext.translate(-25, -25);\n\n      context.globalCompositeOperation = 'source-over';\n      context.drawImage(visibleContext.canvas, -25, -25);\n    }\n  }, {\n    key: 'renderNormalArea',\n    value: function renderNormalArea(context, images, selectionState, fogContext, visibleContext, team, gridSize, gridWidth) {\n      visibleContext.clearRect(0, 0, this.width * 50, this.height * 50);\n      visibleContext.translate(25, 25);\n\n      visibleContext.globalCompositeOperation = 'source-over';\n\n      this.renderVisibleMask(visibleContext, team);\n\n      visibleContext.globalCompositeOperation = 'source-atop';\n\n      this.renderMainMap(visibleContext, images, selectionState, gridSize, gridWidth);\n\n      visibleContext.translate(-25, -25);\n\n      context.globalCompositeOperation = 'source-over';\n      context.drawImage(visibleContext.canvas, -25, -25);\n    }\n  }, {\n    key: 'renderVisibleMask',\n    value: function renderVisibleMask(context, team) {\n      context.fillStyle = 'red';\n      var _iteratorNormalCompletion5 = true;\n      var _didIteratorError5 = false;\n      var _iteratorError5 = undefined;\n\n      try {\n        for (var _iterator5 = this.entities.values()[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n          var entity = _step5.value;\n\n          if (entity.team === team) {\n            context.beginPath();\n            context.arc(entity.x * 50, entity.y * 50, 25 * 4, 0, Math.PI * 2, true);\n            context.fill();\n          }\n        }\n      } catch (err) {\n        _didIteratorError5 = true;\n        _iteratorError5 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion5 && _iterator5.return) {\n            _iterator5.return();\n          }\n        } finally {\n          if (_didIteratorError5) {\n            throw _iteratorError5;\n          }\n        }\n      }\n    }\n  }, {\n    key: 'renderMainMap',\n    value: function renderMainMap(context, images, selectionState, gridSize, gridWidth) {\n      context.fillStyle = 'antiquewhite';\n      context.fillRect(-25, -25, this.width * 50, this.height * 50);\n\n      for (var x = 0; x < this.width; x += gridSize) {\n        for (var y = 0; y < this.height; y += gridSize) {\n          context.strokeStyle = 'lightgray';\n          context.lineWidth = gridWidth;\n          context.strokeRect((x - 0.5) * 50, (y - 0.5) * 50, gridSize * 50, gridSize * 50);\n        }\n      }\n\n      context.lineWidth = 1.0;\n\n      var _iteratorNormalCompletion6 = true;\n      var _didIteratorError6 = false;\n      var _iteratorError6 = undefined;\n\n      try {\n        for (var _iterator6 = this.entities.values()[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n          var entity = _step6.value;\n\n          var isSelected = selectionState.map.indexOf(entity.id) !== -1;\n\n          var type = _types2.default[entity.type];\n          if (type.render != null) {\n            type.render(entity, this, context, images, isSelected);\n          }\n        }\n      } catch (err) {\n        _didIteratorError6 = true;\n        _iteratorError6 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion6 && _iterator6.return) {\n            _iterator6.return();\n          }\n        } finally {\n          if (_didIteratorError6) {\n            throw _iteratorError6;\n          }\n        }\n      }\n\n      var _iteratorNormalCompletion7 = true;\n      var _didIteratorError7 = false;\n      var _iteratorError7 = undefined;\n\n      try {\n        for (var _iterator7 = this.entities.values()[Symbol.iterator](), _step7; !(_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done); _iteratorNormalCompletion7 = true) {\n          var entity = _step7.value;\n\n          var isSelected = selectionState.map.indexOf(entity.id) !== -1;\n\n          var type = _types2.default[entity.type];\n          if (type.renderOverlay != null) {\n            type.renderOverlay(entity, this, context, images, isSelected);\n          }\n        }\n      } catch (err) {\n        _didIteratorError7 = true;\n        _iteratorError7 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion7 && _iterator7.return) {\n            _iterator7.return();\n          }\n        } finally {\n          if (_didIteratorError7) {\n            throw _iteratorError7;\n          }\n        }\n      }\n    }\n  }, {\n    key: 'updateFogContext',\n    value: function updateFogContext(fogContext, team) {\n      fogContext.translate(25, 25);\n      this.renderVisibleMask(fogContext, team);\n      fogContext.translate(-25, -25);\n    }\n\n    /**\n     * Get an item on the map at a given x y position.\n     */\n\n  }, {\n    key: 'getItem',\n    value: function getItem(x, y) {\n      var _iteratorNormalCompletion8 = true;\n      var _didIteratorError8 = false;\n      var _iteratorError8 = undefined;\n\n      try {\n        for (var _iterator8 = this.entities.values()[Symbol.iterator](), _step8; !(_iteratorNormalCompletion8 = (_step8 = _iterator8.next()).done); _iteratorNormalCompletion8 = true) {\n          var entity = _step8.value;\n\n          if (entity.type === 'ship') {\n            var distanceSquared = (entity.x - x) * (entity.x - x) + (entity.y - y) * (entity.y - y);\n            var distance = Math.sqrt(distanceSquared);\n            if (distance <= 0.5) {\n              return entity;\n            }\n          } else if (entity.type === 'shipyard' || entity.type === 'mine') {\n            if (Math.round(x) === entity.x && Math.round(y) === entity.y) {\n              return entity;\n            }\n          }\n        }\n      } catch (err) {\n        _didIteratorError8 = true;\n        _iteratorError8 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion8 && _iterator8.return) {\n            _iterator8.return();\n          }\n        } finally {\n          if (_didIteratorError8) {\n            throw _iteratorError8;\n          }\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: 'interecting',\n    value: function interecting(x1, y1, x2, y2, entity) {\n      var centerX = (x1 + x2) / 2;\n      var centerY = (y1 + y2) / 2;\n\n      var dx = x2 - x1;\n      var dy = y2 - y1;\n\n      var xDist = Math.abs(entity.x - centerX);\n      var yDist = Math.abs(entity.y - centerY);\n\n      if (xDist < dx / 2) {\n        return yDist < 0.5 + dy / 2;\n      }\n\n      if (yDist < dy / 2) {\n        return xDist < 0.5 + dx / 2;\n      }\n\n      var distanceToCorner = Math.sqrt((xDist - dx / 2) * (xDist - dx / 2) + (yDist - dy / 2) * (yDist - dy / 2));\n\n      return distanceToCorner < 0.5;\n    }\n  }, {\n    key: 'getItemsWithinRectangle',\n    value: function getItemsWithinRectangle(x1, y1, x2, y2) {\n      var result = [];\n\n      var _iteratorNormalCompletion9 = true;\n      var _didIteratorError9 = false;\n      var _iteratorError9 = undefined;\n\n      try {\n        for (var _iterator9 = this.entities.values()[Symbol.iterator](), _step9; !(_iteratorNormalCompletion9 = (_step9 = _iterator9.next()).done); _iteratorNormalCompletion9 = true) {\n          var entity = _step9.value;\n\n          if (entity.type === 'ship') {\n            if (this.interecting(x1, y1, x2, y2, entity)) {\n              result.push(entity.id);\n            }\n          }\n        }\n      } catch (err) {\n        _didIteratorError9 = true;\n        _iteratorError9 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion9 && _iterator9.return) {\n            _iterator9.return();\n          }\n        } finally {\n          if (_didIteratorError9) {\n            throw _iteratorError9;\n          }\n        }\n      }\n\n      return result;\n    }\n  }, {\n    key: 'getHardpointItem',\n    value: function getHardpointItem(x, y) {\n      var _iteratorNormalCompletion10 = true;\n      var _didIteratorError10 = false;\n      var _iteratorError10 = undefined;\n\n      try {\n        for (var _iterator10 = this.entities.values()[Symbol.iterator](), _step10; !(_iteratorNormalCompletion10 = (_step10 = _iterator10.next()).done); _iteratorNormalCompletion10 = true) {\n          var entity = _step10.value;\n\n          if (entity.type === 'hardpoint') {\n            var position = Hardpoints.getPosition(entity, this);\n            var distanceSquared = (position.x - x) * (position.x - x) + (position.y - y) * (position.y - y);\n            var distance = Math.sqrt(distanceSquared);\n            if (distance <= entity.radius) {\n              return entity;\n            }\n          }\n        }\n      } catch (err) {\n        _didIteratorError10 = true;\n        _iteratorError10 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion10 && _iterator10.return) {\n            _iterator10.return();\n          }\n        } finally {\n          if (_didIteratorError10) {\n            throw _iteratorError10;\n          }\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: 'getShipHardpointItem',\n    value: function getShipHardpointItem(enemyShipId) {\n      var _iteratorNormalCompletion11 = true;\n      var _didIteratorError11 = false;\n      var _iteratorError11 = undefined;\n\n      try {\n        for (var _iterator11 = this.entities.values()[Symbol.iterator](), _step11; !(_iteratorNormalCompletion11 = (_step11 = _iterator11.next()).done); _iteratorNormalCompletion11 = true) {\n          var entity = _step11.value;\n\n          if (entity.type === 'hardpoint') {\n            if (entity.shipId === enemyShipId) {\n              return entity;\n            }\n          }\n        }\n      } catch (err) {\n        _didIteratorError11 = true;\n        _iteratorError11 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion11 && _iterator11.return) {\n            _iterator11.return();\n          }\n        } finally {\n          if (_didIteratorError11) {\n            throw _iteratorError11;\n          }\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: 'isNextToIsland',\n    value: function isNextToIsland(islandID, x, y) {\n      var island = this.getEntity(islandID);\n      return Islands.isNextToIsland(island, x, y);\n    }\n  }, {\n    key: 'getIsland',\n    value: function getIsland(x, y) {\n      var _iteratorNormalCompletion12 = true;\n      var _didIteratorError12 = false;\n      var _iteratorError12 = undefined;\n\n      try {\n        for (var _iterator12 = this.entities.values()[Symbol.iterator](), _step12; !(_iteratorNormalCompletion12 = (_step12 = _iterator12.next()).done); _iteratorNormalCompletion12 = true) {\n          var island = _step12.value;\n\n          if (island.type === 'island' && Islands.isIsland(island, x, y)) {\n            return island;\n          }\n        }\n      } catch (err) {\n        _didIteratorError12 = true;\n        _iteratorError12 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion12 && _iterator12.return) {\n            _iterator12.return();\n          }\n        } finally {\n          if (_didIteratorError12) {\n            throw _iteratorError12;\n          }\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: 'getShipBuildCoords',\n    value: function getShipBuildCoords(islandID) {\n      for (var x = 0; x < this.width; x++) {\n        for (var y = 0; y < this.height; y++) {\n          if (this.isNextToIsland(islandID, x, y)) {\n            var flag = true;\n            var _iteratorNormalCompletion13 = true;\n            var _didIteratorError13 = false;\n            var _iteratorError13 = undefined;\n\n            try {\n              for (var _iterator13 = this.entities.values()[Symbol.iterator](), _step13; !(_iteratorNormalCompletion13 = (_step13 = _iterator13.next()).done); _iteratorNormalCompletion13 = true) {\n                var entity = _step13.value;\n\n                if (entity.x === x && entity.y === y) {\n                  flag = false;\n                }\n              }\n            } catch (err) {\n              _didIteratorError13 = true;\n              _iteratorError13 = err;\n            } finally {\n              try {\n                if (!_iteratorNormalCompletion13 && _iterator13.return) {\n                  _iterator13.return();\n                }\n              } finally {\n                if (_didIteratorError13) {\n                  throw _iteratorError13;\n                }\n              }\n            }\n\n            if (flag) {\n              return { x: x, y: y };\n            }\n          }\n        }\n      }\n\n      return { x: null, y: null };\n    }\n  }, {\n    key: 'addBuilding',\n    value: function addBuilding(type, x, y, islandID, team) {\n      switch (type) {\n        case 'mine':\n          Mines.createMine(this, x, y, islandID, team);\n          break;\n        case 'shipyard':\n          Shipyards.createShipyard(this, x, y, islandID, team);\n          break;\n        default:\n          console.error('Unexpected building type: ', type);\n      }\n    }\n  }, {\n    key: 'getShips',\n    value: function getShips() {\n      return [].concat(_toConsumableArray(this.entities.values())).filter(function (a) {\n        return a.type === 'ship';\n      });\n    }\n  }, {\n    key: 'getIslands',\n    value: function getIslands() {\n      return [].concat(_toConsumableArray(this.entities.values())).filter(function (a) {\n        return a.type === 'island';\n      });\n    }\n\n    /**\n     * Update the map and get the corresponding update messages.\n     */\n\n  }, {\n    key: 'processUpdate',\n    value: function processUpdate() {\n      var _iteratorNormalCompletion14 = true;\n      var _didIteratorError14 = false;\n      var _iteratorError14 = undefined;\n\n      try {\n        for (var _iterator14 = this.entities.values()[Symbol.iterator](), _step14; !(_iteratorNormalCompletion14 = (_step14 = _iterator14.next()).done); _iteratorNormalCompletion14 = true) {\n          var entity = _step14.value;\n\n          var type = _types2.default[entity.type];\n          if (type == null) {\n            console.log(entity.type);\n          }\n          if (type.processUpdate != null) {\n            type.processUpdate(entity, this);\n          }\n        }\n      } catch (err) {\n        _didIteratorError14 = true;\n        _iteratorError14 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion14 && _iterator14.return) {\n            _iterator14.return();\n          }\n        } finally {\n          if (_didIteratorError14) {\n            throw _iteratorError14;\n          }\n        }\n      }\n    }\n  }]);\n\n  return GameMap;\n}();\n\nexports.default = GameMap;"
    },
    {
      "id": 40,
      "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/endscreen.js",
      "name": "./app/client/endscreen.js",
      "index": 40,
      "index2": 40,
      "size": 4378,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "assets": [],
      "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/main.js",
      "profile": {
        "factory": 100,
        "building": 3736
      },
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "reasons": [
        {
          "moduleId": 0,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/main.js",
          "module": "./app/client/main.js",
          "moduleName": "./app/client/main.js",
          "type": "cjs require",
          "userRequest": "./endscreen",
          "loc": "19:17-39"
        }
      ],
      "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _restart = require('../shared/guibuttons/restart');\n\nvar _restart2 = _interopRequireDefault(_restart);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar EndScreen = function () {\n  function EndScreen(images, winningTeam, team) {\n    _classCallCheck(this, EndScreen);\n\n    this.canvas = document.getElementById('canvas');\n    this.context = this.canvas.getContext('2d');\n\n    this.width = this.canvas.width;\n    this.height = this.canvas.height;\n\n    this.images = images;\n\n    this.winningTeam = winningTeam;\n    this.team = team;\n\n    this.buttons = [];\n    this.buttons.push(new _restart2.default('restart', 530, 300, 102, 26, 0));\n  }\n\n  _createClass(EndScreen, [{\n    key: 'render',\n    value: function render() {\n      this.context.clearRect(0, 0, this.width, this.height);\n\n      this.context.fillStyle = 'linen';\n      this.context.fillRect(0, 0, this.width, this.height);\n\n      if (this.winningTeam === '1') {\n        this.context.drawImage(this.images.piratesWinTag, 0, 0);\n      } else if (this.winningTeam === '0') {\n        this.context.drawImage(this.images.imperialsWinTag, 0, 0);\n      }\n\n      this.context.font = '50px Perpetua';\n      this.context.fillStyle = 'black';\n      if (this.team === this.winningTeam) {\n        this.context.fillText('You Win!', 500, 200);\n      } else {\n        this.context.fillText('You Lose!', 500, 200);\n      }\n\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.buttons[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var button = _step.value;\n\n          button.render(this.context, this.images);\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    }\n  }, {\n    key: 'getRawMouseCords',\n    value: function getRawMouseCords(event) {\n      var rect = this.canvas.getBoundingClientRect();\n      return {\n        rawX: event.clientX - rect.left,\n        rawY: event.clientY - rect.top\n      };\n    }\n  }, {\n    key: 'mousedown',\n    value: function mousedown(event) {\n      var _getRawMouseCords = this.getRawMouseCords(event);\n\n      var rawX = _getRawMouseCords.rawX;\n      var rawY = _getRawMouseCords.rawY;\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n\n        for (var _iterator2 = this.buttons[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var button = _step2.value;\n\n          if (button.isOver(rawX, rawY)) {\n            if (button.getType() === 'restart') {\n              return 'start';\n            }\n          }\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      return 'end';\n    }\n  }]);\n\n  return EndScreen;\n}();\n\nexports.default = EndScreen;"
    },
    {
      "id": 41,
      "identifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/shared/guibuttons/restart.js",
      "name": "./app/shared/guibuttons/restart.js",
      "index": 41,
      "index2": 39,
      "size": 2230,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "assets": [],
      "issuer": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/endscreen.js",
      "profile": {
        "factory": 2670,
        "building": 2532,
        "dependencies": 3442
      },
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "reasons": [
        {
          "moduleId": 40,
          "moduleIdentifier": "/home/ethan/460/node_modules/babel-loader/index.js!/home/ethan/460/app/client/endscreen.js",
          "module": "./app/client/endscreen.js",
          "moduleName": "./app/client/endscreen.js",
          "type": "cjs require",
          "userRequest": "../shared/guibuttons/restart",
          "loc": "9:15-54"
        }
      ],
      "source": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _guibutton = require('../guibutton');\n\nvar _guibutton2 = _interopRequireDefault(_guibutton);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Restart = function (_GuiButton) {\n  _inherits(Restart, _GuiButton);\n\n  function Restart() {\n    _classCallCheck(this, Restart);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Restart).apply(this, arguments));\n  }\n\n  _createClass(Restart, [{\n    key: 'render',\n    value: function render(context, images) {\n      context.drawImage(images.restart, this.x, this.y, this.width, this.height);\n    }\n  }]);\n\n  return Restart;\n}(_guibutton2.default);\n\nexports.default = Restart;"
    }
  ],
  "filteredModules": 0,
  "children": []
}
